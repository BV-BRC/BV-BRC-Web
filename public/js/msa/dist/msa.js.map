{"version":3,"sources":["webpack:///dist/msa.js","webpack:///webpack/bootstrap f3f4a7b41fb26ac0ec31","webpack:///./src/index_webpack.js","webpack:///./~/underscore/underscore-umd.js","webpack:///./~/backbone-thin/index.js","webpack:///./~/backbone-viewj/index.js","webpack:///./src/menu/menubuilder.js","webpack:///./~/backbone-childs/index.js","webpack:///./~/dom-helper/index.js","webpack:///./~/jbone/dist/jbone.js","webpack:///./src/g/selection/Selection.js","webpack:///./src/g/selection/SelectionCol.js","webpack:///./src/utils/svg.js","webpack:///./~/backbone-events-standalone/index.js","webpack:///./src/utils/bmath.js","webpack:///./src/utils/export.js","webpack:///./src/utils/file.js","webpack:///./src/utils/loader.js","webpack:///./src/utils/proxy.js","webpack:///./~/backbone-extend-standalone/backbone-extend-standalone.js","webpack:///./~/biojs-events/index.js","webpack:///./~/biojs-io-fasta/lib/index.js","webpack:///./~/koala-js/index.js","webpack:///./~/xhr/index.js","webpack:///./src/g/colorscheme.js","webpack:///./src/g/columns.js","webpack:///./src/g/config.js","webpack:///./src/g/package.js","webpack:///./src/g/user.js","webpack:///./src/g/visOrdering.js","webpack:///./src/g/visibility.js","webpack:///./src/g/zoomer.js","webpack:///./src/model/Feature.js","webpack:///./src/model/FeatureCol.js","webpack:///./src/model/SeqCollection.js","webpack:///./src/model/Sequence.js","webpack:///./src/utils/index.js","webpack:///./src/utils/seqgen.js","webpack:///./src/utils/tree.js","webpack:///./~/biojs-io-gff/lib/index.js","webpack:///./~/biojs-io-parser/lib/index.js","webpack:///./~/msa-seqtools/lib/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/g/selection/index.js","webpack:///./src/model/index.js","webpack:///./~/backbone-thin/model.js","webpack:///./~/biojs-io-clustal/lib/index.js","webpack:///./~/biojs-io-gff/lib/utils.js","webpack:///./~/biojs-vis-seqlogo/src/render/draw/border.js","webpack:///./~/biojs-vis-seqlogo/src/render/draw/column_number.js","webpack:///./~/biojs-vis-seqlogo/src/render/draw/ticks.js","webpack:///./~/mouse-pos/index.js","webpack:///./~/parse-headers/parse-headers.js","webpack:///./~/process/browser.js","webpack:///./~/stat.seqs/lib/index.js","webpack:///./src/index.js","webpack:///./src/menu/defaultmenu.js","webpack:///./src/menu/index.js","webpack:///./src/menu/settings.js","webpack:///./src/menu/views/ColorMenu.js","webpack:///./src/menu/views/DebugMenu.js","webpack:///./src/menu/views/ExportMenu.js","webpack:///./src/menu/views/ExtraMenu.js","webpack:///./src/menu/views/FilterMenu.js","webpack:///./src/menu/views/HelpMenu.js","webpack:///./src/menu/views/ImportMenu.js","webpack:///./src/menu/views/OrderingMenu.js","webpack:///./src/menu/views/SelectionMenu.js","webpack:///./src/menu/views/VisMenu.js","webpack:///./src/msa.js","webpack:///./src/views/AlignmentBody.js","webpack:///./src/views/OverviewBox.js","webpack:///./src/views/Search.js","webpack:///./src/views/Stage.js","webpack:///./src/views/canvas/CanvasCharCache.js","webpack:///./src/views/canvas/CanvasCoordsCache.js","webpack:///./src/views/canvas/CanvasSelection.js","webpack:///./src/views/canvas/CanvasSeqBlock.js","webpack:///./src/views/canvas/CanvasSeqDrawer.js","webpack:///./src/views/header/ConservationView.js","webpack:///./src/views/header/GapView.js","webpack:///./src/views/header/HeaderBlock.js","webpack:///./src/views/header/LabelHeader.js","webpack:///./src/views/header/MarkerView.js","webpack:///./src/views/header/RightHeaderBlock.js","webpack:///./src/views/header/SeqLogoWrapper.js","webpack:///./src/views/labels/LabelBlock.js","webpack:///./src/views/labels/LabelRowView.js","webpack:///./src/views/labels/LabelView.js","webpack:///./src/views/labels/MetaView.js","webpack:///./~/backbone-events-standalone/backbone-events-standalone.js","webpack:///./~/backbone-thin/collection.js","webpack:///./~/biojs-io-fasta/lib/extend.js","webpack:///./~/biojs-io-fasta/lib/fasta.js","webpack:///./~/biojs-io-gff/lib/jalview.js","webpack:///./~/biojs-io-parser/~/xhr/index.js","webpack:///./~/biojs-model/src/index.js","webpack:///./~/biojs-model/src/seq.js","webpack:///./~/biojs-vis-seqlogo/light.js","webpack:///./~/biojs-vis-seqlogo/src/axis.js","webpack:///./~/biojs-vis-seqlogo/src/canvasSupport.js","webpack:///./~/biojs-vis-seqlogo/src/colors/aa.js","webpack:///./~/biojs-vis-seqlogo/src/colors/dna.js","webpack:///./~/biojs-vis-seqlogo/src/eventListener.js","webpack:///./~/biojs-vis-seqlogo/src/index.js","webpack:///./~/biojs-vis-seqlogo/src/info/settings.js","webpack:///./~/biojs-vis-seqlogo/src/model/letter.js","webpack:///./~/biojs-vis-seqlogo/src/render/render.js","webpack:///./~/biojs-vis-seqlogo/src/render/render_with_rects.js","webpack:///./~/biojs-vis-seqlogo/src/render/render_with_text.js","webpack:///./~/blueimp_canvastoblob/index.js","webpack:///./~/browser-saveas/index.js","webpack:///./css/msa.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/global/window.js","webpack:///./~/is-function/index.js","webpack:///./~/menu-builder/index.js","webpack:///./~/menu-builder/lib/menubuilder.js","webpack:///./~/msa-colorschemes/src/buried.js","webpack:///./~/msa-colorschemes/src/cinema.js","webpack:///./~/msa-colorschemes/src/clustal.js","webpack:///./~/msa-colorschemes/src/clustal2.js","webpack:///./~/msa-colorschemes/src/helix.js","webpack:///./~/msa-colorschemes/src/hydrophobicity.js","webpack:///./~/msa-colorschemes/src/index.js","webpack:///./~/msa-colorschemes/src/lesk.js","webpack:///./~/msa-colorschemes/src/mae.js","webpack:///./~/msa-colorschemes/src/nucleotide.js","webpack:///./~/msa-colorschemes/src/pid_colors.js","webpack:///./~/msa-colorschemes/src/purine.js","webpack:///./~/msa-colorschemes/src/schemeclass.js","webpack:///./~/msa-colorschemes/src/strand.js","webpack:///./~/msa-colorschemes/src/taylor.js","webpack:///./~/msa-colorschemes/src/turn.js","webpack:///./~/msa-colorschemes/src/zappo.js","webpack:///./~/node-libs-browser/~/timers-browserify/main.js","webpack:///./~/setimmediate/setImmediate.js","webpack:///./~/style-loader/addStyles.js","webpack:///./css/msa.css?d50c","webpack:///./~/vow/lib/vow.js","webpack:///./~/xhr/~/global/window.js","webpack:///./~/xhr/~/once/once.js","webpack:///./~/xtend/immutable.js","webpack:///./src/g ^\\.\\/.*$","webpack:///./src/utils ^\\.\\/.*$"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","global","factory","this","restArguments","func","startIndex","length","Math","max","arguments","rest","Array","index","args","apply","isObject","obj","type","isNull","isUndefined","isBoolean","toString","isElement","nodeType","tagTester","name","tag","ie10IsDataView","isFunction$1","getInt8","isArrayBuffer","buffer","has$1","key","hasOwnProperty","isFinite$1","isSymbol","_isFinite","isNaN","parseFloat","isNaN$1","isNumber","_isNaN","constant","value","createSizePropertyCheck","getSizeProperty","collection","sizeProperty","MAX_ARRAY_INDEX","shallowProperty","isTypedArray","nativeIsView","isDataView$1","isBufferLike","typedArrayPattern","test","emulatedSet","keys","hash","l","i","contains","push","collectNonEnumProps","nonEnumIdx","nonEnumerableProps","constructor","proto","prototype","ObjProto","prop","nativeKeys","hasEnumBug","isEmpty","getLength","isArray","isString","isArguments$1","isMatch","object","attrs","_keys","Object","_$1","_wrapped","toBufferView","bufferSource","Uint8Array","byteOffset","getByteLength","eq","a","b","aStack","bStack","deepEq","className","hasStringTagBug","tagDataView","SymbolProto","valueOf","areArrays","isTypedArray$1","byteLength","aCtor","bCtor","pop","isEqual","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","values","pairs","invert","result","functions","names","sort","createAssigner","keysFunc","defaults","source","ctor","baseCreate","nativeCreate","Ctor","create","props","extendOwn","clone","slice","extend","tap","interceptor","toPath$1","path","toPath","deepGet","get","defaultValue","has","identity","matcher","property","optimizeCb","context","argCount","accumulator","baseIteratee","iteratee","Infinity","cb","mapObject","results","currentKey","noop","propertyOf","times","n","accum","random","min","floor","createEscaper","map","escaper","match","join","testRegexp","RegExp","replaceRegexp","string","replace","escapeChar","escapes","template","text","settings","oldSettings","templateSettings","escape","noMatch","interpolate","evaluate","offset","escapeRegExp","argument","variable","bareIdentifier","Error","render","Function","e","data","fallback","uniqueId","prefix","idCounter","chain","instance","_chain","executeBound","sourceFunc","boundFunc","callingContext","self","flatten$1","input","depth","strict","output","concat","idx","isArrayLike","j","len","memoize","hasher","cache","address","throttle","wait","options","timeout","previous","later","leading","now","throttled","_now","remaining","clearTimeout","trailing","setTimeout","cancel","debounce","immediate","passed","debounced","_args","wrap","wrapper","partial","negate","predicate","compose","start","after","before","memo","findKey","createPredicateIndexFinder","dir","array","sortedIndex","low","high","mid","createIndexFinder","predicateFind","item","find","keyFinder","findIndex","findWhere","each","createReduce","reducer","initial","filter","list","reject","every","some","fromIndex","guard","indexOf","pluck","where","computed","lastComputed","v","sample","last","rand","temp","shuffle","sortBy","criteria","left","right","group","behavior","partition","toArray","reStrSymbol","size","keyInObj","first","compact","Boolean","flatten","uniq","isSorted","seen","intersection","argsLength","unzip","range","stop","step","ceil","chunk","count","chainResult","mixin","VERSION","root","ArrayProto","Symbol","supportsArrayBuffer","ArrayBuffer","supportsDataView","DataView","nativeIsArray","isView","isFinite","propertyIsEnumerable","pow","isDate","isRegExp","isError","isFunction","nodelist","document","childNodes","Int8Array","hasObjectTag","isIE11","Map","isDataView","isArguments","toJSON","String","hasName","commonInit","mapTail","mapMethods","setMethods","isMap","isWeakMap","isSet","isWeakSet","Date","getTime","escapeMap","&","<",">","\"","'","`","_escape","unescapeMap","_unescape","\\","\r","\n"," "," ","boundArgs","placeholder","bound","position","bind","TypeError","callArgs","bindAll","delay","defer","once","findLastIndex","lastIndexOf","reduce","reduceRight","invoke","contextPath","method","groupBy","indexBy","countBy","pass","pick","omit","difference","without","otherArrays","union","arrays","zip","allExports","__proto__","assign","matches","unescape","detect","forEach","collect","foldl","inject","foldr","select","all","any","includes","include","head","take","tail","drop","unique","transpose","default","_","Model","Collection","Events","$","View","cid","viewOptions","_ensureElement","initialize","delegateEventSplitter","tagName","selector","$el","remove","_removeElement","stopListening","setElement","element","undelegateEvents","_setElement","delegateEvents","el","events","delegate","eventName","listener","on","off","undelegate","_createElement","createElement","_setAttributes","attributes","attr","MenuBuilder","builder","buildDOM","buildNode","buildButton","buildMenu","li","g","style","lineHeight","menuconfig","btn","fontSize","marginLeft","padding","menu","removeToInsertLater","parentNode","nextSibling","removeChild","insertBefore","appendChild","pluginator","viewType","removeChilds","node","lastChild","renderSubviews","oldEl","elOnDom","undefined","insert","view","frag","createDocumentFragment","views","_views","viewsSorted","ordering","addView","removeViews","unbind","removeView","getView","Utils","removeAllChilds","firstChild","__WEBPACK_AMD_DEFINE_RESULT__","win","isArraylike","BoneEvent","setter","originalEvent","defaultPrevented","immediatePropagationStopped","jBone","isImmediatePropagationStopped","fn","_$","_jBone","rquickSingleTag","rquickExpr","splice","doc","init","noConflict","elements","wraper","fragment","exec","innerHTML","merge","querySelectorAll","makeArray","reverse","shift","unshift","setId","jid","_cache","getData","HTMLElement","pushStack","elems","ret","second","container","contained","target","tg","arr","Event","event","namespace","eventType","split","createEvent","initEvent","isDefaultPrevented","add","types","handler","t","eventHandler","dispatch","addEventListener","originfn","eventsByType","removeListener","callback","removeEventListener","trigger","dispatchEvent","expectedTarget","eventOptions","handlers","handlerQueue","targets","currentTarget","one","addListener","oneArgs","finder","found","parent","parentElement","is","toLowerCase","getAttribute","setAttribute","removeAttr","removeAttribute","val","css","getComputedStyle","setValue","jdata","dataset","getValue","removeData","addClass","classes","trim","classList","removeClass","toggleClass","force","hasClass","html","empty","append","appended","createTextNode","cloneNode","appendTo","to","window","Selection","RowSelection","seqId","inRow","inColumn","rowPos","ColumnSelection","xStart","xEnd","PosSelection","sel","possel","rowsel","columnsel","SelectionManager","model","opts","listenTo","_handleE","evt","stepSize","getSelForRow","getSelForColumns","addJSON","_fromJSON","resetJSON","reset","getBlocksForRow","maxLen","seli","selis","blocks","i1","getAllColumnBlocks","conf","withPos","filtered","invertRow","rows","selRows","inverted","s","invertCol","columns","selColumns","selection","ctrlKey","metaKey","_reduceColumns","cols","lefts","set","rights","console","log","svgns","setAttr","setAttributeNS","Base","svg","createElementNS","width","height","Rect","rect","Line","line","Polygon","polygon","base","_classCallCheck","Constructor","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","BMath","lower","upper","_ref","_ref2","substr","Exporter","Fasta","GFF","xhr","blobURL","saveAs","openInJalview","url","colorscheme","charAt","URL","host","location","hostname","encodeURIComponent","jalviewUrl","open","publishWeb","that","write","seqs","body","uri","headers","Content-Type","err","rep","link","shareLink","config","msaURL","fCB","fURL","saveAsFile","blob","Blob","saveSelection","selcol","end","warn","saveAnnots","features","seqname","exportLines","saveAsImg","canvas","toDataURL","FileHelper","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","iterator","next","done","FastaReader","ClustalReader","GffReader","msa","funs","guessFileType","fileName","guessFileFromText","substring","reader","parseText","_guessFileFromText","_guessFileFromText2","parse","parseSeqs","importFiles","files","_this","file","FileReader","onload","importFile","readAsText","_this2","_parseText","_parseText2","objs","addFeatures","u","tree","loadTree","showTree","importURL","_this3","proxy","corsURL","status","res","loader","k","loadScript","mk","src","async","onreadystatechange","r","readyState","getElementsByTagName","joinCb","retCb","finalLength","finalScope","cbsFinished","callbackWrapper","scope","counter","ref","ProxyHelper","proxyFun","definition","child","Surrogate","__super__","onAll","oldMixin","GenericReader","koalajs","d","defValue","getElementById","createXHR","readystatechange","load","getBody","response","responseType","responseText","responseXML","isJson","JSON","getStatusCode","errorFromStatusCode","error","message","messages","statusCode","loadResponse","statusText","raw","getAllResponseHeaders","parseHeaders","loadXhr","cors","useXDR","XDR","XHR","sync","stringify","json","onerror","onprogress","ontimeout","withCredentials","setRequestHeader","beforeSend","send","0","4","5","XMLHttpRequest","XDomainRequest","Colorscheme","Colors","scheme","colorBackground","showLowerCase","opacity","stat","colors","conservation","scale","getSelectedScheme","addStaticScheme","dict","addDynScheme","fun","getScheme","Columns","o","stats","calcHiddenColumns","hidden","newX","Config","registerMouseHover","registerMouseClicks","importProxy","importProxyStripHttp","eventBus","alphabetSize","dropImport","debug","hasRef","bootstrapMenu","manualRendering","Package","Loader","development","msa-tnt","biojs-io-newick","loadPackage","pkg","_pkgURL","loadPackages","pkgs","cbs","searchText","Visibility","searchBox","overviewBox","headerBox","alignmentBody","sequences","markers","metacell","conserv","overviewbox","seqlogo","gapHeader","leftHeader","labels","labelName","labelId","labelPartition","labelCheckbox","metaGaps","metaIdentity","metaLinks","calcDefaults","seq","at","ids","Zoomer","getLabelWidth","getMetaWidth","alignmentWidth","alignmentHeight","columnWidth","rowHeight","autoResize","textVisible","labelIdLength","labelNameLength","labelPartLength","labelCheckLength","labelFontsize","labelLineHeight","markerFontsize","markerStepSize","markerHeight","residueFont","canvasEventScale","boxRectHeight","boxRectWidth","overviewboxPaddingTop","metaGapWidth","metaIdentWidth","_alignmentScrollLeft","_alignmentScrollTop","getMaxLength","getAlignmentWidth","_adjustWidth","setLeftOffset","setTopOffset","getLeftBlockWidth","paddingLeft","vis","offsetWidth","parentWidth","clientWidth","maxWidth","calcWidth","autoHeight","getMaxAlignmentHeight","setEl","_checkScrolling","scrollObj","xScroll","yScroll","getMaxAlignmentWidth","Feature","fillColor","fillOpacity","borderSize","borderColor","borderOpacity","validate","row","Name","Color","parseInt","FeatureCol","startOnCache","startOn","getFeatureOnRow","x","assignRows","getCurrentHeight","getMinRows","SeqManager","Sequence","lengthCache","_bindSeqsWithFeatures","_autoSetRefSeq","models","prev","endless","calcHiddenSeqs","nNew","feature","_bindSeqWithFeatures","removeAllFeatures","setRef","bmath","seqgen","export","Stat","_generateSequence","getRandomChar","getDummySequences","seqLen","getRandomInt","possible","genConservedSequences","tolerance","conservAim","observed","end1","cConserv","addSeq","abs","pseqs","treeHelper","tf","package","newickStr","newick","require","newickObj","parse_newick","mt","selections","treeDiv","nodes","app","adapters","setPrototypeOf","_require","_x","parser","gff","utils","jalview","parseLines","lines","_guessType","readHeader","parseLine","entry","tLine","score","strand","frame","extractKeys","exportLine","cells","exportSeqs","pLine","vow","read","onret","_onRetrieval","prom","resolve","promise","rText","statics","st","getMeta","label","description","full_id","full_desc","details","label_parts","id_parts","en","db","kv_parts","current_key","next_key","value_and_maybe_next_key","value_parts","meta","desc","identDB","sp","tr","gb","pdb","buildLinks","links","search","splitNChars","txt","num","complement","newSeq","replacements","reverseComplement","webpackPolyfill","deprecate","paths","children","seqcol","featurecol","changed","validationError","idAttribute","Backbone","unset","changes","silent","changing","current","_validate","_changing","_previousAttributes","_pending","clear","hasChanged","changedAttributes","diff","old","previousAttributes","fetch","success","resp","wrapError","save","serverAttrs","isNew","patch","destroy","urlError","isValid","modelMethods","Clustal","blockstate","cSeq","regex","seqCounter","sequence","componentToHex","hex","attrArr","keyArr","rgbToHex","y","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","col_width","col_num","fontsize","font","textAlign","fillStyle","fillText","color","Mouse","rel","mouseX","mouseY","offsetX","offsetY","getBoundingClientRect","srcElement","clientX","clientY","top","pageX","offsetLeft","pageY","offsetTop","layerX","layerY","wheelDelta","delta","deltaX","deltaY","mozMovementX","arg","headersArr","defaultSetTimout","defaultClearTimeout","runTimeout","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","run","Item","process","nextTick","title","browser","env","argv","version","versions","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","resetSeqs","_useBackground","useGaps","ignoredChars","_reset","removeSeq","addSeqs","mseqs","mSeqsPluck","seqArr","calcValues","_identity","_background","setBackground","useBackground","setDNA","setProtein","ident","identityCalc","background","bg","backgroundCalc","frequencyCalc","occs","totalPerPos","maxLength","pos","_frequency","occ","total","mapValues","icCalc","f","frequency","ic","_ic","gaps","icMax","conservResidue","scaled","conservResidue2","sum","maxLengthCalc","consensusCalc","_consensus","compareSeq","consensus","gapsCalc","mLength","_gaps","f_val","MSA","boneView","io","fasta","clustal","MenuView","ImportMenu","FilterMenu","SelectionMenu","VisMenu","ColorMenu","OrderingMenu","ExtraMenu","ExportMenu","HelpMenu","DebugMenu","MenuSettings","defaultmenu","menubuilder","small","menuFontsize","menuItemFontsize","menuItemLineHeight","menuMarginLeft","menuPadding","dom","display","menuColor","setName","removeAllNodes","colorschemes","getColorschemes","addScheme","grey","backgroundColor","addNode","schemes","zoomer","writer","alert","Seq","con","comparator","nColumnWidth","nFontSize","prompt","threshold","hiddenOld","gapContent","uploader","multiple","filetypes","click","order","setOrder","comps","getComparators","_addNode","precode","localeCompare","numeric","setIdent","setGaps","user","visEl","visElements","getVisElements","_addVisEl","pre","SeqCollection","Colorator","SelCol","User","VisOrdering","Eventhandler","Stage","Stats","TreeHelper","visorder","_loadSeqs","startEventBus","dragover","dragOver","dropFile","menuConfig","draw","pureSeq","menuDiv","wrapperDiv","replaceChild","bootstrapOpts","defMenu","preventDefault","dataTransfer","busObjs","_proxyToG","SeqBlock","LabelBlock","labelblock","seqblock","adjustHeight","adjustWidth","whiteSpace","getWidth","OverviewBox","mouse","jbone","rerender","dragStart","mousedown","_createCanvas","textContent","marginTop","ctx","fillRect","rectWidth","rectHeight","toUpperCase","getColor","_drawSelection","prolongSelection","maxHeight","globalAlpha","_onclick","_onmousemove","_calcSelection","stopPropagation","_onmousedown","dragStartRel","_onmouseup","dragMove","dragRel","_endSelection","dragEnd","_onmouseout","getContext","overflow","cursor","selPos","scroll","resultBox","updateResult","buildBtns","prevBtn","moveSel","nextBtn","allBtn","searchrow","relDist","selNew","focus","leftIndex","origIndex","newSeli","leftestIndex","strSeq","AlignmentBody","HeaderBlock","Search","headerblock","searchblock","CanvasCharCache","cacheHeight","cacheWidth","letter","createTile","textBaseline","cacheConstructor","setMaxScrollHeight","maxScrollHeight","setMaxScrollWidth","maxScrollWidth","SelectionClass","_getSelection","sels","_appendSelection","_getPrevNextSelection","_getPrevNextSelection2","mPrevSel","mNextSel","hiddenOffset","_renderSelection","xZero","yZero","selectionLength","boxWidth","boxHeight","totalWidth","beforeWidth","beforeStyle","xPart","xPos","modelPrev","modelNext","CharCache","CanvasSeqDrawer","CanvasCoordsCache","origin","overflowX","overflowY","coordsCache","_setColor","throttleTime","throttleCounts","documentElement","webkitAppearance","throttledDraw","tTime","manageEvents","touchstart","dblclick","mousein","mouseout","mousewheel","DOMMouseScroll","seqDrawer","drawLetters","drawRows","drawFeatures","header","reversed","relEnd","scaleFactor","dragStartScroll","round","scrollCorrected","_ontouchmove","changedTouches","_cleanup","_ontouchstart","_touchCleanup","_onmousewinout","toElement","_onmousewheel","_getClickPos","_onmousein","coords","_seqDrawer$_getSeqFor","_getSeqForYClick","_seqDrawer$_getSeqFor2","rowNumber","construc","drawer","drawSeqs","drawSeq","_drawRect","_drawLetter","_getStartSeq","getStartSeq","_getStartSeq2","yPos","seqHeight","drawRow","_getStartSeq3","_getStartSeq4","yDiff","yRel","clickedRows","elWidth","drawImage","getFontTile","ConservationView","nMax","cellWidth","avgHeight","LabelHeader","RightLabelHeader","lHeader","rHeader","labelDOM","metaDOM","labelHeader","addEl","content","metaHeader","HeaderView","markerHidden","span","prevHidden","triangle","points","MarkerView","SeqLogoWrapper","GapView","blockEvents","_setSpacer","_setWidth","_adjustScrollingLeft","gapview","_sendScrollEvent","scrollLeft","_getLabelWidth","SeqLogoView","changeColors","column_width","alphabet","heightArr","yaxis","scroller","xaxis","positionMarker","zoom","LabelRowView","_adjustScrollingTop","_setHeight","scrollTop","verticalAlign","LabelView","MetaView","drawR","setSelection","fontWeight","checkBox","part","paddingRight","toFixed","gapSpan","identSpan","linkEl","miniscore","nativeForEach","ran","eventsApi","_events","_callback","retain","ev","allEvents","triggerEvents","_listeners","deleteListener","_listenerId","eventSplitter","action","a1","a2","a3","listenMethods","listenToOnce","implementation","BackboneEvents","setOptions","addOptions","singular","modelId","_byId","_removeReference","existing","sortable","sortAttr","toAdd","toRemove","modelMap","_isModel","_prepareModel","_addReference","orderedModels","addOpts","previousModels","_onModelEvent","prevId","attributeMethods","out","_j","_len","_ref1","metaParser","customFasta","currentSeq","access","currentGroup","firstCell","parseColor","Parent","cell","forEachArray","initParams","params","xtend","_createXHR","loadFunc","getXml","errorFunc","timeoutTimer","failureResponse","aborted","rawRequest","called","onabort","username","password","abort","code","firefoxBugTakenEffect","nodeName","render_x_axis_label","display_ali_map","called_on","prepend","render_y_axis_label","dom_element","max_height","min_height_obs","axis_label","info_content_height","height_calc","translate","rotate","PI","restore","show_inserts","canv_support","elem","A","C","D","E","F","G","H","I","K","L","M","N","P","Q","R","S","T","V","W","Y","U","logo","logo_graphic","toggle","changeZoom","default_zoom","distance","direction","toggleScale","toggleColorscheme","toggleAliMap","scrollToColumn","window_position","col","columnFromCoordinates","column","which","canvasSupport","Letter","axis","eventListener","scale_height_enabled","scaled_max","zoom_buttons","divider","show_probs","divider_step","show_divider","border","loadDefault","canvas_width","scrollme","previous_target","rendered","previous_zoom","calcMaxHeight","insert_probs","delete_probs","max_height_obs","max_height_theory","aa_colors","dna_colors","opt","processing","initDivs","form","bUseColorObject","buildAlphabet","letters","tColors","loptions","col_total","currentColumn","reflow","logoYAxis","before_left","getValues","col_count","half_visible_columns","zoom_level","expected_width","coordinatesFromColumn","scrollTo","new_column","animate","half_view","logo_container","new_left","obs_checked","theory_checked","theory_help","obs_help","scale_controls","probs_arr","def_color","con_color","def_help","con_help","help","color_controls","ali_map","mod_checked","ali_checked","mod_help","ali_help","ali_controls","controls","zoom_enabled","ext_ctx","target_height","target_width","h_ratio","w_ratio","prev_font","transform","setTransform","attach_canvas","DOMid","canv_width","renderWithText","renderWithRect","parent_width","max_canvas_width","max_width","zoomed_column","total_width","canvas_count","columns_per_canvas","canvases","contexts","split_start","split_end","adjusted_width","canv_start","canv_end","clearRect","EasyScroller","scrollingX","scrollingY","eventTarget","draw_small_insert","in_odds","in_length","del_odds","fill","draw_border","draw_ticks","draw_column_number","context_num","borders","column_num","column_label","top_height","bottom_height","total_height","top_percentage","top_pix_height","mod","mmline","previous_height","letter_height","x_pos","glyph_height","y_pos","cmap","strokeRect","insert_lengths","draw_delete_odds","textfill","draw_rect_with_text","draw_column_divider","inst","div_x","ralign","num_x","draw_insert_odds","draw_insert_length","bottom_pix_height","col_positions","CanvasPrototype","HTMLCanvasElement","hasBlobConstructor","hasArrayBufferViewSupport","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURLtoBlob","atob","dataURI","byteString","arrayBuffer","intArray","mimeString","bb","decodeURIComponent","charCodeAt","getBlob","toBlob","mozGetAsFile","quality","navigator","msSaveOrOpenBlob","userAgent","get_URL","webkitURL","save_link","can_use_save_link","externalHost","initMouseEvent","webkit_req_fs","webkitRequestFileSystem","req_fs","requestFileSystem","mozRequestFileSystem","throw_outside","ex","setImmediate","force_saveable_type","fs_min_size","deletion_queue","process_deletion_queue","revokeObjectURL","filesaver","event_types","FileSaver","object_url","target_view","blob_changed","get_object_url","createObjectURL","dispatch_all","fs_error","href","DONE","abortable","create_if_not_found","exclusive","INIT","download","chrome","webkitSlice","TEMPORARY","fs","getDirectory","getFile","createWriter","onwriteend","toURL","ABORT_ERR","WRITING","NOT_FOUND_ERR","FS_proto","onwritestart","onwrite","unload","amdDefine","define","almond","amd","mediaQuery","alreadyImportedModules","confirm","_nodes","fc","getNode","rNode","modifyNode","renameNode","newLabel","removeNode","_buildM","displayedButton","menuUl","_showMenu","offsetHeight","B","X","Z","J","O","Gap","copy","StaticSchemeClass","DynSchemeClass","dyn","Buried","Cinema","Clustal2","Helix","Hydro","Lesk","Mae","Nucleotide","Purine","Strand","Taylor","Turn","Zappo","staticSchemes","buried","buried_index","cinema","clustal2","helix","helix_propensity","hydro","lesk","mae","nucleotide","purine","purine_pyrimidine","strand_propensity","taylor","turn","turn_propensity","zappo","pid","dynSchemes","maps","cons","defaultColor","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","task","tasksByHandle","nextHandle","registerImmediate","handle","runIfPresent","currentlyRunningATask","installNextTickImplementation","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","onGlobalMessage","attachEvent","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","script","installSetTimeoutImplementation","attachTo","getPrototypeOf","addStylesToDom","styles","domStyle","stylesInDom","refs","parts","addStyle","listToStyles","newStyles","media","sourceMap","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","removeStyleElement","createStyleElement","createLinkElement","linkElement","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","btoa","updateLink","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","oldSrc","isOldIE","newList","mayRemove","textStore","replacement","locals","undef","fns","enqueueFn","callFns","fnsToCall","MutationObserver","WebKitMutationObserver","observe","characterData","isPostMessageAsync","checkAsync","detachEvent","msg","onMessage","createScript","throwException","toStr","getArrayKeys","getObjectKeys","defineCustomErrorType","wrapOnFulfilled","onFulfilled","emitUnhandledRejection","PromiseRejectionEvent","reason","Deferred","_promise","Promise","isResolved","_resolve","isPromise","then","_reject","notify","_notify","PROMISE_STATUS","PENDING","RESOLVED","FULFILLED","REJECTED","resolver","_value","_status","_shouldEmitUnhandledRejection","_fulfilledCallbacks","_rejectedCallbacks","_progressCallbacks","resolverFnLen","isFulfilled","isRejected","onRejected","onProgress","_addCallbacks","catch","fail","always","onResolved","finally","onFinalized","progress","spread","timer","TimedOutError","_vow","_fulfill","_callCallbacks","callbacks","staticMethods","cast","iterable","allSettled","race","anyResolved","when","fulfill","isPromisesArray","_forEach","allResolved","allPatiently","rejectedPromises","fulfilledPromises","promises","defineAsGlobal","provide","webpackContext","req","webpackContextResolve","./colorscheme","./colorscheme.js","./columns","./columns.js","./config","./config.js","./package","./package.js","./selection/Selection","./selection/Selection.js","./selection/SelectionCol","./selection/SelectionCol.js","./selection/index","./selection/index.js","./user","./user.js","./visOrdering","./visOrdering.js","./visibility","./visibility.js","./zoomer","./zoomer.js","./bmath","./bmath.js","./export","./export.js","./file","./file.js","./index","./index.js","./loader","./loader.js","./proxy","./proxy.js","./seqgen","./seqgen.js","./svg","./svg.js","./tree","./tree.js"],"mappings":"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GA6S,GAAA3T,KAAAc,MAKA4P,IAAA,kCAAAnP,GACA,GAAA6W,GAAArE,GAAAxS,EACA2D,GAAAf,UAAA5C,GAAA,WACA,GAAAT,GAAAd,KAAAmF,QAEA,OADA,OAAArE,MAAAsX,EAAAxX,MAAAE,EAAAP,YACAoT,GAAA3T,KAAAc,KAMA,IAAAmY,KACAC,UAAA,KACArF,WACA5T,gBACAY,WACAG,SACAC,cACAC,YACAE,YACAuD,YACApC,YACAmS,UACAC,YACAC,WACA1S,YACAN,iBACAyT,WAAAlS,GACAuB,WACAmQ,WAAAnT,GACA4T,YAAA1Q,GACA2P,SAAAtS,EACAG,MAAAE,EACAW,aAAAoD,GACA7B,UACAK,UACA6B,UACAoP,SACAC,aACAC,SACAC,aACAzS,OACAmD,UACAK,SACAC,QACAC,SACAE,YACAP,QAAAO,EACAgB,UACAH,aACAkR,OAAAlR,GACAR,YACAM,SACAG,QACAG,MACAM,MACAE,MACAY,YACAX,WACArG,WACAmH,OACAnB,OAAAF,EACAS,WACAa,aACAd,UACAqQ,QAAArQ,EACAe,QACAG,UACAmE,OACA/C,OAAAsL,GACA0C,SAAAxC,GACAzL,oBACAJ,YACA7D,UACAiF,YACAG,SACAjD,WACA6F,WACAoI,QACAG,WACAjK,WACAkK,SACAC,SACA/J,YACAe,YACAK,QACAG,UACAE,WACAE,SACAC,UACAoI,QACAlI,WACAa,aACAsH,iBACA/H,eACAsB,WACA0G,eACAzH,QACAgJ,OAAAhJ,GACAG,aACAC,QACA6I,QAAA7I,GACArG,OACAmP,QAAAnP,GACA2N,UACAyB,MAAAzB,GACA0B,OAAA1B,GACAC,eACA0B,MAAA1B,GACAnH,UACA8I,OAAA9I,GACAE,UACAC,SACA4I,IAAA5I,GACAC,QACA4I,IAAA5I,GACAtN,YACAmW,SAAAnW,GACAoW,QAAApW,GACAsU,UACA5G,SACAC,SACAjR,OACA4J,OACA6H,WACAJ,UACAK,UACAqG,WACAC,WACAC,WACAjG,aACAC,WACAE,QACAgG,QACAC,QACA/F,SACAsH,KAAAtH,GACAuH,KAAAvH,GACA9B,W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","file":"dist/msa.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// trick to bundle the css\n\t__webpack_require__(136);\n\tmodule.exports = __webpack_require__(53);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {(function (global, factory) {\n\t   true ? module.exports = factory() :\n\t  typeof define === 'function' && define.amd ? define('underscore', factory) :\n\t  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (function () {\n\t    var current = global._;\n\t    var exports = global._ = factory();\n\t    exports.noConflict = function () { global._ = current; return exports; };\n\t  }()));\n\t}(this, (function () {\n\t  //     Underscore.js 1.13.1\n\t  //     https://underscorejs.org\n\t  //     (c) 2009-2021 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n\t  //     Underscore may be freely distributed under the MIT license.\n\t\n\t  // Current version.\n\t  var VERSION = '1.13.1';\n\t\n\t  // Establish the root object, `window` (`self`) in the browser, `global`\n\t  // on the server, or `this` in some virtual machines. We use `self`\n\t  // instead of `window` for `WebWorker` support.\n\t  var root = typeof self == 'object' && self.self === self && self ||\n\t            typeof global == 'object' && global.global === global && global ||\n\t            Function('return this')() ||\n\t            {};\n\t\n\t  // Save bytes in the minified (but not gzipped) version:\n\t  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n\t  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\t\n\t  // Create quick reference variables for speed access to core prototypes.\n\t  var push = ArrayProto.push,\n\t      slice = ArrayProto.slice,\n\t      toString = ObjProto.toString,\n\t      hasOwnProperty = ObjProto.hasOwnProperty;\n\t\n\t  // Modern feature detection.\n\t  var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n\t      supportsDataView = typeof DataView !== 'undefined';\n\t\n\t  // All **ECMAScript 5+** native function implementations that we hope to use\n\t  // are declared here.\n\t  var nativeIsArray = Array.isArray,\n\t      nativeKeys = Object.keys,\n\t      nativeCreate = Object.create,\n\t      nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\t\n\t  // Create references to these builtin functions because we override them.\n\t  var _isNaN = isNaN,\n\t      _isFinite = isFinite;\n\t\n\t  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n\t  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n\t  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n\t    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\t\n\t  // The largest integer that can be represented exactly.\n\t  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n\t\n\t  // Some functions take a variable number of arguments, or a few expected\n\t  // arguments at the beginning and then a variable number of values to operate\n\t  // on. This helper accumulates all remaining arguments past the function’s\n\t  // argument length (or an explicit `startIndex`), into an array that becomes\n\t  // the last argument. Similar to ES6’s \"rest parameter\".\n\t  function restArguments(func, startIndex) {\n\t    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n\t    return function() {\n\t      var length = Math.max(arguments.length - startIndex, 0),\n\t          rest = Array(length),\n\t          index = 0;\n\t      for (; index < length; index++) {\n\t        rest[index] = arguments[index + startIndex];\n\t      }\n\t      switch (startIndex) {\n\t        case 0: return func.call(this, rest);\n\t        case 1: return func.call(this, arguments[0], rest);\n\t        case 2: return func.call(this, arguments[0], arguments[1], rest);\n\t      }\n\t      var args = Array(startIndex + 1);\n\t      for (index = 0; index < startIndex; index++) {\n\t        args[index] = arguments[index];\n\t      }\n\t      args[startIndex] = rest;\n\t      return func.apply(this, args);\n\t    };\n\t  }\n\t\n\t  // Is a given variable an object?\n\t  function isObject(obj) {\n\t    var type = typeof obj;\n\t    return type === 'function' || type === 'object' && !!obj;\n\t  }\n\t\n\t  // Is a given value equal to null?\n\t  function isNull(obj) {\n\t    return obj === null;\n\t  }\n\t\n\t  // Is a given variable undefined?\n\t  function isUndefined(obj) {\n\t    return obj === void 0;\n\t  }\n\t\n\t  // Is a given value a boolean?\n\t  function isBoolean(obj) {\n\t    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n\t  }\n\t\n\t  // Is a given value a DOM element?\n\t  function isElement(obj) {\n\t    return !!(obj && obj.nodeType === 1);\n\t  }\n\t\n\t  // Internal function for creating a `toString`-based type tester.\n\t  function tagTester(name) {\n\t    var tag = '[object ' + name + ']';\n\t    return function(obj) {\n\t      return toString.call(obj) === tag;\n\t    };\n\t  }\n\t\n\t  var isString = tagTester('String');\n\t\n\t  var isNumber = tagTester('Number');\n\t\n\t  var isDate = tagTester('Date');\n\t\n\t  var isRegExp = tagTester('RegExp');\n\t\n\t  var isError = tagTester('Error');\n\t\n\t  var isSymbol = tagTester('Symbol');\n\t\n\t  var isArrayBuffer = tagTester('ArrayBuffer');\n\t\n\t  var isFunction = tagTester('Function');\n\t\n\t  // Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n\t  // v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n\t  var nodelist = root.document && root.document.childNodes;\n\t  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n\t    isFunction = function(obj) {\n\t      return typeof obj == 'function' || false;\n\t    };\n\t  }\n\t\n\t  var isFunction$1 = isFunction;\n\t\n\t  var hasObjectTag = tagTester('Object');\n\t\n\t  // In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n\t  // In IE 11, the most common among them, this problem also applies to\n\t  // `Map`, `WeakMap` and `Set`.\n\t  var hasStringTagBug = (\n\t        supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n\t      ),\n\t      isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n\t\n\t  var isDataView = tagTester('DataView');\n\t\n\t  // In IE 10 - Edge 13, we need a different heuristic\n\t  // to determine whether an object is a `DataView`.\n\t  function ie10IsDataView(obj) {\n\t    return obj != null && isFunction$1(obj.getInt8) && isArrayBuffer(obj.buffer);\n\t  }\n\t\n\t  var isDataView$1 = (hasStringTagBug ? ie10IsDataView : isDataView);\n\t\n\t  // Is a given value an array?\n\t  // Delegates to ECMA5's native `Array.isArray`.\n\t  var isArray = nativeIsArray || tagTester('Array');\n\t\n\t  // Internal function to check whether `key` is an own property name of `obj`.\n\t  function has$1(obj, key) {\n\t    return obj != null && hasOwnProperty.call(obj, key);\n\t  }\n\t\n\t  var isArguments = tagTester('Arguments');\n\t\n\t  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n\t  // there isn't any inspectable \"Arguments\" type.\n\t  (function() {\n\t    if (!isArguments(arguments)) {\n\t      isArguments = function(obj) {\n\t        return has$1(obj, 'callee');\n\t      };\n\t    }\n\t  }());\n\t\n\t  var isArguments$1 = isArguments;\n\t\n\t  // Is a given object a finite number?\n\t  function isFinite$1(obj) {\n\t    return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n\t  }\n\t\n\t  // Is the given value `NaN`?\n\t  function isNaN$1(obj) {\n\t    return isNumber(obj) && _isNaN(obj);\n\t  }\n\t\n\t  // Predicate-generating function. Often useful outside of Underscore.\n\t  function constant(value) {\n\t    return function() {\n\t      return value;\n\t    };\n\t  }\n\t\n\t  // Common internal logic for `isArrayLike` and `isBufferLike`.\n\t  function createSizePropertyCheck(getSizeProperty) {\n\t    return function(collection) {\n\t      var sizeProperty = getSizeProperty(collection);\n\t      return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n\t    }\n\t  }\n\t\n\t  // Internal helper to generate a function to obtain property `key` from `obj`.\n\t  function shallowProperty(key) {\n\t    return function(obj) {\n\t      return obj == null ? void 0 : obj[key];\n\t    };\n\t  }\n\t\n\t  // Internal helper to obtain the `byteLength` property of an object.\n\t  var getByteLength = shallowProperty('byteLength');\n\t\n\t  // Internal helper to determine whether we should spend extensive checks against\n\t  // `ArrayBuffer` et al.\n\t  var isBufferLike = createSizePropertyCheck(getByteLength);\n\t\n\t  // Is a given value a typed array?\n\t  var typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\n\t  function isTypedArray(obj) {\n\t    // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n\t    // Otherwise, fall back on the above regular expression.\n\t    return nativeIsView ? (nativeIsView(obj) && !isDataView$1(obj)) :\n\t                  isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n\t  }\n\t\n\t  var isTypedArray$1 = supportsArrayBuffer ? isTypedArray : constant(false);\n\t\n\t  // Internal helper to obtain the `length` property of an object.\n\t  var getLength = shallowProperty('length');\n\t\n\t  // Internal helper to create a simple lookup structure.\n\t  // `collectNonEnumProps` used to depend on `_.contains`, but this led to\n\t  // circular imports. `emulatedSet` is a one-off solution that only works for\n\t  // arrays of strings.\n\t  function emulatedSet(keys) {\n\t    var hash = {};\n\t    for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n\t    return {\n\t      contains: function(key) { return hash[key]; },\n\t      push: function(key) {\n\t        hash[key] = true;\n\t        return keys.push(key);\n\t      }\n\t    };\n\t  }\n\t\n\t  // Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n\t  // be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n\t  // needed.\n\t  function collectNonEnumProps(obj, keys) {\n\t    keys = emulatedSet(keys);\n\t    var nonEnumIdx = nonEnumerableProps.length;\n\t    var constructor = obj.constructor;\n\t    var proto = isFunction$1(constructor) && constructor.prototype || ObjProto;\n\t\n\t    // Constructor is a special case.\n\t    var prop = 'constructor';\n\t    if (has$1(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\t\n\t    while (nonEnumIdx--) {\n\t      prop = nonEnumerableProps[nonEnumIdx];\n\t      if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n\t        keys.push(prop);\n\t      }\n\t    }\n\t  }\n\t\n\t  // Retrieve the names of an object's own properties.\n\t  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n\t  function keys(obj) {\n\t    if (!isObject(obj)) return [];\n\t    if (nativeKeys) return nativeKeys(obj);\n\t    var keys = [];\n\t    for (var key in obj) if (has$1(obj, key)) keys.push(key);\n\t    // Ahem, IE < 9.\n\t    if (hasEnumBug) collectNonEnumProps(obj, keys);\n\t    return keys;\n\t  }\n\t\n\t  // Is a given array, string, or object empty?\n\t  // An \"empty\" object has no enumerable own-properties.\n\t  function isEmpty(obj) {\n\t    if (obj == null) return true;\n\t    // Skip the more expensive `toString`-based type checks if `obj` has no\n\t    // `.length`.\n\t    var length = getLength(obj);\n\t    if (typeof length == 'number' && (\n\t      isArray(obj) || isString(obj) || isArguments$1(obj)\n\t    )) return length === 0;\n\t    return getLength(keys(obj)) === 0;\n\t  }\n\t\n\t  // Returns whether an object has a given set of `key:value` pairs.\n\t  function isMatch(object, attrs) {\n\t    var _keys = keys(attrs), length = _keys.length;\n\t    if (object == null) return !length;\n\t    var obj = Object(object);\n\t    for (var i = 0; i < length; i++) {\n\t      var key = _keys[i];\n\t      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n\t    }\n\t    return true;\n\t  }\n\t\n\t  // If Underscore is called as a function, it returns a wrapped object that can\n\t  // be used OO-style. This wrapper holds altered versions of all functions added\n\t  // through `_.mixin`. Wrapped objects may be chained.\n\t  function _$1(obj) {\n\t    if (obj instanceof _$1) return obj;\n\t    if (!(this instanceof _$1)) return new _$1(obj);\n\t    this._wrapped = obj;\n\t  }\n\t\n\t  _$1.VERSION = VERSION;\n\t\n\t  // Extracts the result from a wrapped and chained object.\n\t  _$1.prototype.value = function() {\n\t    return this._wrapped;\n\t  };\n\t\n\t  // Provide unwrapping proxies for some methods used in engine operations\n\t  // such as arithmetic and JSON stringification.\n\t  _$1.prototype.valueOf = _$1.prototype.toJSON = _$1.prototype.value;\n\t\n\t  _$1.prototype.toString = function() {\n\t    return String(this._wrapped);\n\t  };\n\t\n\t  // Internal function to wrap or shallow-copy an ArrayBuffer,\n\t  // typed array or DataView to a new view, reusing the buffer.\n\t  function toBufferView(bufferSource) {\n\t    return new Uint8Array(\n\t      bufferSource.buffer || bufferSource,\n\t      bufferSource.byteOffset || 0,\n\t      getByteLength(bufferSource)\n\t    );\n\t  }\n\t\n\t  // We use this string twice, so give it a name for minification.\n\t  var tagDataView = '[object DataView]';\n\t\n\t  // Internal recursive comparison function for `_.isEqual`.\n\t  function eq(a, b, aStack, bStack) {\n\t    // Identical objects are equal. `0 === -0`, but they aren't identical.\n\t    // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n\t    if (a === b) return a !== 0 || 1 / a === 1 / b;\n\t    // `null` or `undefined` only equal to itself (strict comparison).\n\t    if (a == null || b == null) return false;\n\t    // `NaN`s are equivalent, but non-reflexive.\n\t    if (a !== a) return b !== b;\n\t    // Exhaust primitive checks\n\t    var type = typeof a;\n\t    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n\t    return deepEq(a, b, aStack, bStack);\n\t  }\n\t\n\t  // Internal recursive comparison function for `_.isEqual`.\n\t  function deepEq(a, b, aStack, bStack) {\n\t    // Unwrap any wrapped objects.\n\t    if (a instanceof _$1) a = a._wrapped;\n\t    if (b instanceof _$1) b = b._wrapped;\n\t    // Compare `[[Class]]` names.\n\t    var className = toString.call(a);\n\t    if (className !== toString.call(b)) return false;\n\t    // Work around a bug in IE 10 - Edge 13.\n\t    if (hasStringTagBug && className == '[object Object]' && isDataView$1(a)) {\n\t      if (!isDataView$1(b)) return false;\n\t      className = tagDataView;\n\t    }\n\t    switch (className) {\n\t      // These types are compared by value.\n\t      case '[object RegExp]':\n\t        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n\t      case '[object String]':\n\t        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n\t        // equivalent to `new String(\"5\")`.\n\t        return '' + a === '' + b;\n\t      case '[object Number]':\n\t        // `NaN`s are equivalent, but non-reflexive.\n\t        // Object(NaN) is equivalent to NaN.\n\t        if (+a !== +a) return +b !== +b;\n\t        // An `egal` comparison is performed for other numeric values.\n\t        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n\t      case '[object Date]':\n\t      case '[object Boolean]':\n\t        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n\t        // millisecond representations. Note that invalid dates with millisecond representations\n\t        // of `NaN` are not equivalent.\n\t        return +a === +b;\n\t      case '[object Symbol]':\n\t        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n\t      case '[object ArrayBuffer]':\n\t      case tagDataView:\n\t        // Coerce to typed array so we can fall through.\n\t        return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n\t    }\n\t\n\t    var areArrays = className === '[object Array]';\n\t    if (!areArrays && isTypedArray$1(a)) {\n\t        var byteLength = getByteLength(a);\n\t        if (byteLength !== getByteLength(b)) return false;\n\t        if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n\t        areArrays = true;\n\t    }\n\t    if (!areArrays) {\n\t      if (typeof a != 'object' || typeof b != 'object') return false;\n\t\n\t      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n\t      // from different frames are.\n\t      var aCtor = a.constructor, bCtor = b.constructor;\n\t      if (aCtor !== bCtor && !(isFunction$1(aCtor) && aCtor instanceof aCtor &&\n\t                               isFunction$1(bCtor) && bCtor instanceof bCtor)\n\t                          && ('constructor' in a && 'constructor' in b)) {\n\t        return false;\n\t      }\n\t    }\n\t    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n\t    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\t\n\t    // Initializing stack of traversed objects.\n\t    // It's done here since we only need them for objects and arrays comparison.\n\t    aStack = aStack || [];\n\t    bStack = bStack || [];\n\t    var length = aStack.length;\n\t    while (length--) {\n\t      // Linear search. Performance is inversely proportional to the number of\n\t      // unique nested structures.\n\t      if (aStack[length] === a) return bStack[length] === b;\n\t    }\n\t\n\t    // Add the first object to the stack of traversed objects.\n\t    aStack.push(a);\n\t    bStack.push(b);\n\t\n\t    // Recursively compare objects and arrays.\n\t    if (areArrays) {\n\t      // Compare array lengths to determine if a deep comparison is necessary.\n\t      length = a.length;\n\t      if (length !== b.length) return false;\n\t      // Deep compare the contents, ignoring non-numeric properties.\n\t      while (length--) {\n\t        if (!eq(a[length], b[length], aStack, bStack)) return false;\n\t      }\n\t    } else {\n\t      // Deep compare objects.\n\t      var _keys = keys(a), key;\n\t      length = _keys.length;\n\t      // Ensure that both objects contain the same number of properties before comparing deep equality.\n\t      if (keys(b).length !== length) return false;\n\t      while (length--) {\n\t        // Deep compare each member\n\t        key = _keys[length];\n\t        if (!(has$1(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n\t      }\n\t    }\n\t    // Remove the first object from the stack of traversed objects.\n\t    aStack.pop();\n\t    bStack.pop();\n\t    return true;\n\t  }\n\t\n\t  // Perform a deep comparison to check if two objects are equal.\n\t  function isEqual(a, b) {\n\t    return eq(a, b);\n\t  }\n\t\n\t  // Retrieve all the enumerable property names of an object.\n\t  function allKeys(obj) {\n\t    if (!isObject(obj)) return [];\n\t    var keys = [];\n\t    for (var key in obj) keys.push(key);\n\t    // Ahem, IE < 9.\n\t    if (hasEnumBug) collectNonEnumProps(obj, keys);\n\t    return keys;\n\t  }\n\t\n\t  // Since the regular `Object.prototype.toString` type tests don't work for\n\t  // some types in IE 11, we use a fingerprinting heuristic instead, based\n\t  // on the methods. It's not great, but it's the best we got.\n\t  // The fingerprint method lists are defined below.\n\t  function ie11fingerprint(methods) {\n\t    var length = getLength(methods);\n\t    return function(obj) {\n\t      if (obj == null) return false;\n\t      // `Map`, `WeakMap` and `Set` have no enumerable keys.\n\t      var keys = allKeys(obj);\n\t      if (getLength(keys)) return false;\n\t      for (var i = 0; i < length; i++) {\n\t        if (!isFunction$1(obj[methods[i]])) return false;\n\t      }\n\t      // If we are testing against `WeakMap`, we need to ensure that\n\t      // `obj` doesn't have a `forEach` method in order to distinguish\n\t      // it from a regular `Map`.\n\t      return methods !== weakMapMethods || !isFunction$1(obj[forEachName]);\n\t    };\n\t  }\n\t\n\t  // In the interest of compact minification, we write\n\t  // each string in the fingerprints only once.\n\t  var forEachName = 'forEach',\n\t      hasName = 'has',\n\t      commonInit = ['clear', 'delete'],\n\t      mapTail = ['get', hasName, 'set'];\n\t\n\t  // `Map`, `WeakMap` and `Set` each have slightly different\n\t  // combinations of the above sublists.\n\t  var mapMethods = commonInit.concat(forEachName, mapTail),\n\t      weakMapMethods = commonInit.concat(mapTail),\n\t      setMethods = ['add'].concat(commonInit, forEachName, hasName);\n\t\n\t  var isMap = isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n\t\n\t  var isWeakMap = isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n\t\n\t  var isSet = isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n\t\n\t  var isWeakSet = tagTester('WeakSet');\n\t\n\t  // Retrieve the values of an object's properties.\n\t  function values(obj) {\n\t    var _keys = keys(obj);\n\t    var length = _keys.length;\n\t    var values = Array(length);\n\t    for (var i = 0; i < length; i++) {\n\t      values[i] = obj[_keys[i]];\n\t    }\n\t    return values;\n\t  }\n\t\n\t  // Convert an object into a list of `[key, value]` pairs.\n\t  // The opposite of `_.object` with one argument.\n\t  function pairs(obj) {\n\t    var _keys = keys(obj);\n\t    var length = _keys.length;\n\t    var pairs = Array(length);\n\t    for (var i = 0; i < length; i++) {\n\t      pairs[i] = [_keys[i], obj[_keys[i]]];\n\t    }\n\t    return pairs;\n\t  }\n\t\n\t  // Invert the keys and values of an object. The values must be serializable.\n\t  function invert(obj) {\n\t    var result = {};\n\t    var _keys = keys(obj);\n\t    for (var i = 0, length = _keys.length; i < length; i++) {\n\t      result[obj[_keys[i]]] = _keys[i];\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Return a sorted list of the function names available on the object.\n\t  function functions(obj) {\n\t    var names = [];\n\t    for (var key in obj) {\n\t      if (isFunction$1(obj[key])) names.push(key);\n\t    }\n\t    return names.sort();\n\t  }\n\t\n\t  // An internal function for creating assigner functions.\n\t  function createAssigner(keysFunc, defaults) {\n\t    return function(obj) {\n\t      var length = arguments.length;\n\t      if (defaults) obj = Object(obj);\n\t      if (length < 2 || obj == null) return obj;\n\t      for (var index = 1; index < length; index++) {\n\t        var source = arguments[index],\n\t            keys = keysFunc(source),\n\t            l = keys.length;\n\t        for (var i = 0; i < l; i++) {\n\t          var key = keys[i];\n\t          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n\t        }\n\t      }\n\t      return obj;\n\t    };\n\t  }\n\t\n\t  // Extend a given object with all the properties in passed-in object(s).\n\t  var extend = createAssigner(allKeys);\n\t\n\t  // Assigns a given object with all the own properties in the passed-in\n\t  // object(s).\n\t  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n\t  var extendOwn = createAssigner(keys);\n\t\n\t  // Fill in a given object with default properties.\n\t  var defaults = createAssigner(allKeys, true);\n\t\n\t  // Create a naked function reference for surrogate-prototype-swapping.\n\t  function ctor() {\n\t    return function(){};\n\t  }\n\t\n\t  // An internal function for creating a new object that inherits from another.\n\t  function baseCreate(prototype) {\n\t    if (!isObject(prototype)) return {};\n\t    if (nativeCreate) return nativeCreate(prototype);\n\t    var Ctor = ctor();\n\t    Ctor.prototype = prototype;\n\t    var result = new Ctor;\n\t    Ctor.prototype = null;\n\t    return result;\n\t  }\n\t\n\t  // Creates an object that inherits from the given prototype object.\n\t  // If additional properties are provided then they will be added to the\n\t  // created object.\n\t  function create(prototype, props) {\n\t    var result = baseCreate(prototype);\n\t    if (props) extendOwn(result, props);\n\t    return result;\n\t  }\n\t\n\t  // Create a (shallow-cloned) duplicate of an object.\n\t  function clone(obj) {\n\t    if (!isObject(obj)) return obj;\n\t    return isArray(obj) ? obj.slice() : extend({}, obj);\n\t  }\n\t\n\t  // Invokes `interceptor` with the `obj` and then returns `obj`.\n\t  // The primary purpose of this method is to \"tap into\" a method chain, in\n\t  // order to perform operations on intermediate results within the chain.\n\t  function tap(obj, interceptor) {\n\t    interceptor(obj);\n\t    return obj;\n\t  }\n\t\n\t  // Normalize a (deep) property `path` to array.\n\t  // Like `_.iteratee`, this function can be customized.\n\t  function toPath$1(path) {\n\t    return isArray(path) ? path : [path];\n\t  }\n\t  _$1.toPath = toPath$1;\n\t\n\t  // Internal wrapper for `_.toPath` to enable minification.\n\t  // Similar to `cb` for `_.iteratee`.\n\t  function toPath(path) {\n\t    return _$1.toPath(path);\n\t  }\n\t\n\t  // Internal function to obtain a nested property in `obj` along `path`.\n\t  function deepGet(obj, path) {\n\t    var length = path.length;\n\t    for (var i = 0; i < length; i++) {\n\t      if (obj == null) return void 0;\n\t      obj = obj[path[i]];\n\t    }\n\t    return length ? obj : void 0;\n\t  }\n\t\n\t  // Get the value of the (deep) property on `path` from `object`.\n\t  // If any property in `path` does not exist or if the value is\n\t  // `undefined`, return `defaultValue` instead.\n\t  // The `path` is normalized through `_.toPath`.\n\t  function get(object, path, defaultValue) {\n\t    var value = deepGet(object, toPath(path));\n\t    return isUndefined(value) ? defaultValue : value;\n\t  }\n\t\n\t  // Shortcut function for checking if an object has a given property directly on\n\t  // itself (in other words, not on a prototype). Unlike the internal `has`\n\t  // function, this public version can also traverse nested properties.\n\t  function has(obj, path) {\n\t    path = toPath(path);\n\t    var length = path.length;\n\t    for (var i = 0; i < length; i++) {\n\t      var key = path[i];\n\t      if (!has$1(obj, key)) return false;\n\t      obj = obj[key];\n\t    }\n\t    return !!length;\n\t  }\n\t\n\t  // Keep the identity function around for default iteratees.\n\t  function identity(value) {\n\t    return value;\n\t  }\n\t\n\t  // Returns a predicate for checking whether an object has a given set of\n\t  // `key:value` pairs.\n\t  function matcher(attrs) {\n\t    attrs = extendOwn({}, attrs);\n\t    return function(obj) {\n\t      return isMatch(obj, attrs);\n\t    };\n\t  }\n\t\n\t  // Creates a function that, when passed an object, will traverse that object’s\n\t  // properties down the given `path`, specified as an array of keys or indices.\n\t  function property(path) {\n\t    path = toPath(path);\n\t    return function(obj) {\n\t      return deepGet(obj, path);\n\t    };\n\t  }\n\t\n\t  // Internal function that returns an efficient (for current engines) version\n\t  // of the passed-in callback, to be repeatedly applied in other Underscore\n\t  // functions.\n\t  function optimizeCb(func, context, argCount) {\n\t    if (context === void 0) return func;\n\t    switch (argCount == null ? 3 : argCount) {\n\t      case 1: return function(value) {\n\t        return func.call(context, value);\n\t      };\n\t      // The 2-argument case is omitted because we’re not using it.\n\t      case 3: return function(value, index, collection) {\n\t        return func.call(context, value, index, collection);\n\t      };\n\t      case 4: return function(accumulator, value, index, collection) {\n\t        return func.call(context, accumulator, value, index, collection);\n\t      };\n\t    }\n\t    return function() {\n\t      return func.apply(context, arguments);\n\t    };\n\t  }\n\t\n\t  // An internal function to generate callbacks that can be applied to each\n\t  // element in a collection, returning the desired result — either `_.identity`,\n\t  // an arbitrary callback, a property matcher, or a property accessor.\n\t  function baseIteratee(value, context, argCount) {\n\t    if (value == null) return identity;\n\t    if (isFunction$1(value)) return optimizeCb(value, context, argCount);\n\t    if (isObject(value) && !isArray(value)) return matcher(value);\n\t    return property(value);\n\t  }\n\t\n\t  // External wrapper for our callback generator. Users may customize\n\t  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n\t  // This abstraction hides the internal-only `argCount` argument.\n\t  function iteratee(value, context) {\n\t    return baseIteratee(value, context, Infinity);\n\t  }\n\t  _$1.iteratee = iteratee;\n\t\n\t  // The function we call internally to generate a callback. It invokes\n\t  // `_.iteratee` if overridden, otherwise `baseIteratee`.\n\t  function cb(value, context, argCount) {\n\t    if (_$1.iteratee !== iteratee) return _$1.iteratee(value, context);\n\t    return baseIteratee(value, context, argCount);\n\t  }\n\t\n\t  // Returns the results of applying the `iteratee` to each element of `obj`.\n\t  // In contrast to `_.map` it returns an object.\n\t  function mapObject(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    var _keys = keys(obj),\n\t        length = _keys.length,\n\t        results = {};\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = _keys[index];\n\t      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n\t    }\n\t    return results;\n\t  }\n\t\n\t  // Predicate-generating function. Often useful outside of Underscore.\n\t  function noop(){}\n\t\n\t  // Generates a function for a given object that returns a given property.\n\t  function propertyOf(obj) {\n\t    if (obj == null) return noop;\n\t    return function(path) {\n\t      return get(obj, path);\n\t    };\n\t  }\n\t\n\t  // Run a function **n** times.\n\t  function times(n, iteratee, context) {\n\t    var accum = Array(Math.max(0, n));\n\t    iteratee = optimizeCb(iteratee, context, 1);\n\t    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n\t    return accum;\n\t  }\n\t\n\t  // Return a random integer between `min` and `max` (inclusive).\n\t  function random(min, max) {\n\t    if (max == null) {\n\t      max = min;\n\t      min = 0;\n\t    }\n\t    return min + Math.floor(Math.random() * (max - min + 1));\n\t  }\n\t\n\t  // A (possibly faster) way to get the current timestamp as an integer.\n\t  var now = Date.now || function() {\n\t    return new Date().getTime();\n\t  };\n\t\n\t  // Internal helper to generate functions for escaping and unescaping strings\n\t  // to/from HTML interpolation.\n\t  function createEscaper(map) {\n\t    var escaper = function(match) {\n\t      return map[match];\n\t    };\n\t    // Regexes for identifying a key that needs to be escaped.\n\t    var source = '(?:' + keys(map).join('|') + ')';\n\t    var testRegexp = RegExp(source);\n\t    var replaceRegexp = RegExp(source, 'g');\n\t    return function(string) {\n\t      string = string == null ? '' : '' + string;\n\t      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n\t    };\n\t  }\n\t\n\t  // Internal list of HTML entities for escaping.\n\t  var escapeMap = {\n\t    '&': '&amp;',\n\t    '<': '&lt;',\n\t    '>': '&gt;',\n\t    '\"': '&quot;',\n\t    \"'\": '&#x27;',\n\t    '`': '&#x60;'\n\t  };\n\t\n\t  // Function for escaping strings to HTML interpolation.\n\t  var _escape = createEscaper(escapeMap);\n\t\n\t  // Internal list of HTML entities for unescaping.\n\t  var unescapeMap = invert(escapeMap);\n\t\n\t  // Function for unescaping strings from HTML interpolation.\n\t  var _unescape = createEscaper(unescapeMap);\n\t\n\t  // By default, Underscore uses ERB-style template delimiters. Change the\n\t  // following template settings to use alternative delimiters.\n\t  var templateSettings = _$1.templateSettings = {\n\t    evaluate: /<%([\\s\\S]+?)%>/g,\n\t    interpolate: /<%=([\\s\\S]+?)%>/g,\n\t    escape: /<%-([\\s\\S]+?)%>/g\n\t  };\n\t\n\t  // When customizing `_.templateSettings`, if you don't want to define an\n\t  // interpolation, evaluation or escaping regex, we need one that is\n\t  // guaranteed not to match.\n\t  var noMatch = /(.)^/;\n\t\n\t  // Certain characters need to be escaped so that they can be put into a\n\t  // string literal.\n\t  var escapes = {\n\t    \"'\": \"'\",\n\t    '\\\\': '\\\\',\n\t    '\\r': 'r',\n\t    '\\n': 'n',\n\t    '\\u2028': 'u2028',\n\t    '\\u2029': 'u2029'\n\t  };\n\t\n\t  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\t\n\t  function escapeChar(match) {\n\t    return '\\\\' + escapes[match];\n\t  }\n\t\n\t  // In order to prevent third-party code injection through\n\t  // `_.templateSettings.variable`, we test it against the following regular\n\t  // expression. It is intentionally a bit more liberal than just matching valid\n\t  // identifiers, but still prevents possible loopholes through defaults or\n\t  // destructuring assignment.\n\t  var bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\t\n\t  // JavaScript micro-templating, similar to John Resig's implementation.\n\t  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n\t  // and correctly escapes quotes within interpolated code.\n\t  // NB: `oldSettings` only exists for backwards compatibility.\n\t  function template(text, settings, oldSettings) {\n\t    if (!settings && oldSettings) settings = oldSettings;\n\t    settings = defaults({}, settings, _$1.templateSettings);\n\t\n\t    // Combine delimiters into one regular expression via alternation.\n\t    var matcher = RegExp([\n\t      (settings.escape || noMatch).source,\n\t      (settings.interpolate || noMatch).source,\n\t      (settings.evaluate || noMatch).source\n\t    ].join('|') + '|$', 'g');\n\t\n\t    // Compile the template source, escaping string literals appropriately.\n\t    var index = 0;\n\t    var source = \"__p+='\";\n\t    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n\t      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n\t      index = offset + match.length;\n\t\n\t      if (escape) {\n\t        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n\t      } else if (interpolate) {\n\t        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n\t      } else if (evaluate) {\n\t        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n\t      }\n\t\n\t      // Adobe VMs need the match returned to produce the correct offset.\n\t      return match;\n\t    });\n\t    source += \"';\\n\";\n\t\n\t    var argument = settings.variable;\n\t    if (argument) {\n\t      // Insure against third-party code injection. (CVE-2021-23358)\n\t      if (!bareIdentifier.test(argument)) throw new Error(\n\t        'variable is not a bare identifier: ' + argument\n\t      );\n\t    } else {\n\t      // If a variable is not specified, place data values in local scope.\n\t      source = 'with(obj||{}){\\n' + source + '}\\n';\n\t      argument = 'obj';\n\t    }\n\t\n\t    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n\t      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n\t      source + 'return __p;\\n';\n\t\n\t    var render;\n\t    try {\n\t      render = new Function(argument, '_', source);\n\t    } catch (e) {\n\t      e.source = source;\n\t      throw e;\n\t    }\n\t\n\t    var template = function(data) {\n\t      return render.call(this, data, _$1);\n\t    };\n\t\n\t    // Provide the compiled source as a convenience for precompilation.\n\t    template.source = 'function(' + argument + '){\\n' + source + '}';\n\t\n\t    return template;\n\t  }\n\t\n\t  // Traverses the children of `obj` along `path`. If a child is a function, it\n\t  // is invoked with its parent as context. Returns the value of the final\n\t  // child, or `fallback` if any child is undefined.\n\t  function result(obj, path, fallback) {\n\t    path = toPath(path);\n\t    var length = path.length;\n\t    if (!length) {\n\t      return isFunction$1(fallback) ? fallback.call(obj) : fallback;\n\t    }\n\t    for (var i = 0; i < length; i++) {\n\t      var prop = obj == null ? void 0 : obj[path[i]];\n\t      if (prop === void 0) {\n\t        prop = fallback;\n\t        i = length; // Ensure we don't continue iterating.\n\t      }\n\t      obj = isFunction$1(prop) ? prop.call(obj) : prop;\n\t    }\n\t    return obj;\n\t  }\n\t\n\t  // Generate a unique integer id (unique within the entire client session).\n\t  // Useful for temporary DOM ids.\n\t  var idCounter = 0;\n\t  function uniqueId(prefix) {\n\t    var id = ++idCounter + '';\n\t    return prefix ? prefix + id : id;\n\t  }\n\t\n\t  // Start chaining a wrapped Underscore object.\n\t  function chain(obj) {\n\t    var instance = _$1(obj);\n\t    instance._chain = true;\n\t    return instance;\n\t  }\n\t\n\t  // Internal function to execute `sourceFunc` bound to `context` with optional\n\t  // `args`. Determines whether to execute a function as a constructor or as a\n\t  // normal function.\n\t  function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n\t    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n\t    var self = baseCreate(sourceFunc.prototype);\n\t    var result = sourceFunc.apply(self, args);\n\t    if (isObject(result)) return result;\n\t    return self;\n\t  }\n\t\n\t  // Partially apply a function by creating a version that has had some of its\n\t  // arguments pre-filled, without changing its dynamic `this` context. `_` acts\n\t  // as a placeholder by default, allowing any combination of arguments to be\n\t  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n\t  var partial = restArguments(function(func, boundArgs) {\n\t    var placeholder = partial.placeholder;\n\t    var bound = function() {\n\t      var position = 0, length = boundArgs.length;\n\t      var args = Array(length);\n\t      for (var i = 0; i < length; i++) {\n\t        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n\t      }\n\t      while (position < arguments.length) args.push(arguments[position++]);\n\t      return executeBound(func, bound, this, this, args);\n\t    };\n\t    return bound;\n\t  });\n\t\n\t  partial.placeholder = _$1;\n\t\n\t  // Create a function bound to a given object (assigning `this`, and arguments,\n\t  // optionally).\n\t  var bind = restArguments(function(func, context, args) {\n\t    if (!isFunction$1(func)) throw new TypeError('Bind must be called on a function');\n\t    var bound = restArguments(function(callArgs) {\n\t      return executeBound(func, bound, context, this, args.concat(callArgs));\n\t    });\n\t    return bound;\n\t  });\n\t\n\t  // Internal helper for collection methods to determine whether a collection\n\t  // should be iterated as an array or as an object.\n\t  // Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\t  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n\t  var isArrayLike = createSizePropertyCheck(getLength);\n\t\n\t  // Internal implementation of a recursive `flatten` function.\n\t  function flatten$1(input, depth, strict, output) {\n\t    output = output || [];\n\t    if (!depth && depth !== 0) {\n\t      depth = Infinity;\n\t    } else if (depth <= 0) {\n\t      return output.concat(input);\n\t    }\n\t    var idx = output.length;\n\t    for (var i = 0, length = getLength(input); i < length; i++) {\n\t      var value = input[i];\n\t      if (isArrayLike(value) && (isArray(value) || isArguments$1(value))) {\n\t        // Flatten current level of array or arguments object.\n\t        if (depth > 1) {\n\t          flatten$1(value, depth - 1, strict, output);\n\t          idx = output.length;\n\t        } else {\n\t          var j = 0, len = value.length;\n\t          while (j < len) output[idx++] = value[j++];\n\t        }\n\t      } else if (!strict) {\n\t        output[idx++] = value;\n\t      }\n\t    }\n\t    return output;\n\t  }\n\t\n\t  // Bind a number of an object's methods to that object. Remaining arguments\n\t  // are the method names to be bound. Useful for ensuring that all callbacks\n\t  // defined on an object belong to it.\n\t  var bindAll = restArguments(function(obj, keys) {\n\t    keys = flatten$1(keys, false, false);\n\t    var index = keys.length;\n\t    if (index < 1) throw new Error('bindAll must be passed function names');\n\t    while (index--) {\n\t      var key = keys[index];\n\t      obj[key] = bind(obj[key], obj);\n\t    }\n\t    return obj;\n\t  });\n\t\n\t  // Memoize an expensive function by storing its results.\n\t  function memoize(func, hasher) {\n\t    var memoize = function(key) {\n\t      var cache = memoize.cache;\n\t      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n\t      if (!has$1(cache, address)) cache[address] = func.apply(this, arguments);\n\t      return cache[address];\n\t    };\n\t    memoize.cache = {};\n\t    return memoize;\n\t  }\n\t\n\t  // Delays a function for the given number of milliseconds, and then calls\n\t  // it with the arguments supplied.\n\t  var delay = restArguments(function(func, wait, args) {\n\t    return setTimeout(function() {\n\t      return func.apply(null, args);\n\t    }, wait);\n\t  });\n\t\n\t  // Defers a function, scheduling it to run after the current call stack has\n\t  // cleared.\n\t  var defer = partial(delay, _$1, 1);\n\t\n\t  // Returns a function, that, when invoked, will only be triggered at most once\n\t  // during a given window of time. Normally, the throttled function will run\n\t  // as much as it can, without ever going more than once per `wait` duration;\n\t  // but if you'd like to disable the execution on the leading edge, pass\n\t  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n\t  function throttle(func, wait, options) {\n\t    var timeout, context, args, result;\n\t    var previous = 0;\n\t    if (!options) options = {};\n\t\n\t    var later = function() {\n\t      previous = options.leading === false ? 0 : now();\n\t      timeout = null;\n\t      result = func.apply(context, args);\n\t      if (!timeout) context = args = null;\n\t    };\n\t\n\t    var throttled = function() {\n\t      var _now = now();\n\t      if (!previous && options.leading === false) previous = _now;\n\t      var remaining = wait - (_now - previous);\n\t      context = this;\n\t      args = arguments;\n\t      if (remaining <= 0 || remaining > wait) {\n\t        if (timeout) {\n\t          clearTimeout(timeout);\n\t          timeout = null;\n\t        }\n\t        previous = _now;\n\t        result = func.apply(context, args);\n\t        if (!timeout) context = args = null;\n\t      } else if (!timeout && options.trailing !== false) {\n\t        timeout = setTimeout(later, remaining);\n\t      }\n\t      return result;\n\t    };\n\t\n\t    throttled.cancel = function() {\n\t      clearTimeout(timeout);\n\t      previous = 0;\n\t      timeout = context = args = null;\n\t    };\n\t\n\t    return throttled;\n\t  }\n\t\n\t  // When a sequence of calls of the returned function ends, the argument\n\t  // function is triggered. The end of a sequence is defined by the `wait`\n\t  // parameter. If `immediate` is passed, the argument function will be\n\t  // triggered at the beginning of the sequence instead of at the end.\n\t  function debounce(func, wait, immediate) {\n\t    var timeout, previous, args, result, context;\n\t\n\t    var later = function() {\n\t      var passed = now() - previous;\n\t      if (wait > passed) {\n\t        timeout = setTimeout(later, wait - passed);\n\t      } else {\n\t        timeout = null;\n\t        if (!immediate) result = func.apply(context, args);\n\t        // This check is needed because `func` can recursively invoke `debounced`.\n\t        if (!timeout) args = context = null;\n\t      }\n\t    };\n\t\n\t    var debounced = restArguments(function(_args) {\n\t      context = this;\n\t      args = _args;\n\t      previous = now();\n\t      if (!timeout) {\n\t        timeout = setTimeout(later, wait);\n\t        if (immediate) result = func.apply(context, args);\n\t      }\n\t      return result;\n\t    });\n\t\n\t    debounced.cancel = function() {\n\t      clearTimeout(timeout);\n\t      timeout = args = context = null;\n\t    };\n\t\n\t    return debounced;\n\t  }\n\t\n\t  // Returns the first function passed as an argument to the second,\n\t  // allowing you to adjust arguments, run code before and after, and\n\t  // conditionally execute the original function.\n\t  function wrap(func, wrapper) {\n\t    return partial(wrapper, func);\n\t  }\n\t\n\t  // Returns a negated version of the passed-in predicate.\n\t  function negate(predicate) {\n\t    return function() {\n\t      return !predicate.apply(this, arguments);\n\t    };\n\t  }\n\t\n\t  // Returns a function that is the composition of a list of functions, each\n\t  // consuming the return value of the function that follows.\n\t  function compose() {\n\t    var args = arguments;\n\t    var start = args.length - 1;\n\t    return function() {\n\t      var i = start;\n\t      var result = args[start].apply(this, arguments);\n\t      while (i--) result = args[i].call(this, result);\n\t      return result;\n\t    };\n\t  }\n\t\n\t  // Returns a function that will only be executed on and after the Nth call.\n\t  function after(times, func) {\n\t    return function() {\n\t      if (--times < 1) {\n\t        return func.apply(this, arguments);\n\t      }\n\t    };\n\t  }\n\t\n\t  // Returns a function that will only be executed up to (but not including) the\n\t  // Nth call.\n\t  function before(times, func) {\n\t    var memo;\n\t    return function() {\n\t      if (--times > 0) {\n\t        memo = func.apply(this, arguments);\n\t      }\n\t      if (times <= 1) func = null;\n\t      return memo;\n\t    };\n\t  }\n\t\n\t  // Returns a function that will be executed at most one time, no matter how\n\t  // often you call it. Useful for lazy initialization.\n\t  var once = partial(before, 2);\n\t\n\t  // Returns the first key on an object that passes a truth test.\n\t  function findKey(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var _keys = keys(obj), key;\n\t    for (var i = 0, length = _keys.length; i < length; i++) {\n\t      key = _keys[i];\n\t      if (predicate(obj[key], key, obj)) return key;\n\t    }\n\t  }\n\t\n\t  // Internal function to generate `_.findIndex` and `_.findLastIndex`.\n\t  function createPredicateIndexFinder(dir) {\n\t    return function(array, predicate, context) {\n\t      predicate = cb(predicate, context);\n\t      var length = getLength(array);\n\t      var index = dir > 0 ? 0 : length - 1;\n\t      for (; index >= 0 && index < length; index += dir) {\n\t        if (predicate(array[index], index, array)) return index;\n\t      }\n\t      return -1;\n\t    };\n\t  }\n\t\n\t  // Returns the first index on an array-like that passes a truth test.\n\t  var findIndex = createPredicateIndexFinder(1);\n\t\n\t  // Returns the last index on an array-like that passes a truth test.\n\t  var findLastIndex = createPredicateIndexFinder(-1);\n\t\n\t  // Use a comparator function to figure out the smallest index at which\n\t  // an object should be inserted so as to maintain order. Uses binary search.\n\t  function sortedIndex(array, obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context, 1);\n\t    var value = iteratee(obj);\n\t    var low = 0, high = getLength(array);\n\t    while (low < high) {\n\t      var mid = Math.floor((low + high) / 2);\n\t      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n\t    }\n\t    return low;\n\t  }\n\t\n\t  // Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\n\t  function createIndexFinder(dir, predicateFind, sortedIndex) {\n\t    return function(array, item, idx) {\n\t      var i = 0, length = getLength(array);\n\t      if (typeof idx == 'number') {\n\t        if (dir > 0) {\n\t          i = idx >= 0 ? idx : Math.max(idx + length, i);\n\t        } else {\n\t          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n\t        }\n\t      } else if (sortedIndex && idx && length) {\n\t        idx = sortedIndex(array, item);\n\t        return array[idx] === item ? idx : -1;\n\t      }\n\t      if (item !== item) {\n\t        idx = predicateFind(slice.call(array, i, length), isNaN$1);\n\t        return idx >= 0 ? idx + i : -1;\n\t      }\n\t      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n\t        if (array[idx] === item) return idx;\n\t      }\n\t      return -1;\n\t    };\n\t  }\n\t\n\t  // Return the position of the first occurrence of an item in an array,\n\t  // or -1 if the item is not included in the array.\n\t  // If the array is large and already in sort order, pass `true`\n\t  // for **isSorted** to use binary search.\n\t  var indexOf = createIndexFinder(1, findIndex, sortedIndex);\n\t\n\t  // Return the position of the last occurrence of an item in an array,\n\t  // or -1 if the item is not included in the array.\n\t  var lastIndexOf = createIndexFinder(-1, findLastIndex);\n\t\n\t  // Return the first value which passes a truth test.\n\t  function find(obj, predicate, context) {\n\t    var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n\t    var key = keyFinder(obj, predicate, context);\n\t    if (key !== void 0 && key !== -1) return obj[key];\n\t  }\n\t\n\t  // Convenience version of a common use case of `_.find`: getting the first\n\t  // object containing specific `key:value` pairs.\n\t  function findWhere(obj, attrs) {\n\t    return find(obj, matcher(attrs));\n\t  }\n\t\n\t  // The cornerstone for collection functions, an `each`\n\t  // implementation, aka `forEach`.\n\t  // Handles raw objects in addition to array-likes. Treats all\n\t  // sparse array-likes as if they were dense.\n\t  function each(obj, iteratee, context) {\n\t    iteratee = optimizeCb(iteratee, context);\n\t    var i, length;\n\t    if (isArrayLike(obj)) {\n\t      for (i = 0, length = obj.length; i < length; i++) {\n\t        iteratee(obj[i], i, obj);\n\t      }\n\t    } else {\n\t      var _keys = keys(obj);\n\t      for (i = 0, length = _keys.length; i < length; i++) {\n\t        iteratee(obj[_keys[i]], _keys[i], obj);\n\t      }\n\t    }\n\t    return obj;\n\t  }\n\t\n\t  // Return the results of applying the iteratee to each element.\n\t  function map(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    var _keys = !isArrayLike(obj) && keys(obj),\n\t        length = (_keys || obj).length,\n\t        results = Array(length);\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = _keys ? _keys[index] : index;\n\t      results[index] = iteratee(obj[currentKey], currentKey, obj);\n\t    }\n\t    return results;\n\t  }\n\t\n\t  // Internal helper to create a reducing function, iterating left or right.\n\t  function createReduce(dir) {\n\t    // Wrap code that reassigns argument variables in a separate function than\n\t    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n\t    var reducer = function(obj, iteratee, memo, initial) {\n\t      var _keys = !isArrayLike(obj) && keys(obj),\n\t          length = (_keys || obj).length,\n\t          index = dir > 0 ? 0 : length - 1;\n\t      if (!initial) {\n\t        memo = obj[_keys ? _keys[index] : index];\n\t        index += dir;\n\t      }\n\t      for (; index >= 0 && index < length; index += dir) {\n\t        var currentKey = _keys ? _keys[index] : index;\n\t        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n\t      }\n\t      return memo;\n\t    };\n\t\n\t    return function(obj, iteratee, memo, context) {\n\t      var initial = arguments.length >= 3;\n\t      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n\t    };\n\t  }\n\t\n\t  // **Reduce** builds up a single result from a list of values, aka `inject`,\n\t  // or `foldl`.\n\t  var reduce = createReduce(1);\n\t\n\t  // The right-associative version of reduce, also known as `foldr`.\n\t  var reduceRight = createReduce(-1);\n\t\n\t  // Return all the elements that pass a truth test.\n\t  function filter(obj, predicate, context) {\n\t    var results = [];\n\t    predicate = cb(predicate, context);\n\t    each(obj, function(value, index, list) {\n\t      if (predicate(value, index, list)) results.push(value);\n\t    });\n\t    return results;\n\t  }\n\t\n\t  // Return all the elements for which a truth test fails.\n\t  function reject(obj, predicate, context) {\n\t    return filter(obj, negate(cb(predicate)), context);\n\t  }\n\t\n\t  // Determine whether all of the elements pass a truth test.\n\t  function every(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var _keys = !isArrayLike(obj) && keys(obj),\n\t        length = (_keys || obj).length;\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = _keys ? _keys[index] : index;\n\t      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n\t    }\n\t    return true;\n\t  }\n\t\n\t  // Determine if at least one element in the object passes a truth test.\n\t  function some(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var _keys = !isArrayLike(obj) && keys(obj),\n\t        length = (_keys || obj).length;\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = _keys ? _keys[index] : index;\n\t      if (predicate(obj[currentKey], currentKey, obj)) return true;\n\t    }\n\t    return false;\n\t  }\n\t\n\t  // Determine if the array or object contains a given item (using `===`).\n\t  function contains(obj, item, fromIndex, guard) {\n\t    if (!isArrayLike(obj)) obj = values(obj);\n\t    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n\t    return indexOf(obj, item, fromIndex) >= 0;\n\t  }\n\t\n\t  // Invoke a method (with arguments) on every item in a collection.\n\t  var invoke = restArguments(function(obj, path, args) {\n\t    var contextPath, func;\n\t    if (isFunction$1(path)) {\n\t      func = path;\n\t    } else {\n\t      path = toPath(path);\n\t      contextPath = path.slice(0, -1);\n\t      path = path[path.length - 1];\n\t    }\n\t    return map(obj, function(context) {\n\t      var method = func;\n\t      if (!method) {\n\t        if (contextPath && contextPath.length) {\n\t          context = deepGet(context, contextPath);\n\t        }\n\t        if (context == null) return void 0;\n\t        method = context[path];\n\t      }\n\t      return method == null ? method : method.apply(context, args);\n\t    });\n\t  });\n\t\n\t  // Convenience version of a common use case of `_.map`: fetching a property.\n\t  function pluck(obj, key) {\n\t    return map(obj, property(key));\n\t  }\n\t\n\t  // Convenience version of a common use case of `_.filter`: selecting only\n\t  // objects containing specific `key:value` pairs.\n\t  function where(obj, attrs) {\n\t    return filter(obj, matcher(attrs));\n\t  }\n\t\n\t  // Return the maximum element (or element-based computation).\n\t  function max(obj, iteratee, context) {\n\t    var result = -Infinity, lastComputed = -Infinity,\n\t        value, computed;\n\t    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n\t      obj = isArrayLike(obj) ? obj : values(obj);\n\t      for (var i = 0, length = obj.length; i < length; i++) {\n\t        value = obj[i];\n\t        if (value != null && value > result) {\n\t          result = value;\n\t        }\n\t      }\n\t    } else {\n\t      iteratee = cb(iteratee, context);\n\t      each(obj, function(v, index, list) {\n\t        computed = iteratee(v, index, list);\n\t        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n\t          result = v;\n\t          lastComputed = computed;\n\t        }\n\t      });\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Return the minimum element (or element-based computation).\n\t  function min(obj, iteratee, context) {\n\t    var result = Infinity, lastComputed = Infinity,\n\t        value, computed;\n\t    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n\t      obj = isArrayLike(obj) ? obj : values(obj);\n\t      for (var i = 0, length = obj.length; i < length; i++) {\n\t        value = obj[i];\n\t        if (value != null && value < result) {\n\t          result = value;\n\t        }\n\t      }\n\t    } else {\n\t      iteratee = cb(iteratee, context);\n\t      each(obj, function(v, index, list) {\n\t        computed = iteratee(v, index, list);\n\t        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n\t          result = v;\n\t          lastComputed = computed;\n\t        }\n\t      });\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Sample **n** random values from a collection using the modern version of the\n\t  // [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n\t  // If **n** is not specified, returns a single random element.\n\t  // The internal `guard` argument allows it to work with `_.map`.\n\t  function sample(obj, n, guard) {\n\t    if (n == null || guard) {\n\t      if (!isArrayLike(obj)) obj = values(obj);\n\t      return obj[random(obj.length - 1)];\n\t    }\n\t    var sample = isArrayLike(obj) ? clone(obj) : values(obj);\n\t    var length = getLength(sample);\n\t    n = Math.max(Math.min(n, length), 0);\n\t    var last = length - 1;\n\t    for (var index = 0; index < n; index++) {\n\t      var rand = random(index, last);\n\t      var temp = sample[index];\n\t      sample[index] = sample[rand];\n\t      sample[rand] = temp;\n\t    }\n\t    return sample.slice(0, n);\n\t  }\n\t\n\t  // Shuffle a collection.\n\t  function shuffle(obj) {\n\t    return sample(obj, Infinity);\n\t  }\n\t\n\t  // Sort the object's values by a criterion produced by an iteratee.\n\t  function sortBy(obj, iteratee, context) {\n\t    var index = 0;\n\t    iteratee = cb(iteratee, context);\n\t    return pluck(map(obj, function(value, key, list) {\n\t      return {\n\t        value: value,\n\t        index: index++,\n\t        criteria: iteratee(value, key, list)\n\t      };\n\t    }).sort(function(left, right) {\n\t      var a = left.criteria;\n\t      var b = right.criteria;\n\t      if (a !== b) {\n\t        if (a > b || a === void 0) return 1;\n\t        if (a < b || b === void 0) return -1;\n\t      }\n\t      return left.index - right.index;\n\t    }), 'value');\n\t  }\n\t\n\t  // An internal function used for aggregate \"group by\" operations.\n\t  function group(behavior, partition) {\n\t    return function(obj, iteratee, context) {\n\t      var result = partition ? [[], []] : {};\n\t      iteratee = cb(iteratee, context);\n\t      each(obj, function(value, index) {\n\t        var key = iteratee(value, index, obj);\n\t        behavior(result, value, key);\n\t      });\n\t      return result;\n\t    };\n\t  }\n\t\n\t  // Groups the object's values by a criterion. Pass either a string attribute\n\t  // to group by, or a function that returns the criterion.\n\t  var groupBy = group(function(result, value, key) {\n\t    if (has$1(result, key)) result[key].push(value); else result[key] = [value];\n\t  });\n\t\n\t  // Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n\t  // when you know that your index values will be unique.\n\t  var indexBy = group(function(result, value, key) {\n\t    result[key] = value;\n\t  });\n\t\n\t  // Counts instances of an object that group by a certain criterion. Pass\n\t  // either a string attribute to count by, or a function that returns the\n\t  // criterion.\n\t  var countBy = group(function(result, value, key) {\n\t    if (has$1(result, key)) result[key]++; else result[key] = 1;\n\t  });\n\t\n\t  // Split a collection into two arrays: one whose elements all pass the given\n\t  // truth test, and one whose elements all do not pass the truth test.\n\t  var partition = group(function(result, value, pass) {\n\t    result[pass ? 0 : 1].push(value);\n\t  }, true);\n\t\n\t  // Safely create a real, live array from anything iterable.\n\t  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n\t  function toArray(obj) {\n\t    if (!obj) return [];\n\t    if (isArray(obj)) return slice.call(obj);\n\t    if (isString(obj)) {\n\t      // Keep surrogate pair characters together.\n\t      return obj.match(reStrSymbol);\n\t    }\n\t    if (isArrayLike(obj)) return map(obj, identity);\n\t    return values(obj);\n\t  }\n\t\n\t  // Return the number of elements in a collection.\n\t  function size(obj) {\n\t    if (obj == null) return 0;\n\t    return isArrayLike(obj) ? obj.length : keys(obj).length;\n\t  }\n\t\n\t  // Internal `_.pick` helper function to determine whether `key` is an enumerable\n\t  // property name of `obj`.\n\t  function keyInObj(value, key, obj) {\n\t    return key in obj;\n\t  }\n\t\n\t  // Return a copy of the object only containing the allowed properties.\n\t  var pick = restArguments(function(obj, keys) {\n\t    var result = {}, iteratee = keys[0];\n\t    if (obj == null) return result;\n\t    if (isFunction$1(iteratee)) {\n\t      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n\t      keys = allKeys(obj);\n\t    } else {\n\t      iteratee = keyInObj;\n\t      keys = flatten$1(keys, false, false);\n\t      obj = Object(obj);\n\t    }\n\t    for (var i = 0, length = keys.length; i < length; i++) {\n\t      var key = keys[i];\n\t      var value = obj[key];\n\t      if (iteratee(value, key, obj)) result[key] = value;\n\t    }\n\t    return result;\n\t  });\n\t\n\t  // Return a copy of the object without the disallowed properties.\n\t  var omit = restArguments(function(obj, keys) {\n\t    var iteratee = keys[0], context;\n\t    if (isFunction$1(iteratee)) {\n\t      iteratee = negate(iteratee);\n\t      if (keys.length > 1) context = keys[1];\n\t    } else {\n\t      keys = map(flatten$1(keys, false, false), String);\n\t      iteratee = function(value, key) {\n\t        return !contains(keys, key);\n\t      };\n\t    }\n\t    return pick(obj, iteratee, context);\n\t  });\n\t\n\t  // Returns everything but the last entry of the array. Especially useful on\n\t  // the arguments object. Passing **n** will return all the values in\n\t  // the array, excluding the last N.\n\t  function initial(array, n, guard) {\n\t    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n\t  }\n\t\n\t  // Get the first element of an array. Passing **n** will return the first N\n\t  // values in the array. The **guard** check allows it to work with `_.map`.\n\t  function first(array, n, guard) {\n\t    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n\t    if (n == null || guard) return array[0];\n\t    return initial(array, array.length - n);\n\t  }\n\t\n\t  // Returns everything but the first entry of the `array`. Especially useful on\n\t  // the `arguments` object. Passing an **n** will return the rest N values in the\n\t  // `array`.\n\t  function rest(array, n, guard) {\n\t    return slice.call(array, n == null || guard ? 1 : n);\n\t  }\n\t\n\t  // Get the last element of an array. Passing **n** will return the last N\n\t  // values in the array.\n\t  function last(array, n, guard) {\n\t    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n\t    if (n == null || guard) return array[array.length - 1];\n\t    return rest(array, Math.max(0, array.length - n));\n\t  }\n\t\n\t  // Trim out all falsy values from an array.\n\t  function compact(array) {\n\t    return filter(array, Boolean);\n\t  }\n\t\n\t  // Flatten out an array, either recursively (by default), or up to `depth`.\n\t  // Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\n\t  function flatten(array, depth) {\n\t    return flatten$1(array, depth, false);\n\t  }\n\t\n\t  // Take the difference between one array and a number of other arrays.\n\t  // Only the elements present in just the first array will remain.\n\t  var difference = restArguments(function(array, rest) {\n\t    rest = flatten$1(rest, true, true);\n\t    return filter(array, function(value){\n\t      return !contains(rest, value);\n\t    });\n\t  });\n\t\n\t  // Return a version of the array that does not contain the specified value(s).\n\t  var without = restArguments(function(array, otherArrays) {\n\t    return difference(array, otherArrays);\n\t  });\n\t\n\t  // Produce a duplicate-free version of the array. If the array has already\n\t  // been sorted, you have the option of using a faster algorithm.\n\t  // The faster algorithm will not work with an iteratee if the iteratee\n\t  // is not a one-to-one function, so providing an iteratee will disable\n\t  // the faster algorithm.\n\t  function uniq(array, isSorted, iteratee, context) {\n\t    if (!isBoolean(isSorted)) {\n\t      context = iteratee;\n\t      iteratee = isSorted;\n\t      isSorted = false;\n\t    }\n\t    if (iteratee != null) iteratee = cb(iteratee, context);\n\t    var result = [];\n\t    var seen = [];\n\t    for (var i = 0, length = getLength(array); i < length; i++) {\n\t      var value = array[i],\n\t          computed = iteratee ? iteratee(value, i, array) : value;\n\t      if (isSorted && !iteratee) {\n\t        if (!i || seen !== computed) result.push(value);\n\t        seen = computed;\n\t      } else if (iteratee) {\n\t        if (!contains(seen, computed)) {\n\t          seen.push(computed);\n\t          result.push(value);\n\t        }\n\t      } else if (!contains(result, value)) {\n\t        result.push(value);\n\t      }\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Produce an array that contains the union: each distinct element from all of\n\t  // the passed-in arrays.\n\t  var union = restArguments(function(arrays) {\n\t    return uniq(flatten$1(arrays, true, true));\n\t  });\n\t\n\t  // Produce an array that contains every item shared between all the\n\t  // passed-in arrays.\n\t  function intersection(array) {\n\t    var result = [];\n\t    var argsLength = arguments.length;\n\t    for (var i = 0, length = getLength(array); i < length; i++) {\n\t      var item = array[i];\n\t      if (contains(result, item)) continue;\n\t      var j;\n\t      for (j = 1; j < argsLength; j++) {\n\t        if (!contains(arguments[j], item)) break;\n\t      }\n\t      if (j === argsLength) result.push(item);\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Complement of zip. Unzip accepts an array of arrays and groups\n\t  // each array's elements on shared indices.\n\t  function unzip(array) {\n\t    var length = array && max(array, getLength).length || 0;\n\t    var result = Array(length);\n\t\n\t    for (var index = 0; index < length; index++) {\n\t      result[index] = pluck(array, index);\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Zip together multiple lists into a single array -- elements that share\n\t  // an index go together.\n\t  var zip = restArguments(unzip);\n\t\n\t  // Converts lists into objects. Pass either a single array of `[key, value]`\n\t  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n\t  // the corresponding values. Passing by pairs is the reverse of `_.pairs`.\n\t  function object(list, values) {\n\t    var result = {};\n\t    for (var i = 0, length = getLength(list); i < length; i++) {\n\t      if (values) {\n\t        result[list[i]] = values[i];\n\t      } else {\n\t        result[list[i][0]] = list[i][1];\n\t      }\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Generate an integer Array containing an arithmetic progression. A port of\n\t  // the native Python `range()` function. See\n\t  // [the Python documentation](https://docs.python.org/library/functions.html#range).\n\t  function range(start, stop, step) {\n\t    if (stop == null) {\n\t      stop = start || 0;\n\t      start = 0;\n\t    }\n\t    if (!step) {\n\t      step = stop < start ? -1 : 1;\n\t    }\n\t\n\t    var length = Math.max(Math.ceil((stop - start) / step), 0);\n\t    var range = Array(length);\n\t\n\t    for (var idx = 0; idx < length; idx++, start += step) {\n\t      range[idx] = start;\n\t    }\n\t\n\t    return range;\n\t  }\n\t\n\t  // Chunk a single array into multiple arrays, each containing `count` or fewer\n\t  // items.\n\t  function chunk(array, count) {\n\t    if (count == null || count < 1) return [];\n\t    var result = [];\n\t    var i = 0, length = array.length;\n\t    while (i < length) {\n\t      result.push(slice.call(array, i, i += count));\n\t    }\n\t    return result;\n\t  }\n\t\n\t  // Helper function to continue chaining intermediate results.\n\t  function chainResult(instance, obj) {\n\t    return instance._chain ? _$1(obj).chain() : obj;\n\t  }\n\t\n\t  // Add your own custom functions to the Underscore object.\n\t  function mixin(obj) {\n\t    each(functions(obj), function(name) {\n\t      var func = _$1[name] = obj[name];\n\t      _$1.prototype[name] = function() {\n\t        var args = [this._wrapped];\n\t        push.apply(args, arguments);\n\t        return chainResult(this, func.apply(_$1, args));\n\t      };\n\t    });\n\t    return _$1;\n\t  }\n\t\n\t  // Add all mutator `Array` functions to the wrapper.\n\t  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n\t    var method = ArrayProto[name];\n\t    _$1.prototype[name] = function() {\n\t      var obj = this._wrapped;\n\t      if (obj != null) {\n\t        method.apply(obj, arguments);\n\t        if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n\t          delete obj[0];\n\t        }\n\t      }\n\t      return chainResult(this, obj);\n\t    };\n\t  });\n\t\n\t  // Add all accessor `Array` functions to the wrapper.\n\t  each(['concat', 'join', 'slice'], function(name) {\n\t    var method = ArrayProto[name];\n\t    _$1.prototype[name] = function() {\n\t      var obj = this._wrapped;\n\t      if (obj != null) obj = method.apply(obj, arguments);\n\t      return chainResult(this, obj);\n\t    };\n\t  });\n\t\n\t  // Named Exports\n\t\n\t  var allExports = {\n\t    __proto__: null,\n\t    VERSION: VERSION,\n\t    restArguments: restArguments,\n\t    isObject: isObject,\n\t    isNull: isNull,\n\t    isUndefined: isUndefined,\n\t    isBoolean: isBoolean,\n\t    isElement: isElement,\n\t    isString: isString,\n\t    isNumber: isNumber,\n\t    isDate: isDate,\n\t    isRegExp: isRegExp,\n\t    isError: isError,\n\t    isSymbol: isSymbol,\n\t    isArrayBuffer: isArrayBuffer,\n\t    isDataView: isDataView$1,\n\t    isArray: isArray,\n\t    isFunction: isFunction$1,\n\t    isArguments: isArguments$1,\n\t    isFinite: isFinite$1,\n\t    isNaN: isNaN$1,\n\t    isTypedArray: isTypedArray$1,\n\t    isEmpty: isEmpty,\n\t    isMatch: isMatch,\n\t    isEqual: isEqual,\n\t    isMap: isMap,\n\t    isWeakMap: isWeakMap,\n\t    isSet: isSet,\n\t    isWeakSet: isWeakSet,\n\t    keys: keys,\n\t    allKeys: allKeys,\n\t    values: values,\n\t    pairs: pairs,\n\t    invert: invert,\n\t    functions: functions,\n\t    methods: functions,\n\t    extend: extend,\n\t    extendOwn: extendOwn,\n\t    assign: extendOwn,\n\t    defaults: defaults,\n\t    create: create,\n\t    clone: clone,\n\t    tap: tap,\n\t    get: get,\n\t    has: has,\n\t    mapObject: mapObject,\n\t    identity: identity,\n\t    constant: constant,\n\t    noop: noop,\n\t    toPath: toPath$1,\n\t    property: property,\n\t    propertyOf: propertyOf,\n\t    matcher: matcher,\n\t    matches: matcher,\n\t    times: times,\n\t    random: random,\n\t    now: now,\n\t    escape: _escape,\n\t    unescape: _unescape,\n\t    templateSettings: templateSettings,\n\t    template: template,\n\t    result: result,\n\t    uniqueId: uniqueId,\n\t    chain: chain,\n\t    iteratee: iteratee,\n\t    partial: partial,\n\t    bind: bind,\n\t    bindAll: bindAll,\n\t    memoize: memoize,\n\t    delay: delay,\n\t    defer: defer,\n\t    throttle: throttle,\n\t    debounce: debounce,\n\t    wrap: wrap,\n\t    negate: negate,\n\t    compose: compose,\n\t    after: after,\n\t    before: before,\n\t    once: once,\n\t    findKey: findKey,\n\t    findIndex: findIndex,\n\t    findLastIndex: findLastIndex,\n\t    sortedIndex: sortedIndex,\n\t    indexOf: indexOf,\n\t    lastIndexOf: lastIndexOf,\n\t    find: find,\n\t    detect: find,\n\t    findWhere: findWhere,\n\t    each: each,\n\t    forEach: each,\n\t    map: map,\n\t    collect: map,\n\t    reduce: reduce,\n\t    foldl: reduce,\n\t    inject: reduce,\n\t    reduceRight: reduceRight,\n\t    foldr: reduceRight,\n\t    filter: filter,\n\t    select: filter,\n\t    reject: reject,\n\t    every: every,\n\t    all: every,\n\t    some: some,\n\t    any: some,\n\t    contains: contains,\n\t    includes: contains,\n\t    include: contains,\n\t    invoke: invoke,\n\t    pluck: pluck,\n\t    where: where,\n\t    max: max,\n\t    min: min,\n\t    shuffle: shuffle,\n\t    sample: sample,\n\t    sortBy: sortBy,\n\t    groupBy: groupBy,\n\t    indexBy: indexBy,\n\t    countBy: countBy,\n\t    partition: partition,\n\t    toArray: toArray,\n\t    size: size,\n\t    pick: pick,\n\t    omit: omit,\n\t    first: first,\n\t    head: first,\n\t    take: first,\n\t    initial: initial,\n\t    last: last,\n\t    rest: rest,\n\t    tail: rest,\n\t    drop: rest,\n\t    compact: compact,\n\t    flatten: flatten,\n\t    without: without,\n\t    uniq: uniq,\n\t    unique: uniq,\n\t    union: union,\n\t    intersection: intersection,\n\t    difference: difference,\n\t    unzip: unzip,\n\t    transpose: unzip,\n\t    zip: zip,\n\t    object: object,\n\t    range: range,\n\t    chunk: chunk,\n\t    mixin: mixin,\n\t    'default': _$1\n\t  };\n\t\n\t  // Default Export\n\t\n\t  // Add all of the Underscore functions to the wrapper object.\n\t  var _ = mixin(allExports);\n\t  // Legacy Node.js API.\n\t  _._ = _;\n\t\n\t  return _;\n\t\n\t})));\n\t//# sourceMappingURL=underscore-umd.js.map\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports.Model = __webpack_require__(43);\n\tmodule.exports.Collection = __webpack_require__(89);\n\tmodule.exports.Events = __webpack_require__(11);\n\tmodule.exports.extend = __webpack_require__(17);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// this is the extracted view model from backbone\n\t// note that we inject jbone as jquery replacment\n\t// (and underscore directly)\n\t//\n\t// Views are almost more convention than they are actual code.\n\t//  MVC pattern\n\t// Backbone.View\n\t// -------------\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Events = __webpack_require__(11);\n\tvar extend = __webpack_require__(17);\n\tvar $ = __webpack_require__(7);\n\t\n\t// Backbone Views are almost more convention than they are actual code. A View\n\t// is simply a JavaScript object that represents a logical chunk of UI in the\n\t// DOM. This might be a single item, an entire list, a sidebar or panel, or\n\t// even the surrounding frame which wraps your whole app. Defining a chunk of\n\t// UI as a **View** allows you to define your DOM events declaratively, without\n\t// having to worry about render order ... and makes it easy for the view to\n\t// react to specific changes in the state of your models.\n\t\n\t// Creating a Backbone.View creates its initial element outside of the DOM,\n\t// if an existing element is not provided...\n\tvar View =  function(options) {\n\t  this.cid = _.uniqueId('view');\n\t  options || (options = {});\n\t  _.extend(this, _.pick(options, viewOptions));\n\t  this._ensureElement();\n\t  this.initialize.apply(this, arguments);\n\t};\n\t\n\t// Cached regex to split keys for `delegate`.\n\tvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\t\n\t// List of view options to be merged as properties.\n\tvar viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\t\n\t// Set up all inheritable **Backbone.View** properties and methods.\n\t_.extend(View.prototype, Events, {\n\t\n\t  // The default `tagName` of a View's element is `\"div\"`.\n\t  tagName: 'div',\n\t\n\t  // jQuery delegate for element lookup, scoped to DOM elements within the\n\t  // current view. This should be preferred to global lookups where possible.\n\t  $: function(selector) {\n\t    return this.$el.find(selector);\n\t  },\n\t\n\t    // Initialize is an empty function by default. Override it with your own\n\t    // initialization logic.\n\t  initialize: function(){},\n\t\n\t    // **render** is the core function that your view should override, in order\n\t    // to populate its element (`this.el`), with the appropriate HTML. The\n\t    // convention is for **render** to always return `this`.\n\t  render: function() {\n\t    return this;\n\t  },\n\t\n\t    // Remove this view by taking the element out of the DOM, and removing any\n\t    // applicable Backbone.Events listeners.\n\t  remove: function() {\n\t    this._removeElement();\n\t    this.stopListening();\n\t    return this;\n\t  },\n\t\n\t    // Remove this view's element from the document and all event listeners\n\t    // attached to it. Exposed for subclasses using an alternative DOM\n\t    // manipulation API.\n\t  _removeElement: function() {\n\t    this.$el.remove();\n\t  },\n\t\n\t    // Change the view's element (`this.el` property) and re-delegate the\n\t    // view's events on the new element.\n\t  setElement: function(element) {\n\t    this.undelegateEvents();\n\t    this._setElement(element);\n\t    this.delegateEvents();\n\t    return this;\n\t  },\n\t\n\t    // Creates the `this.el` and `this.$el` references for this view using the\n\t    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n\t    // context or an element. Subclasses can override this to utilize an\n\t    // alternative DOM manipulation API and are only required to set the\n\t    // `this.el` property.\n\t  _setElement: function(el) {\n\t    this.$el = el instanceof $ ? el : $(el);\n\t    this.el = this.$el[0];\n\t  },\n\t\n\t    // Set callbacks, where `this.events` is a hash of\n\t    //\n\t    // *{\"event selector\": \"callback\"}*\n\t    //\n\t    //     {\n\t    //       'mousedown .title':  'edit',\n\t    //       'click .button':     'save',\n\t    //       'click .open':       function(e) { ... }\n\t    //     }\n\t    //\n\t    // pairs. Callbacks will be bound to the view, with `this` set properly.\n\t    // Uses event delegation for efficiency.\n\t    // Omitting the selector binds the event to `this.el`.\n\t  delegateEvents: function(events) {\n\t    if (!(events || (events = _.result(this, 'events')))) return this;\n\t    this.undelegateEvents();\n\t    for (var key in events) {\n\t      var method = events[key];\n\t      if (!_.isFunction(method)) method = this[events[key]];\n\t      if (!method) continue;\n\t      var match = key.match(delegateEventSplitter);\n\t      this.delegate(match[1], match[2], _.bind(method, this));\n\t    }\n\t    return this;\n\t  },\n\t\n\t    // Add a single event listener to the view's element (or a child element\n\t    // using `selector`). This only works for delegate-able events: not `focus`,\n\t    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n\t  delegate: function(eventName, selector, listener) {\n\t    this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n\t  },\n\t\n\t    // Clears all callbacks previously bound to the view by `delegateEvents`.\n\t    // You usually don't need to use this, but may wish to if you have multiple\n\t    // Backbone views attached to the same DOM element.\n\t  undelegateEvents: function() {\n\t    if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n\t    return this;\n\t  },\n\t\n\t    // A finer-grained `undelegateEvents` for removing a single delegated event.\n\t    // `selector` and `listener` are both optional.\n\t  undelegate: function(eventName, selector, listener) {\n\t    this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n\t  },\n\t\n\t    // Produces a DOM element to be assigned to your view. Exposed for\n\t    // subclasses using an alternative DOM manipulation API.\n\t  _createElement: function(tagName) {\n\t    return document.createElement(tagName);\n\t  },\n\t\n\t    // Ensure that the View has a DOM element to render into.\n\t    // If `this.el` is a string, pass it through `$()`, take the first\n\t    // matching element, and re-assign it to `el`. Otherwise, create\n\t    // an element from the `id`, `className` and `tagName` properties.\n\t  _ensureElement: function() {\n\t    if (!this.el) {\n\t      var attrs = _.extend({}, _.result(this, 'attributes'));\n\t      if (this.id) attrs.id = _.result(this, 'id');\n\t      if (this.className) attrs['class'] = _.result(this, 'className');\n\t      this.setElement(this._createElement(_.result(this, 'tagName')));\n\t      this._setAttributes(attrs);\n\t    } else {\n\t      this.setElement(_.result(this, 'el'));\n\t    }\n\t  },\n\t\n\t    // Set attributes from a hash on this view's element.  Exposed for\n\t    // subclasses using an alternative DOM manipulation API.\n\t  _setAttributes: function(attributes) {\n\t    this.$el.attr(attributes);\n\t  }\n\t\n\t});\n\t\n\t// setup inheritance\n\tView.extend = extend;\n\tmodule.exports = View;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MenuBuilder;\n\tvar builder = __webpack_require__(114);\n\t\n\tmodule.exports = MenuBuilder = builder.extend({\n\t\n\t  buildDOM: function buildDOM() {\n\t    this.on(\"new:node\", this.buildNode);\n\t    this.on(\"new:button\", this.buildButton);\n\t    this.on(\"new:menu\", this.buildMenu);\n\t    return builder.prototype.buildDOM.call(this);\n\t  },\n\t\n\t  buildNode: function buildNode(li) {\n\t    if (this.g != null) {\n\t      return li.style.lineHeight = this.g.menuconfig.get(\"menuItemLineHeight\");\n\t    }\n\t  },\n\t\n\t  buildButton: function buildButton(btn) {\n\t    if (this.g != null) {\n\t      btn.style.fontSize = this.g.menuconfig.get(\"menuFontsize\");\n\t      btn.style.marginLeft = this.g.menuconfig.get(\"menuMarginLeft\");\n\t      return btn.style.padding = this.g.menuconfig.get(\"menuPadding\");\n\t    }\n\t  },\n\t\n\t  buildMenu: function buildMenu(menu) {\n\t    if (this.g != null) {\n\t      return menu.style.fontSize = this.g.menuconfig.get(\"menuItemFontsize\");\n\t    }\n\t  }\n\t});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(1);\n\tvar viewType = __webpack_require__(3);\n\tvar pluginator;\n\t\n\t/**\n\t * Remove an element and provide a function that inserts it into its original position\n\t * @param element {Element} The element to be temporarily removed\n\t * @return {Function} A function that inserts the element into its original position\n\t **/\n\tfunction removeToInsertLater(element) {\n\t  var parentNode = element.parentNode;\n\t  var nextSibling = element.nextSibling;\n\t  parentNode.removeChild(element);\n\t  return function() {\n\t    if (nextSibling) {\n\t      parentNode.insertBefore(element, nextSibling);\n\t    } else {\n\t      parentNode.appendChild(element);\n\t    }\n\t  };\n\t}\n\t\n\tvar removeChilds = function (node) {\n\t    var last;\n\t    while (last = node.lastChild) node.removeChild(last);\n\t};\n\t\n\tmodule.exports = pluginator = viewType.extend({\n\t  renderSubviews: function() {\n\t    // it is faster to remove the entire element and replace it\n\t    // -> however this will lead to lost id,class and style props\n\t    var oldEl = this.el;\n\t\n\t    // it might be that the element is not on the DOM yet\n\t    var elOnDom = oldEl.parentNode != undefined;\n\t    if(elOnDom){\n\t      var insert = removeToInsertLater(oldEl)\n\t    }\n\t    removeChilds(oldEl);\n\t\n\t    var frag = document.createDocumentFragment();\n\t    var views = this._views();\n\t    var viewsSorted = _.sortBy(views, function(el) {\n\t      return el.ordering;\n\t    });\n\t    var view, node;\n\t    for (var i = 0; i <  viewsSorted.length; i++) {\n\t      view = viewsSorted[i];\n\t      view.render();\n\t      node = view.el;\n\t      if (node != null) {\n\t        frag.appendChild(node);\n\t      }\n\t    }\n\t\n\t    oldEl.appendChild(frag);\n\t    if(elOnDom){\n\t      insert();\n\t    }\n\t    return oldEl;\n\t  },\n\t  addView: function(key, view) {\n\t    var views = this._views();\n\t    if (view == null) {\n\t      throw \"Invalid plugin. \";\n\t    }\n\t    if (view.ordering == null) {\n\t      view.ordering = key;\n\t    }\n\t    return views[key] = view;\n\t  },\n\t  removeViews: function() {\n\t    var el, key;\n\t    var views = this._views();\n\t    for (key in views) {\n\t      el = views[key];\n\t      el.undelegateEvents();\n\t      el.unbind();\n\t      if (el.removeViews != null) {\n\t        el.removeViews();\n\t      }\n\t      el.remove();\n\t    }\n\t    return this.views = {};\n\t  },\n\t  removeView: function(key) {\n\t    var views = this._views();\n\t    views[key].remove();\n\t    return delete views[key];\n\t  },\n\t  getView: function(key) {\n\t    var views = this._views();\n\t    return views[key];\n\t  },\n\t  remove: function() {\n\t    this.removeViews();\n\t    return viewType.prototype.remove.apply(this);\n\t  },\n\t  _views: function() {\n\t    if (this.views == null) {\n\t      this.views = {};\n\t    }\n\t    return this.views;\n\t  }\n\t});\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\tvar Utils = {};\n\t\n\t\n\t/*\n\tRemove an element and provide a function that inserts it into its original position\n\thttps://developers.google.com/speed/articles/javascript-dom\n\t@param element {Element} The element to be temporarily removed\n\t@return {Function} A function that inserts the element into its original position\n\t */\n\t\n\tUtils.removeToInsertLater = function(element) {\n\t  var nextSibling, parentNode;\n\t  parentNode = element.parentNode;\n\t  nextSibling = element.nextSibling;\n\t  parentNode.removeChild(element);\n\t  return function() {\n\t    if (nextSibling) {\n\t      parentNode.insertBefore(element, nextSibling);\n\t    } else {\n\t      parentNode.appendChild(element);\n\t    }\n\t  };\n\t};\n\t\n\t\n\t/*\n\tfastest possible way to destroy all sub nodes (aka childs)\n\thttp://jsperf.com/innerhtml-vs-removechild/15\n\t@param element {Element} The element for which all childs should be removed\n\t */\n\t\n\tUtils.removeAllChilds = function(element) {\n\t  var count;\n\t  count = 0;\n\t  while (element.firstChild) {\n\t    count++;\n\t    element.removeChild(element.firstChild);\n\t  }\n\t};\n\t\n\tmodule.exports = Utils;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {/*!\n\t * jBone v1.2.1 - 2017-09-19 - Library for DOM manipulation\n\t *\n\t * http://jbone.js.org\n\t *\n\t * Copyright 2017 Alexey Kupriyanenko\n\t * Released under the MIT license.\n\t */\n\t\n\t(function (win) {\n\t\n\tvar\n\t// cache previous versions\n\t_$ = win.$,\n\t_jBone = win.jBone,\n\t\n\t// Quick match a standalone tag\n\trquickSingleTag = /^<(\\w+)\\s*\\/?>$/,\n\t\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash\n\trquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,\n\t\n\t// Alias for function\n\tslice = [].slice,\n\tsplice = [].splice,\n\tkeys = Object.keys,\n\t\n\t// Alias for global variables\n\tdoc = win.document,\n\t\n\tisString = function(el) {\n\t    return typeof el === \"string\";\n\t},\n\tisObject = function(el) {\n\t    return el instanceof Object;\n\t},\n\tisFunction = function(el) {\n\t    return ({}).toString.call(el) === \"[object Function]\";\n\t},\n\tisArray = function(el) {\n\t    return Array.isArray(el);\n\t},\n\tjBone = function(element, data) {\n\t    return new fn.init(element, data);\n\t},\n\tfn;\n\t\n\t// set previous values and return the instance upon calling the no-conflict mode\n\tjBone.noConflict = function() {\n\t    win.$ = _$;\n\t    win.jBone = _jBone;\n\t\n\t    return jBone;\n\t};\n\t\n\tfn = jBone.fn = jBone.prototype = {\n\t    init: function(element, data) {\n\t        var elements, tag, wraper, fragment;\n\t\n\t        if (!element) {\n\t            return this;\n\t        }\n\t        if (isString(element)) {\n\t            // Create single DOM element\n\t            if (tag = rquickSingleTag.exec(element)) {\n\t                this[0] = doc.createElement(tag[1]);\n\t                this.length = 1;\n\t\n\t                if (isObject(data)) {\n\t                    this.attr(data);\n\t                }\n\t\n\t                return this;\n\t            }\n\t            // Create DOM collection\n\t            if ((tag = rquickExpr.exec(element)) && tag[1]) {\n\t                fragment = doc.createDocumentFragment();\n\t                wraper = doc.createElement(\"div\");\n\t                wraper.innerHTML = element;\n\t                while (wraper.lastChild) {\n\t                    fragment.appendChild(wraper.firstChild);\n\t                }\n\t                elements = slice.call(fragment.childNodes);\n\t\n\t                return jBone.merge(this, elements);\n\t            }\n\t            // Find DOM elements with querySelectorAll\n\t            if (jBone.isElement(data)) {\n\t                return jBone(data).find(element);\n\t            }\n\t\n\t            try {\n\t                elements = doc.querySelectorAll(element);\n\t\n\t                return jBone.merge(this, elements);\n\t            } catch (e) {\n\t                return this;\n\t            }\n\t        }\n\t        // Wrap DOMElement\n\t        if (element.nodeType) {\n\t            this[0] = element;\n\t            this.length = 1;\n\t\n\t            return this;\n\t        }\n\t        // Run function\n\t        if (isFunction(element)) {\n\t            return element();\n\t        }\n\t        // Return jBone element as is\n\t        if (element instanceof jBone) {\n\t            return element;\n\t        }\n\t\n\t        // Return element wrapped by jBone\n\t        return jBone.makeArray(element, this);\n\t    },\n\t\n\t    pop: [].pop,\n\t    push: [].push,\n\t    reverse: [].reverse,\n\t    shift: [].shift,\n\t    sort: [].sort,\n\t    splice: [].splice,\n\t    slice: [].slice,\n\t    indexOf: [].indexOf,\n\t    forEach: [].forEach,\n\t    unshift: [].unshift,\n\t    concat: [].concat,\n\t    join: [].join,\n\t    every: [].every,\n\t    some: [].some,\n\t    filter: [].filter,\n\t    map: [].map,\n\t    reduce: [].reduce,\n\t    reduceRight: [].reduceRight,\n\t    length: 0\n\t};\n\t\n\tfn.constructor = jBone;\n\t\n\tfn.init.prototype = fn;\n\t\n\tjBone.setId = function(el) {\n\t    var jid = el.jid;\n\t\n\t    if (el === win) {\n\t        jid = \"window\";\n\t    } else if (el.jid === undefined) {\n\t        el.jid = jid = ++jBone._cache.jid;\n\t    }\n\t\n\t    if (!jBone._cache.events[jid]) {\n\t        jBone._cache.events[jid] = {};\n\t    }\n\t};\n\t\n\tjBone.getData = function(el) {\n\t    el = el instanceof jBone ? el[0] : el;\n\t\n\t    var jid = el === win ? \"window\" : el.jid;\n\t\n\t    return {\n\t        jid: jid,\n\t        events: jBone._cache.events[jid]\n\t    };\n\t};\n\t\n\tjBone.isElement = function(el) {\n\t    return el && el instanceof jBone || el instanceof HTMLElement || isString(el);\n\t};\n\t\n\tjBone._cache = {\n\t    events: {},\n\t    jid: 0\n\t};\n\t\n\tfunction isArraylike(obj) {\n\t    var length = obj.length,\n\t        type = typeof obj;\n\t\n\t    if (isFunction(type) || obj === win) {\n\t        return false;\n\t    }\n\t\n\t    if (obj.nodeType === 1 && length) {\n\t        return true;\n\t    }\n\t\n\t    return isArray(type) || length === 0 ||\n\t        typeof length === \"number\" && length > 0 && (length - 1) in obj;\n\t}\n\t\n\tfn.pushStack = function(elems) {\n\t    var ret = jBone.merge(this.constructor(), elems);\n\t\n\t    return ret;\n\t};\n\t\n\tjBone.merge = function(first, second) {\n\t    var l = second.length,\n\t        i = first.length,\n\t        j = 0;\n\t\n\t    while (j < l) {\n\t        first[i++] = second[j++];\n\t    }\n\t\n\t    first.length = i;\n\t\n\t    return first;\n\t};\n\t\n\tjBone.contains = function(container, contained) {\n\t    return container.contains(contained);\n\t};\n\t\n\tjBone.extend = function(target) {\n\t    var tg;\n\t\n\t    splice.call(arguments, 1).forEach(function(source) {\n\t        tg = target; //caching target for perf improvement\n\t\n\t        if (source) {\n\t            for (var prop in source) {\n\t                tg[prop] = source[prop];\n\t            }\n\t        }\n\t    });\n\t\n\t    return target;\n\t};\n\t\n\tjBone.makeArray = function(arr, results) {\n\t    var ret = results || [];\n\t\n\t    if (arr !== null) {\n\t        if (isArraylike(arr)) {\n\t            jBone.merge(ret, isString(arr) ? [arr] : arr);\n\t        } else {\n\t            ret.push(arr);\n\t        }\n\t    }\n\t\n\t    return ret;\n\t};\n\t\n\tjBone.unique = function(array) {\n\t    if (array == null) {\n\t        return [];\n\t    }\n\t\n\t    var result = [];\n\t\n\t    for (var i = 0, length = array.length; i < length; i++) {\n\t        var value = array[i];\n\t        if (result.indexOf(value) < 0) {\n\t            result.push(value);\n\t        }\n\t    }\n\t    return result;\n\t};\n\t\n\tfunction BoneEvent(e, data) {\n\t    var key, setter;\n\t\n\t    this.originalEvent = e;\n\t\n\t    setter = function(key, e) {\n\t        if (key === \"preventDefault\") {\n\t            this[key] = function() {\n\t                this.defaultPrevented = true;\n\t                return e[key]();\n\t            };\n\t        } else if (key === \"stopImmediatePropagation\") {\n\t            this[key] = function() {\n\t                this.immediatePropagationStopped = true;\n\t                return e[key]();\n\t            };\n\t        } else if (isFunction(e[key])) {\n\t            this[key] = function() {\n\t                return e[key]();\n\t            };\n\t        } else {\n\t            this[key] = e[key];\n\t        }\n\t    };\n\t\n\t    for (key in e) {\n\t        if (e[key] || typeof e[key] === \"function\") {\n\t            setter.call(this, key, e);\n\t        }\n\t    }\n\t\n\t    jBone.extend(this, data, {\n\t        isImmediatePropagationStopped: function() {\n\t            return !!this.immediatePropagationStopped;\n\t        }\n\t    });\n\t}\n\t\n\tjBone.Event = function(event, data) {\n\t    var namespace, eventType;\n\t\n\t    if (event.type && !data) {\n\t        data = event;\n\t        event = event.type;\n\t    }\n\t\n\t    namespace = event.split(\".\").splice(1).join(\".\");\n\t    eventType = event.split(\".\")[0];\n\t\n\t    event = doc.createEvent(\"Event\");\n\t    event.initEvent(eventType, true, true);\n\t\n\t    return jBone.extend(event, {\n\t        namespace: namespace,\n\t        isDefaultPrevented: function() {\n\t            return event.defaultPrevented;\n\t        }\n\t    }, data);\n\t};\n\t\n\tjBone.event = {\n\t\n\t    /**\n\t     * Attach a handler to an event for the elements\n\t     * @param {Node}        el         - Events will be attached to this DOM Node\n\t     * @param {String}      types      - One or more space-separated event types and optional namespaces\n\t     * @param {Function}    handler    - A function to execute when the event is triggered\n\t     * @param {Object}      [data]     - Data to be passed to the handler in event.data\n\t     * @param {String}      [selector] - A selector string to filter the descendants of the selected elements\n\t     */\n\t    add: function(el, types, handler, data, selector) {\n\t        jBone.setId(el);\n\t\n\t        var eventHandler = function(e) {\n\t                jBone.event.dispatch.call(el, e);\n\t            },\n\t            events = jBone.getData(el).events,\n\t            eventType, t, event;\n\t\n\t        types = types.split(\" \");\n\t        t = types.length;\n\t        while (t--) {\n\t            event = types[t];\n\t\n\t            eventType = event.split(\".\")[0];\n\t            events[eventType] = events[eventType] || [];\n\t\n\t            if (events[eventType].length) {\n\t                // override with previous event handler\n\t                eventHandler = events[eventType][0].fn;\n\t            } else {\n\t                el.addEventListener && el.addEventListener(eventType, eventHandler, false);\n\t            }\n\t\n\t            events[eventType].push({\n\t                namespace: event.split(\".\").splice(1).join(\".\"),\n\t                fn: eventHandler,\n\t                selector: selector,\n\t                data: data,\n\t                originfn: handler\n\t            });\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Remove an event handler\n\t     * @param  {Node}       el        - Events will be deattached from this DOM Node\n\t     * @param  {String}     types     - One or more space-separated event types and optional namespaces\n\t     * @param  {Function}   handler   - A handler function previously attached for the event(s)\n\t     * @param  {String}     [selector] - A selector string to filter the descendants of the selected elements\n\t     */\n\t    remove: function(el, types, handler, selector) {\n\t        var removeListener = function(events, eventType, index, el, e) {\n\t                var callback;\n\t\n\t                // get callback\n\t                if ((handler && e.originfn === handler) || !handler) {\n\t                    callback = e.fn;\n\t                }\n\t\n\t                if (events[eventType][index].fn === callback) {\n\t                    // remove handler from cache\n\t                    events[eventType].splice(index, 1);\n\t\n\t                    if (!events[eventType].length) {\n\t                        el.removeEventListener(eventType, callback);\n\t                    }\n\t                }\n\t            },\n\t            events = jBone.getData(el).events,\n\t            l,\n\t            eventsByType;\n\t\n\t        if (!events) {\n\t            return;\n\t        }\n\t\n\t        // remove all events\n\t        if (!types && events) {\n\t            return keys(events).forEach(function(eventType) {\n\t                eventsByType = events[eventType];\n\t                l = eventsByType.length;\n\t\n\t                while(l--) {\n\t                    removeListener(events, eventType, l, el, eventsByType[l]);\n\t                }\n\t            });\n\t        }\n\t\n\t        types.split(\" \").forEach(function(eventName) {\n\t            var eventType = eventName.split(\".\")[0],\n\t                namespace = eventName.split(\".\").splice(1).join(\".\"),\n\t                e;\n\t\n\t            // remove named events\n\t            if (events[eventType]) {\n\t                eventsByType = events[eventType];\n\t                l = eventsByType.length;\n\t\n\t                while(l--) {\n\t                    e = eventsByType[l];\n\t                    if ((!namespace || (namespace && e.namespace === namespace)) &&\n\t                        (!selector  || (selector  && e.selector === selector))) {\n\t                        removeListener(events, eventType, l, el, e);\n\t                    }\n\t                }\n\t            }\n\t            // remove all namespaced events\n\t            else if (namespace) {\n\t                keys(events).forEach(function(eventType) {\n\t                    eventsByType = events[eventType];\n\t                    l = eventsByType.length;\n\t\n\t                    while(l--) {\n\t                        e = eventsByType[l];\n\t                        if (e.namespace.split(\".\")[0] === namespace.split(\".\")[0]) {\n\t                            removeListener(events, eventType, l, el, e);\n\t                        }\n\t                    }\n\t                });\n\t            }\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Execute all handlers and behaviors attached to the matched elements for the given event type.\n\t     * @param  {Node}       el       - Events will be triggered for thie DOM Node\n\t     * @param  {String}     event    - One or more space-separated event types and optional namespaces\n\t     */\n\t    trigger: function(el, event) {\n\t        var events = [];\n\t\n\t        if (isString(event)) {\n\t            events = event.split(\" \").map(function(event) {\n\t                return jBone.Event(event);\n\t            });\n\t        } else {\n\t            event = event instanceof Event ? event : jBone.Event(event);\n\t            events = [event];\n\t        }\n\t\n\t        events.forEach(function(event) {\n\t            if (!event.type) {\n\t                return;\n\t            }\n\t\n\t            el.dispatchEvent && el.dispatchEvent(event);\n\t        });\n\t    },\n\t\n\t    dispatch: function(e) {\n\t        var i = 0,\n\t            j = 0,\n\t            el = this,\n\t            handlers = jBone.getData(el).events[e.type],\n\t            length = handlers.length,\n\t            handlerQueue = [],\n\t            targets = [],\n\t            l,\n\t            expectedTarget,\n\t            handler,\n\t            event,\n\t            eventOptions;\n\t\n\t        // cache all events handlers, fix issue with multiple handlers (issue #45)\n\t        for (; i < length; i++) {\n\t            handlerQueue.push(handlers[i]);\n\t        }\n\t\n\t        i = 0;\n\t        length = handlerQueue.length;\n\t\n\t        for (;\n\t            // if event exists\n\t            i < length &&\n\t            // if handler is not removed from stack\n\t            ~handlers.indexOf(handlerQueue[i]) &&\n\t            // if propagation is not stopped\n\t            !(event && event.isImmediatePropagationStopped());\n\t        i++) {\n\t            expectedTarget = null;\n\t            eventOptions = {};\n\t            handler = handlerQueue[i];\n\t            handler.data && (eventOptions.data = handler.data);\n\t\n\t            // event handler without selector\n\t            if (!handler.selector) {\n\t                event = new BoneEvent(e, eventOptions);\n\t\n\t                if (!(e.namespace && e.namespace !== handler.namespace)) {\n\t                    handler.originfn.call(el, event);\n\t                }\n\t            }\n\t            // event handler with selector\n\t            else if (\n\t                // if target and selected element the same\n\t                ~(targets = jBone(el).find(handler.selector)).indexOf(e.target) && (expectedTarget = e.target) ||\n\t                // if one of element matched with selector contains target\n\t                (el !== e.target && el.contains(e.target))\n\t            ) {\n\t                // get element matched with selector\n\t                if (!expectedTarget) {\n\t                    l = targets.length;\n\t                    j = 0;\n\t\n\t                    for (; j < l; j++) {\n\t                        if (targets[j] && targets[j].contains(e.target)) {\n\t                            expectedTarget = targets[j];\n\t                        }\n\t                    }\n\t                }\n\t\n\t                if (!expectedTarget) {\n\t                    continue;\n\t                }\n\t\n\t                eventOptions.currentTarget = expectedTarget;\n\t                event = new BoneEvent(e, eventOptions);\n\t\n\t                if (!(e.namespace && e.namespace !== handler.namespace)) {\n\t                    handler.originfn.call(expectedTarget, event);\n\t                }\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\tfn.on = function(types, selector, data, fn) {\n\t    var length = this.length,\n\t        i = 0;\n\t\n\t    if (data == null && fn == null) {\n\t        // (types, fn)\n\t        fn = selector;\n\t        data = selector = undefined;\n\t    } else if (fn == null) {\n\t        if (typeof selector === \"string\") {\n\t            // (types, selector, fn)\n\t            fn = data;\n\t            data = undefined;\n\t        } else {\n\t            // (types, data, fn)\n\t            fn = data;\n\t            data = selector;\n\t            selector = undefined;\n\t        }\n\t    }\n\t\n\t    if (!fn) {\n\t        return this;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        jBone.event.add(this[i], types, fn, data, selector);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.one = function(event) {\n\t    var args = arguments,\n\t        i = 0,\n\t        length = this.length,\n\t        oneArgs = slice.call(args, 1, args.length - 1),\n\t        callback = slice.call(args, -1)[0],\n\t        addListener;\n\t\n\t    addListener = function(el) {\n\t        var $el = jBone(el);\n\t\n\t        event.split(\" \").forEach(function(event) {\n\t            var fn = function(e) {\n\t                $el.off(event, fn);\n\t                callback.call(el, e);\n\t            };\n\t\n\t            $el.on.apply($el, [event].concat(oneArgs, fn));\n\t        });\n\t    };\n\t\n\t    for (; i < length; i++) {\n\t        addListener(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.trigger = function(event) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    if (!event) {\n\t        return this;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        jBone.event.trigger(this[i], event);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.off = function(types, selector, handler) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    if (isFunction(selector)) {\n\t        handler = selector;\n\t        selector = undefined;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        jBone.event.remove(this[i], types, handler, selector);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.find = function(selector) {\n\t    var results = [],\n\t        i = 0,\n\t        length = this.length,\n\t        finder = function(el) {\n\t            if (isFunction(el.querySelectorAll)) {\n\t                [].forEach.call(el.querySelectorAll(selector), function(found) {\n\t                    results.push(found);\n\t                });\n\t            }\n\t        };\n\t\n\t    for (; i < length; i++) {\n\t        finder(this[i]);\n\t    }\n\t\n\t    return jBone(results);\n\t};\n\t\n\tfn.get = function(index) {\n\t    return index != null ?\n\t\n\t        // Return just one element from the set\n\t        (index < 0 ? this[index + this.length] : this[index]) :\n\t\n\t        // Return all the elements in a clean array\n\t        slice.call(this);\n\t};\n\t\n\tfn.eq = function(index) {\n\t    return jBone(this[index]);\n\t};\n\t\n\tfn.parent = function() {\n\t    var results = [],\n\t        parent,\n\t        i = 0,\n\t        length = this.length;\n\t\n\t    for (; i < length; i++) {\n\t        if (!~results.indexOf(parent = this[i].parentElement) && parent) {\n\t            results.push(parent);\n\t        }\n\t    }\n\t\n\t    return jBone(results);\n\t};\n\t\n\tfn.toArray = function() {\n\t    return slice.call(this);\n\t};\n\t\n\tfn.is = function() {\n\t    var args = arguments;\n\t\n\t    return this.some(function(el) {\n\t        return el.tagName.toLowerCase() === args[0];\n\t    });\n\t};\n\t\n\tfn.has = function() {\n\t    var args = arguments;\n\t\n\t    return this.some(function(el) {\n\t        return el.querySelectorAll(args[0]).length;\n\t    });\n\t};\n\t\n\tfn.add = function(selector, context) {\n\t    return this.pushStack(\n\t        jBone.unique(\n\t            jBone.merge(this.get(), jBone(selector, context))\n\t        )\n\t    );\n\t};\n\t\n\tfn.attr = function(key, value) {\n\t    var args = arguments,\n\t        i = 0,\n\t        length = this.length,\n\t        setter;\n\t\n\t    if (isString(key) && args.length === 1) {\n\t        return this[0] && this[0].getAttribute(key);\n\t    }\n\t\n\t    if (args.length === 2) {\n\t        setter = function(el) {\n\t            el.setAttribute(key, value);\n\t        };\n\t    } else if (isObject(key)) {\n\t        setter = function(el) {\n\t            keys(key).forEach(function(name) {\n\t                el.setAttribute(name, key[name]);\n\t            });\n\t        };\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.removeAttr = function(key) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    for (; i < length; i++) {\n\t        this[i].removeAttribute(key);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.val = function(value) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    if (arguments.length === 0) {\n\t        return this[0] && this[0].value;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        this[i].value = value;\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.css = function(key, value) {\n\t    var args = arguments,\n\t        i = 0,\n\t        length = this.length,\n\t        setter;\n\t\n\t    // Get attribute\n\t    if (isString(key) && args.length === 1) {\n\t        return this[0] && win.getComputedStyle(this[0])[key];\n\t    }\n\t\n\t    // Set attributes\n\t    if (args.length === 2) {\n\t        setter = function(el) {\n\t            el.style[key] = value;\n\t        };\n\t    } else if (isObject(key)) {\n\t        setter = function(el) {\n\t            keys(key).forEach(function(name) {\n\t                el.style[name] = key[name];\n\t            });\n\t        };\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.data = function(key, value) {\n\t    var args = arguments, data = {},\n\t        i = 0,\n\t        length = this.length,\n\t        setter,\n\t        setValue = function(el, key, value) {\n\t            if (isObject(value)) {\n\t                el.jdata = el.jdata || {};\n\t                el.jdata[key] = value;\n\t            } else {\n\t                el.dataset[key] = value;\n\t            }\n\t        },\n\t        getValue = function(value) {\n\t            if (value === \"true\") {\n\t                return true;\n\t            } else if (value === \"false\") {\n\t                return false;\n\t            } else {\n\t                return value;\n\t            }\n\t        };\n\t\n\t    // Get all data\n\t    if (args.length === 0) {\n\t        this[0].jdata && (data = this[0].jdata);\n\t\n\t        keys(this[0].dataset).forEach(function(key) {\n\t            data[key] = getValue(this[0].dataset[key]);\n\t        }, this);\n\t\n\t        return data;\n\t    }\n\t    // Get data by name\n\t    if (args.length === 1 && isString(key)) {\n\t        return this[0] && getValue(this[0].dataset[key] || this[0].jdata && this[0].jdata[key]);\n\t    }\n\t\n\t    // Set data\n\t    if (args.length === 1 && isObject(key)) {\n\t        setter = function(el) {\n\t            keys(key).forEach(function(name) {\n\t                setValue(el, name, key[name]);\n\t            });\n\t        };\n\t    } else if (args.length === 2) {\n\t        setter = function(el) {\n\t            setValue(el, key, value);\n\t        };\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.removeData = function(key) {\n\t    var i = 0,\n\t        length = this.length,\n\t        jdata, dataset;\n\t\n\t    for (; i < length; i++) {\n\t        jdata = this[i].jdata;\n\t        dataset = this[i].dataset;\n\t\n\t        if (key) {\n\t            jdata && jdata[key] && delete jdata[key];\n\t            delete dataset[key];\n\t        } else {\n\t            for (key in jdata) {\n\t                delete jdata[key];\n\t            }\n\t\n\t            for (key in dataset) {\n\t                delete dataset[key];\n\t            }\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.addClass = function(className) {\n\t    var i = 0,\n\t        j = 0,\n\t        length = this.length,\n\t        classes = className ? className.trim().split(/\\s+/) : [];\n\t\n\t    for (; i < length; i++) {\n\t        j = 0;\n\t\n\t        for (j = 0; j < classes.length; j++) {\n\t            this[i].classList.add(classes[j]);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.removeClass = function(className) {\n\t    var i = 0,\n\t        j = 0,\n\t        length = this.length,\n\t        classes = className ? className.trim().split(/\\s+/) : [];\n\t\n\t    for (; i < length; i++) {\n\t        j = 0;\n\t\n\t        for (j = 0; j < classes.length; j++) {\n\t            this[i].classList.remove(classes[j]);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.toggleClass = function(className, force) {\n\t    var i = 0,\n\t        length = this.length,\n\t        method = \"toggle\";\n\t\n\t    force === true && (method = \"add\") || force === false && (method = \"remove\");\n\t\n\t    if (className) {\n\t        for (; i < length; i++) {\n\t            this[i].classList[method](className);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.hasClass = function(className) {\n\t    var i = 0, length = this.length;\n\t\n\t    if (className) {\n\t        for (; i < length; i++) {\n\t            if (this[i].classList.contains(className)) {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t\n\t    return false;\n\t};\n\t\n\tfn.html = function(value) {\n\t    var args = arguments,\n\t        el;\n\t\n\t    // add HTML into elements\n\t    if (args.length === 1 && value !== undefined) {\n\t        return this.empty().append(value);\n\t    }\n\t    // get HTML from element\n\t    else if (args.length === 0 && (el = this[0])) {\n\t        return el.innerHTML;\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.append = function(appended) {\n\t    var i = 0,\n\t        length = this.length,\n\t        setter;\n\t\n\t    // create jBone object and then append\n\t    if (isString(appended) && rquickExpr.exec(appended)) {\n\t        appended = jBone(appended);\n\t    }\n\t    // create text node for insertion\n\t    else if (!isObject(appended)) {\n\t        appended = document.createTextNode(appended);\n\t    }\n\t\n\t    appended = appended instanceof jBone ? appended : jBone(appended);\n\t\n\t    setter = function(el, i) {\n\t        appended.forEach(function(node) {\n\t            if (i) {\n\t                el.appendChild(node.cloneNode(true));\n\t            } else {\n\t                el.appendChild(node);\n\t            }\n\t        });\n\t    };\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i], i);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.appendTo = function(to) {\n\t    jBone(to).append(this);\n\t\n\t    return this;\n\t};\n\t\n\tfn.empty = function() {\n\t    var i = 0,\n\t        length = this.length,\n\t        el;\n\t\n\t    for (; i < length; i++) {\n\t        el = this[i];\n\t\n\t        while (el.lastChild) {\n\t            el.removeChild(el.lastChild);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.remove = function() {\n\t    var i = 0,\n\t        length = this.length,\n\t        el;\n\t\n\t    // remove all listeners\n\t    this.off();\n\t\n\t    for (; i < length; i++) {\n\t        el = this[i];\n\t\n\t        // remove data and nodes\n\t        delete el.jdata;\n\t        el.parentNode && el.parentNode.removeChild(el);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tif (typeof module === \"object\" && module && typeof module.exports === \"object\") {\n\t    // Expose jBone as module.exports in loaders that implement the Node\n\t    // module pattern (including browserify). Do not create the global, since\n\t    // the user will be storing it themselves locally, and globals are frowned\n\t    // upon in the Node module world.\n\t    module.exports = jBone;\n\t}\n\t// Register as a AMD module\n\telse if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t        return jBone;\n\t    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\n\t    win.jBone = win.$ = jBone;\n\t} else if (typeof win === \"object\" && typeof win.document === \"object\") {\n\t    win.jBone = win.$ = jBone;\n\t}\n\t\n\t}(typeof window !== \"undefined\" ? window : this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40)(module)))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// holds the current user selection\n\tvar Selection = Model.extend({\n\t  defaults: { type: \"super\" }\n\t\n\t});var RowSelection = Selection.extend({\n\t  defaults: _.extend({}, Selection.prototype.defaults, { type: \"row\",\n\t    seqId: \"\"\n\t  }),\n\t\n\t  inRow: function inRow(seqId) {\n\t    return seqId === this.get(\"seqId\");\n\t  },\n\t  inColumn: function inColumn(rowPos) {\n\t    return true;\n\t  },\n\t  getLength: function getLength() {\n\t    return 1;\n\t  }\n\t});\n\t\n\tvar ColumnSelection = Selection.extend({\n\t  defaults: _.extend({}, Selection.prototype.defaults, { type: \"column\",\n\t    xStart: -1,\n\t    xEnd: -1\n\t  }),\n\t\n\t  inRow: function inRow() {\n\t    return true;\n\t  },\n\t  inColumn: function inColumn(rowPos) {\n\t    return xStart <= rowPos && rowPos <= xEnd;\n\t  },\n\t  getLength: function getLength() {\n\t    return xEnd - xStart;\n\t  }\n\t});\n\t\n\t// pos is a mixin of column and row\n\t// start with Row and only overwrite \"inColumn\" from Column\n\tvar PosSelection = RowSelection.extend(_.extend({}, _.pick(ColumnSelection, \"inColumn\"), _.pick(ColumnSelection, \"getLength\"),\n\t\n\t// merge both defaults\n\t{ defaults: _.extend({}, ColumnSelection.prototype.defaults, RowSelection.prototype.defaults, { type: \"pos\"\n\t  })\n\t}));\n\t\n\tmodule.exports.sel = Selection;\n\tmodule.exports.possel = PosSelection;\n\tmodule.exports.rowsel = RowSelection;\n\tmodule.exports.columnsel = ColumnSelection;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SelectionManager;\n\tvar sel = __webpack_require__(8);\n\tvar _ = __webpack_require__(1);\n\tvar Collection = __webpack_require__(2).Collection;\n\t\n\t// holds the current user selection\n\tmodule.exports = SelectionManager = Collection.extend({\n\t\n\t  model: sel.sel,\n\t\n\t  initialize: function initialize(data, opts) {\n\t    if (typeof opts !== \"undefined\" && opts !== null) {\n\t      this.g = opts.g;\n\t\n\t      this.listenTo(this.g, \"residue:click\", function (e) {\n\t        return this._handleE(e.evt, new sel.possel({\n\t          xStart: e.rowPos,\n\t          xEnd: e.rowPos,\n\t          seqId: e.seqId\n\t        }));\n\t      });\n\t\n\t      this.listenTo(this.g, \"row:click\", function (e) {\n\t        return this._handleE(e.evt, new sel.rowsel({\n\t          seqId: e.seqId\n\t        }));\n\t      });\n\t\n\t      return this.listenTo(this.g, \"column:click\", function (e) {\n\t        return this._handleE(e.evt, new sel.columnsel({\n\t          xStart: e.rowPos,\n\t          xEnd: e.rowPos + e.stepSize - 1\n\t        }));\n\t      });\n\t    }\n\t  },\n\t\n\t  //@listenTo @, \"add reset\", (e) ->\n\t  //@_reduceColumns()\n\t\n\t  getSelForRow: function getSelForRow(seqId) {\n\t    return this.filter(function (el) {\n\t      return el.inRow(seqId);\n\t    });\n\t  },\n\t\n\t  getSelForColumns: function getSelForColumns(rowPos) {\n\t    return this.filter(function (el) {\n\t      return el.inColumn(rowPos);\n\t    });\n\t  },\n\t\n\t  addJSON: function addJSON(model) {\n\t    return this.add(this._fromJSON(model));\n\t  },\n\t\n\t  _fromJSON: function _fromJSON(model) {\n\t    switch (model.type) {\n\t      case \"column\":\n\t        return new sel.columnsel(model);\n\t      case \"row\":\n\t        return new sel.rowsel(model);\n\t      case \"pos\":\n\t        return new sel.possel(model);\n\t    }\n\t  },\n\t\n\t  // allows normal JSON input\n\t  resetJSON: function resetJSON(arr) {\n\t    arr = _.map(arr, this._fromJSON);\n\t    return this.reset(arr);\n\t  },\n\t\n\t  // @returns array of all selected residues for a row\n\t  getBlocksForRow: function getBlocksForRow(seqId, maxLen) {\n\t    var selis = this.filter(function (el) {\n\t      return el.inRow(seqId);\n\t    });\n\t    var blocks = [];\n\t    for (var i = 0, seli; i < selis.length; i++) {\n\t      seli = selis[i];\n\t      if (seli.attributes.type === \"row\") {\n\t        blocks = function () {\n\t          var result = [];\n\t          var i1 = 0;\n\t          if (0 <= maxLen) {\n\t            while (i1 <= maxLen) {\n\t              result.push(i1++);\n\t            }\n\t          } else {\n\t            while (i1 >= maxLen) {\n\t              result.push(i1--);\n\t            }\n\t          }\n\t          return result;\n\t        }();\n\t        break;\n\t      } else {\n\t        blocks = blocks.concat(function () {\n\t          var result = [];\n\t          var i1 = seli.attributes.xStart;\n\t          if (seli.attributes.xStart <= seli.attributes.xEnd) {\n\t            while (i1 <= seli.attributes.xEnd) {\n\t              result.push(i1++);\n\t            }\n\t          } else {\n\t            while (i1 >= seli.attributes.xEnd) {\n\t              result.push(i1--);\n\t            }\n\t          }\n\t          return result;\n\t        }());\n\t      }\n\t    }\n\t    return blocks;\n\t  },\n\t\n\t  // @returns array with all columns being selected\n\t  // example: 0-4... 12-14 selected -> [0,1,2,3,4,12,13,14]\n\t  getAllColumnBlocks: function getAllColumnBlocks(conf) {\n\t    var maxLen = conf.maxLen;\n\t    var withPos = conf.withPos;\n\t    var blocks = [];\n\t    if (conf.withPos) {\n\t      var filtered = this.filter(function (el) {\n\t        return el.get('xStart') != null;\n\t      });\n\t    } else {\n\t      filtered = this.filter(function (el) {\n\t        return el.get('type') === \"column\";\n\t      });\n\t    }\n\t    for (var i = 0, seli; i < filtered.length; i++) {\n\t      seli = filtered[i];\n\t      blocks = blocks.concat(function () {\n\t        var result = [];\n\t        var i1 = seli.attributes.xStart;\n\t        if (seli.attributes.xStart <= seli.attributes.xEnd) {\n\t          while (i1 <= seli.attributes.xEnd) {\n\t            result.push(i1++);\n\t          }\n\t        } else {\n\t          while (i1 >= seli.attributes.xEnd) {\n\t            result.push(i1--);\n\t          }\n\t        }\n\t        return result;\n\t      }());\n\t    }\n\t    blocks = _.uniq(blocks);\n\t    return blocks;\n\t  },\n\t\n\t  // inverts the current selection for columns\n\t  // @param rows [Array] all available seqId\n\t  invertRow: function invertRow(rows) {\n\t    var selRows = this.where({ type: \"row\" });\n\t    selRows = _.map(selRows, function (el) {\n\t      return el.attributes.seqId;\n\t    });\n\t    var inverted = _.filter(rows, function (el) {\n\t      if (selRows.indexOf(el) >= 0) {\n\t        return false;\n\t      } // existing selection\n\t      return true;\n\t    });\n\t    // mass insert\n\t    var s = [];\n\t    for (var i = 0, el; i < inverted.length; i++) {\n\t      el = inverted[i];\n\t      s.push(new sel.rowsel({ seqId: el }));\n\t    }\n\t    return this.reset(s);\n\t  },\n\t\n\t  // inverts the current selection for rows\n\t  // @param rows [Array] all available rows (0..max.length)\n\t  invertCol: function invertCol(columns) {\n\t    var xEnd;\n\t    var selColumns = this.where({ type: \"column\" });\n\t    selColumns = _.reduce(selColumns, function (memo, el) {\n\t      return memo.concat(function () {\n\t        var result = [];\n\t        var i = el.attributes.xStart;\n\t        if (el.attributes.xStart <= el.attributes.xEnd) {\n\t          while (i <= el.attributes.xEnd) {\n\t            result.push(i++);\n\t          }\n\t        } else {\n\t          while (i >= el.attributes.xEnd) {\n\t            result.push(i--);\n\t          }\n\t        }\n\t        return result;\n\t      }());\n\t    }, []);\n\t    var inverted = _.filter(columns, function (el) {\n\t      if (selColumns.indexOf(el) >= 0) {\n\t        // existing selection\n\t        return false;\n\t      }\n\t      return true;\n\t    });\n\t    // mass insert\n\t    if (inverted.length === 0) {\n\t      return;\n\t    }\n\t    var s = [];\n\t    var xStart = xEnd = inverted[0];\n\t    for (var i = 0, el; i < inverted.length; i++) {\n\t      el = inverted[i];\n\t      if (xEnd + 1 === el) {\n\t        // contiguous\n\t        xEnd = el;\n\t      } else {\n\t        // gap between\n\t        s.push(new sel.columnsel({ xStart: xStart, xEnd: xEnd }));\n\t        xStart = xEnd = el;\n\t      }\n\t    }\n\t    // check for last gap\n\t    if (xStart !== xEnd) {\n\t      s.push(new sel.columnsel({ xStart: xStart, xEnd: inverted[inverted.length - 1] }));\n\t    }\n\t    return this.reset(s);\n\t  },\n\t\n\t  // method to decide whether to start a new selection\n\t  // or append to the old one (depending whether CTRL was pressed)\n\t  _handleE: function _handleE(e, selection) {\n\t    if (e.ctrlKey || e.metaKey) {\n\t      return this.add(selection);\n\t    } else {\n\t      return this.reset([selection]);\n\t    }\n\t  },\n\t\n\t  // experimental reduce method for columns\n\t  _reduceColumns: function _reduceColumns() {\n\t    return this.each(function (el, index, arr) {\n\t      var cols = _.filter(arr, function (el) {\n\t        return el.get('type') === 'column';\n\t      });\n\t      var xStart = el.get('xStart');\n\t      var xEnd = el.get('xEnd');\n\t\n\t      var lefts = _.filter(cols, function (el) {\n\t        return el.get('xEnd') === xStart - 1;\n\t      });\n\t      for (var i = 0, left; i < lefts.length; i++) {\n\t        left = lefts[i];\n\t        left.set('xEnd', xStart);\n\t      }\n\t\n\t      var rights = _.filter(cols, function (el) {\n\t        return el.get('xStart') === xEnd + 1;\n\t      });\n\t      for (var j = 0, right; j < rights.length; j++) {\n\t        right = rights[j];\n\t        right.set('xStart', xEnd);\n\t      }\n\t\n\t      if (lefts.length > 0 || rights.length > 0) {\n\t        console.log(\"removed el\");\n\t        return el.collection.remove(el);\n\t      }\n\t    });\n\t  }\n\t});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// mini svg helper\n\t\n\tvar svgns = \"http://www.w3.org/2000/svg\";\n\t\n\tvar setAttr = function setAttr(obj, opts) {\n\t  for (var name in opts) {\n\t    var value = opts[name];\n\t    obj.setAttributeNS(null, name, value);\n\t  }\n\t  return obj;\n\t};\n\t\n\tvar Base = function Base(opts) {\n\t  var svg = document.createElementNS(svgns, 'svg');\n\t  svg.setAttribute(\"width\", opts.width);\n\t  svg.setAttribute(\"height\", opts.height);\n\t  return svg;\n\t};\n\t\n\tvar Rect = function Rect(opts) {\n\t  var rect = document.createElementNS(svgns, 'rect');\n\t  return setAttr(rect, opts);\n\t};\n\t\n\tvar Line = function Line(opts) {\n\t  var line = document.createElementNS(svgns, 'line');\n\t  return setAttr(line, opts);\n\t};\n\t\n\tvar Polygon = function Polygon(opts) {\n\t  var line = document.createElementNS(svgns, 'polygon');\n\t  return setAttr(line, opts);\n\t};\n\t\n\tmodule.exports.rect = Rect;\n\tmodule.exports.line = Line;\n\tmodule.exports.polygon = Polygon;\n\tmodule.exports.base = Base;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(88);\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tmodule.exports =\n\t// math utilities\n\tfunction () {\n\t  function BMath() {\n\t    _classCallCheck(this, BMath);\n\t  }\n\t\n\t  _createClass(BMath, null, [{\n\t    key: \"randomInt\",\n\t    value: function randomInt(lower, upper) {\n\t      // Called with one argument\n\t      if (!(typeof upper !== \"undefined\" && upper !== null)) {\n\t        var _ref = [0, lower];\n\t        lower = _ref[0];\n\t        upper = _ref[1];\n\t      }\n\t      // Lower must be less then upper\n\t      if (lower > upper) {\n\t        var _ref2 = [upper, lower];\n\t        lower = _ref2[0];\n\t        upper = _ref2[1];\n\t      }\n\t      // Last statement is a return value\n\t      return Math.floor(Math.random() * (upper - lower + 1) + lower);\n\t    }\n\t\n\t    // @return [Integer] random id\n\t\n\t  }, {\n\t    key: \"uniqueId\",\n\t    value: function uniqueId() {\n\t      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n\t\n\t      var id = \"\";\n\t      while (id.length < length) {\n\t        id += Math.random().toString(36).substr(2);\n\t      }\n\t      return id.substr(0, length);\n\t    }\n\t\n\t    // Returns a random integer between min (inclusive) and max (inclusive)\n\t\n\t  }, {\n\t    key: \"getRandomInt\",\n\t    value: function getRandomInt(min, max) {\n\t      return Math.floor(Math.random() * (max - min + 1)) + min;\n\t    }\n\t  }]);\n\t\n\t  return BMath;\n\t}();\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Exporter;\n\tvar Fasta = __webpack_require__(19);\n\tvar GFF = __webpack_require__(37);\n\tvar xhr = __webpack_require__(21);\n\tvar blobURL = __webpack_require__(108);\n\tvar saveAs = __webpack_require__(109);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = Exporter = { openInJalview: function openInJalview(url, colorscheme) {\n\t    if (url.charAt(0) === '.') {\n\t      // relative urls\n\t      url = document.URL.substr(0, document.URL.lastIndexOf('/')) + \"/\" + url;\n\t    }\n\t\n\t    // check whether this is a local url\n\t    if (url.indexOf(\"http\") < 0) {\n\t      // append host and hope for the best\n\t      var host = \"http://\" + window.location.hostname;\n\t      url = host + url;\n\t    }\n\t\n\t    url = encodeURIComponent(url);\n\t    var jalviewUrl = \"http://www.jalview.org/services/launchApp?open=\" + url;\n\t    jalviewUrl += \"&colour=\" + colorscheme;\n\t    return window.open(jalviewUrl, '_blank');\n\t  },\n\t\n\t  publishWeb: function publishWeb(that, cb) {\n\t    var text = Fasta.write(that.seqs.toJSON());\n\t    text = encodeURIComponent(text);\n\t    var url = \"http://sprunge.biojs.net\";\n\t    return xhr({\n\t      method: \"POST\",\n\t      body: \"sprunge=\" + text,\n\t      uri: url,\n\t      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" }\n\t    }, function (err, rep, body) {\n\t      var link = body.trim();\n\t      return cb(link);\n\t    });\n\t  },\n\t\n\t  shareLink: function shareLink(that, cb) {\n\t    var url = that.g.config.get(\"importURL\");\n\t    var msaURL = \"http://msa.biojs.net/app/?seq=\";\n\t    var fCB = function fCB(link) {\n\t      var fURL = msaURL + link;\n\t      if (cb) {\n\t        return cb(fURL);\n\t      }\n\t    };\n\t    if (!url) {\n\t      return Exporter.publishWeb(that, fCB);\n\t    } else {\n\t      return fCB(url);\n\t    }\n\t  },\n\t\n\t  saveAsFile: function saveAsFile(that, name) {\n\t    // limit at about 256k\n\t    var text = Fasta.write(that.seqs.toJSON());\n\t    var blob = new Blob([text], { type: 'text/plain' });\n\t    return saveAs(blob, name);\n\t  },\n\t\n\t  saveSelection: function saveSelection(that, name) {\n\t    var selection = that.g.selcol.pluck(\"seqId\");\n\t    console.log(selection);\n\t    if (selection.length > 0) {\n\t      // filter those seqids\n\t      selection = that.seqs.filter(function (el) {\n\t        return _.contains(selection, el.get(\"id\"));\n\t      });\n\t      var end = selection.length - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        selection[i] = selection[i].toJSON();\n\t      }\n\t    } else {\n\t      selection = that.seqs.toJSON();\n\t      console.warn(\"no selection found\");\n\t    }\n\t    var text = Fasta.write(selection);\n\t    var blob = new Blob([text], { type: 'text/plain' });\n\t    return saveAs(blob, name);\n\t  },\n\t\n\t  saveAnnots: function saveAnnots(that, name) {\n\t    var features = that.seqs.map(function (el) {\n\t      features = el.get(\"features\");\n\t      if (features.length === 0) {\n\t        return;\n\t      }\n\t      var seqname = el.get(\"name\");\n\t      features.each(function (s) {\n\t        return s.set(\"seqname\", seqname);\n\t      });\n\t      return features.toJSON();\n\t    });\n\t    features = _.flatten(_.compact(features));\n\t    console.log(features);\n\t    var text = GFF.exportLines(features);\n\t    var blob = new Blob([text], { type: 'text/plain' });\n\t    return saveAs(blob, name);\n\t  },\n\t\n\t  saveAsImg: function saveAsImg(that, name) {\n\t    // TODO: this is very ugly\n\t    var canvas = that.getView('stage').getView('body').getView('seqblock').el;\n\t    if (typeof canvas !== \"undefined\" && canvas !== null) {\n\t      var url = canvas.toDataURL('image/png');\n\t      return saveAs(blobURL(url), name, \"image/png\");\n\t    }\n\t  }\n\t};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar FileHelper;\n\tvar FastaReader = __webpack_require__(19);\n\tvar ClustalReader = __webpack_require__(44);\n\tvar GffReader = __webpack_require__(37);\n\tvar _ = __webpack_require__(1);\n\tvar xhr = __webpack_require__(21);\n\t\n\tmodule.exports = FileHelper = function FileHelper(msa) {\n\t  this.msa = msa;\n\t  return this;\n\t};\n\t\n\tvar funs = { guessFileType: function guessFileType(name) {\n\t    name = name.split(\".\");\n\t    var fileName = name[name.length(-1)];\n\t    switch (fileName) {\n\t      case \"aln\":case \"clustal\":\n\t        return ClustalReader;break;\n\t      case \"fasta\":\n\t        return FastaReader;break;\n\t      default:\n\t        return FastaReader;\n\t    }\n\t  },\n\t\n\t  guessFileFromText: function guessFileFromText(text) {\n\t    if (!(typeof text !== \"undefined\" && text !== null)) {\n\t      console.warn(\"invalid file format\");\n\t      return [\"\", \"error\"];\n\t    }\n\t    if (text.substring(0, 7) === \"CLUSTAL\") {\n\t      var reader = ClustalReader;\n\t      var type = \"seqs\";\n\t    } else if (text.substring(0, 1) === \">\") {\n\t      reader = FastaReader;\n\t      type = \"seqs\";\n\t    } else if (text.substring(0, 1) === \"(\") {\n\t      type = \"newick\";\n\t    } else {\n\t      reader = GffReader;\n\t      type = \"features\";\n\t    }\n\t    //console.warn \"Unknown format. Contact greenify\"\n\t    return [reader, type];\n\t  },\n\t\n\t  parseText: function parseText(text) {\n\t    var _guessFileFromText = this.guessFileFromText(text),\n\t        _guessFileFromText2 = _slicedToArray(_guessFileFromText, 2),\n\t        reader = _guessFileFromText2[0],\n\t        type = _guessFileFromText2[1];\n\t\n\t    if (type === \"seqs\") {\n\t      var seqs = reader.parse(text);\n\t      return [seqs, type];\n\t    } else if (type === \"features\") {\n\t      var features = reader.parseSeqs(text);\n\t      return [features, type];\n\t    } else {\n\t      return [text, type];\n\t    }\n\t  },\n\t\n\t  importFiles: function importFiles(files) {\n\t    var _this = this;\n\t\n\t    return function () {\n\t      var result = [];\n\t      var end = files.length - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        var file = files[i];\n\t        var reader = new FileReader();\n\t        reader.onload = function (evt) {\n\t          return _this.importFile(evt.target.result);\n\t        };\n\t        result.push(reader.readAsText(file));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  importFile: function importFile(file) {\n\t    var _this2 = this;\n\t\n\t    var fileName;\n\t\n\t    var _parseText = this.parseText(file),\n\t        _parseText2 = _slicedToArray(_parseText, 2),\n\t        objs = _parseText2[0],\n\t        type = _parseText2[1];\n\t\n\t    if (type === \"error\") {\n\t      return \"error\";\n\t    }\n\t    if (type === \"seqs\") {\n\t      this.msa.seqs.reset(objs);\n\t      this.msa.g.config.set(\"url\", \"userimport\");\n\t      this.msa.g.trigger(\"url:userImport\");\n\t    } else if (type === \"features\") {\n\t      this.msa.seqs.addFeatures(objs);\n\t    } else if (type === \"newick\") {\n\t      this.msa.u.tree.loadTree(function () {\n\t        return _this2.msa.u.tree.showTree(file);\n\t      });\n\t    }\n\t\n\t    return fileName = file.name;\n\t  },\n\t\n\t  importURL: function importURL(url, cb) {\n\t    var _this3 = this;\n\t\n\t    url = this.msa.u.proxy.corsURL(url);\n\t    this.msa.g.config.set(\"url\", url);\n\t    return xhr({\n\t      url: url,\n\t      timeout: 0\n\t    }, function (err, status, body) {\n\t      if (!err) {\n\t        var res = _this3.importFile(body);\n\t        if (res === \"error\") {\n\t          return;\n\t        }\n\t        _this3.msa.g.trigger(\"import:url\", url);\n\t        if (cb) {\n\t          return cb();\n\t        }\n\t      } else {\n\t        return console.log(err);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\t_.extend(FileHelper.prototype, funs);\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar loader;\n\tvar k = __webpack_require__(20);\n\t\n\tmodule.exports = loader =\n\t\n\t// asynchronously require a script\n\t{ loadScript: function loadScript(url, cb) {\n\t    var s = k.mk(\"script\");\n\t    s.type = \"text/javascript\";\n\t    s.src = url;\n\t    s.async = true;\n\t    s.onload = s.onreadystatechange = function () {\n\t      if (!r && (!this.readyState || this.readyState === \"complete\")) {\n\t        var r = true;\n\t        return cb();\n\t      }\n\t    };\n\t    var t = document.getElementsByTagName(\"script\")[0];\n\t    return t.parentNode.appendChild(s);\n\t  },\n\t\n\t  // joins multiple callbacks into one callback\n\t  // a bit like Promise.all - but for callbacks\n\t  joinCb: function joinCb(retCb, finalLength, finalScope) {\n\t    finalLength = finalLength || 1;\n\t    var cbsFinished = 0;\n\t\n\t    var callbackWrapper = function callbackWrapper(cb, scope) {\n\t      if (!(typeof cb !== \"undefined\" && cb !== null)) {\n\t        // directly called (without cb)\n\t        return counter();\n\t      } else {\n\t        return function () {\n\t          var ref;\n\t          if (ref = \"apply\", cb.indexOf(ref) >= 0) {\n\t            cb.apply(scope, arguments);\n\t          }\n\t          return counter();\n\t        };\n\t      }\n\t    };\n\t\n\t    var counter = function counter() {\n\t      cbsFinished++;\n\t      if (cbsFinished === finalLength) {\n\t        return retCb.call(finalScope);\n\t      }\n\t    };\n\t\n\t    return callbackWrapper;\n\t  }\n\t};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ProxyHelper;\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = ProxyHelper = function ProxyHelper(opts) {\n\t  this.g = opts.g;\n\t  return this;\n\t};\n\t\n\tvar proxyFun = { corsURL: function corsURL(url) {\n\t    // do not filter on localhost\n\t    if (document.URL.indexOf('localhost') >= 0 && url[0] === \"/\") {\n\t      return url;\n\t    }\n\t    if (url.charAt(0) === \".\" || url.charAt(0) === \"/\") {\n\t      return url;\n\t    }\n\t\n\t    // DEPRECATED as crossorigin.me requires http\n\t    // remove www + http\n\t    //url = url.replace(\"www\\.\", \"\");\n\t\n\t    if (this.g.config.get('importProxyStripHttp')) {\n\t      url = url.replace(\"http://\", \"\");\n\t      url = url.replace(\"https://\", \"\");\n\t    }\n\t\n\t    // prepend proxy\n\t    url = this.g.config.get('importProxy') + url;\n\t    return url;\n\t  }\n\t};\n\t\n\t_.extend(ProxyHelper.prototype, proxyFun);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t(function (definition) {\n\t  if (true) {\n\t    module.exports = definition();\n\t  }\n\t  else if (typeof define === 'function' && define.amd) {\n\t    define(definition);\n\t  }\n\t  else {\n\t    window.BackboneExtend = definition();\n\t  }\n\t})(function () {\n\t  \"use strict\";\n\t  \n\t  // mini-underscore\n\t  var _ = {\n\t    has: function (obj, key) {\n\t      return Object.prototype.hasOwnProperty.call(obj, key);\n\t    },\n\t  \n\t    extend: function(obj) {\n\t      for (var i=1; i<arguments.length; ++i) {\n\t        var source = arguments[i];\n\t        if (source) {\n\t          for (var prop in source) {\n\t            obj[prop] = source[prop];\n\t          }\n\t        }\n\t      }\n\t      return obj;\n\t    }\n\t  };\n\t\n\t  /// Following code is pasted from Backbone.js ///\n\t\n\t  // Helper function to correctly set up the prototype chain, for subclasses.\n\t  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n\t  // class properties to be extended.\n\t  var extend = function(protoProps, staticProps) {\n\t    var parent = this;\n\t    var child;\n\t\n\t    // The constructor function for the new subclass is either defined by you\n\t    // (the \"constructor\" property in your `extend` definition), or defaulted\n\t    // by us to simply call the parent's constructor.\n\t    if (protoProps && _.has(protoProps, 'constructor')) {\n\t      child = protoProps.constructor;\n\t    } else {\n\t      child = function(){ return parent.apply(this, arguments); };\n\t    }\n\t\n\t    // Add static properties to the constructor function, if supplied.\n\t    _.extend(child, parent, staticProps);\n\t\n\t    // Set the prototype chain to inherit from `parent`, without calling\n\t    // `parent`'s constructor function.\n\t    var Surrogate = function(){ this.constructor = child; };\n\t    Surrogate.prototype = parent.prototype;\n\t    child.prototype = new Surrogate();\n\t\n\t    // Add prototype properties (instance properties) to the subclass,\n\t    // if supplied.\n\t    if (protoProps) _.extend(child.prototype, protoProps);\n\t\n\t    // Set a convenience property in case the parent's prototype is needed\n\t    // later.\n\t    child.__super__ = parent.prototype;\n\t\n\t    return child;\n\t  };\n\t\n\t  // Expose the extend function\n\t  return extend;\n\t});\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar events = __webpack_require__(11);\n\t\n\tevents.onAll = function(callback,context){\n\t  this.on(\"all\", callback,context);\n\t  return this;\n\t};\n\t\n\t// Mixin utility\n\tevents.oldMixin = events.mixin;\n\tevents.mixin = function(proto) {\n\t  events.oldMixin(proto);\n\t  // add custom onAll\n\t  var exports = ['onAll'];\n\t  for(var i=0; i < exports.length;i++){\n\t    var name = exports[i];\n\t    proto[name] = this[name];\n\t  }\n\t  return proto;\n\t};\n\t\n\tmodule.exports = events;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// Generated by CoffeeScript 1.9.0\n\tvar Fasta, GenericReader;\n\t\n\tGenericReader = __webpack_require__(38);\n\t\n\tFasta = __webpack_require__(91);\n\t\n\tmodule.exports = Fasta;\n\t\n\tGenericReader.mixin(Fasta);\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {var koalajs = {};\n\t\n\t// pass an alternative default value\n\tkoalajs.d = koalajs.defaultValue = function defaultValue(obj, defValue) {\n\t  if (obj === undefined) {\n\t    if (typeof obj === \"function\") {\n\t      return defValue();\n\t    }\n\t    return defValue;\n\t  }\n\t  return obj;\n\t};\n\t\n\t// alias for getElementById\n\tkoalajs.id = function mk(el) {\n\t  return document.getElementById(el);\n\t};\n\t\n\t// alias for createElement\n\tkoalajs.mk = function mk(el) {\n\t  return document.createElement(el);\n\t};\n\t\n\tif (module !== undefined && module.exports !== undefined) {\n\t  module.exports = koalajs;\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40)(module)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar window = __webpack_require__(138)\n\tvar once = __webpack_require__(139)\n\tvar parseHeaders = __webpack_require__(50)\n\t\n\tvar messages = {\n\t    \"0\": \"Internal XMLHttpRequest Error\",\n\t    \"4\": \"4xx Client Error\",\n\t    \"5\": \"5xx Server Error\"\n\t}\n\t\n\tvar XHR = window.XMLHttpRequest || noop\n\tvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\t\n\tmodule.exports = createXHR\n\t\n\tfunction createXHR(options, callback) {\n\t    if (typeof options === \"string\") {\n\t        options = { uri: options }\n\t    }\n\t\n\t    options = options || {}\n\t    callback = once(callback)\n\t\n\t    var xhr = options.xhr || null\n\t\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new XDR()\n\t        }else{\n\t            xhr = new XHR()\n\t        }\n\t    }\n\t\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var key\n\t    var load = options.response ? loadResponse : loadXhr\n\t\n\t    if (\"json\" in options) {\n\t        isJson = true\n\t        headers[\"Accept\"] = \"application/json\"\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"Content-Type\"] = \"application/json\"\n\t            body = JSON.stringify(options.json)\n\t        }\n\t    }\n\t\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = load\n\t    xhr.onerror = error\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    // hate IE\n\t    xhr.ontimeout = noop\n\t    xhr.open(method, uri, !sync)\n\t                                    //backward compatibility\n\t    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n\t        xhr.withCredentials = true\n\t    }\n\t\n\t    // Cannot set timeout with sync request\n\t    if (!sync) {\n\t        xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n\t    }\n\t\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\t\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\t    \n\t    if (\"beforeSend\" in options && \n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\t\n\t    xhr.send(body)\n\t\n\t    return xhr\n\t\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            load()\n\t        }\n\t    }\n\t\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = null\n\t\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else if (xhr.responseType === 'text' || !xhr.responseType) {\n\t            body = xhr.responseText || xhr.responseXML\n\t        }\n\t\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\t\n\t        return body\n\t    }\n\t\n\t    function getStatusCode() {\n\t        return xhr.status === 1223 ? 204 : xhr.status\n\t    }\n\t\n\t    // if we're getting a none-ok statusCode, build & return an error\n\t    function errorFromStatusCode(status, body) {\n\t        var error = null\n\t        if (status === 0 || (status >= 400 && status < 600)) {\n\t            var message = (typeof body === \"string\" ? body : false) ||\n\t                messages[String(status).charAt(0)]\n\t            error = new Error(message)\n\t            error.statusCode = status\n\t        }\n\t\n\t        return error\n\t    }\n\t\n\t    // will load the data & process the response in a special response object\n\t    function loadResponse() {\n\t        var status = getStatusCode()\n\t        var body = getBody()\n\t        var error = errorFromStatusCode(status, body)\n\t        var response = {\n\t            body: body,\n\t            statusCode: status,\n\t            statusText: xhr.statusText,\n\t            raw: xhr\n\t        }\n\t        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t            response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t        } else {\n\t            response.headers = {}\n\t        }\n\t\n\t        callback(error, response, response.body)\n\t    }\n\t\n\t    // will load the data and add some response properties to the source xhr\n\t    // and then respond with that\n\t    function loadXhr() {\n\t        var status = getStatusCode()\n\t        var error = errorFromStatusCode(status)\n\t\n\t        xhr.status = xhr.statusCode = status\n\t        xhr.body = getBody()\n\t        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t\n\t        callback(error, xhr, xhr.body)\n\t    }\n\t\n\t    function error(evt) {\n\t        callback(evt, xhr)\n\t    }\n\t}\n\t\n\t\n\tfunction noop() {}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Colorscheme;\n\tvar Colors = __webpack_require__(122);\n\t\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// this is an example of how one could color the MSA\n\t// feel free to create your own color scheme in the /css/schemes folder\n\tmodule.exports = Colorscheme = Model.extend({\n\t\n\t  defaults: {\n\t    scheme: \"taylor\", // name of your color scheme\n\t    colorBackground: true, // otherwise only the text will be colored\n\t    showLowerCase: true, // used to hide and show lowercase chars in the overviewbox\n\t    opacity: 0.6 // opacity for the residues\n\t  },\n\t\n\t  initialize: function initialize(data, seqs, stat) {\n\t    this.colors = new Colors({ seqs: seqs,\n\t      conservation: function conservation() {\n\t        return stat.scale(stat.conservation());\n\t      } });\n\t    // the stats module sends an event every time it is refreshed\n\t    return stat.on(\"reset\", function () {\n\t      // some dynamic modules might require a redraw\n\t      if (this.getSelectedScheme().type === \"dyn\") {\n\t        var ref;\n\t        if (ref = \"reset\", this.getSelectedScheme().indexOf(ref) >= 0) {\n\t          return this.getSelectedScheme().reset();\n\t        }\n\t      }\n\t    }, this);\n\t  },\n\t\n\t  // You can enter your own color scheme here\n\t  addStaticScheme: function addStaticScheme(name, dict) {\n\t    return this.colors.addStaticScheme(name, dict);\n\t  },\n\t\n\t  addDynScheme: function addDynScheme(name, fun) {\n\t    return this.colors.addDynScheme(name, fun);\n\t  },\n\t\n\t  getScheme: function getScheme(name) {\n\t    return this.colors.getScheme(name);\n\t  },\n\t\n\t  getSelectedScheme: function getSelectedScheme() {\n\t    return this.colors.getScheme(this.get(\"scheme\"));\n\t  }\n\t});\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Columns;\n\tvar Model = __webpack_require__(2).Model;\n\tvar _ = __webpack_require__(1);\n\t\n\t// model for column properties (like their hidden state)\n\tmodule.exports = Columns = Model.extend({\n\t\n\t  initialize: function initialize(o, stat) {\n\t    // hidden columns\n\t    if (!(this.get(\"hidden\") != null)) {\n\t      this.set(\"hidden\", []);\n\t    }\n\t    return this.stats = stat;\n\t  },\n\t\n\t  // assumes hidden columns are sorted\n\t  // @returns n [int] number of hidden columns until n\n\t  calcHiddenColumns: function calcHiddenColumns(n) {\n\t    var hidden = this.get(\"hidden\");\n\t    var newX = n;\n\t    for (var j = 0, i; j < hidden.length; j++) {\n\t      i = hidden[j];\n\t      if (i <= newX) {\n\t        newX++;\n\t      }\n\t    }\n\t    return newX - n;\n\t  }\n\t});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Config;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// simple user config\n\tmodule.exports = Config = Model.extend({\n\t\n\t  defaults: { registerMouseHover: false,\n\t    registerMouseClicks: true,\n\t    importProxy: \"https://cors-anywhere.herokuapp.com/\",\n\t    importProxyStripHttp: true,\n\t    eventBus: true,\n\t    alphabetSize: 20,\n\t    dropImport: false,\n\t    debug: false,\n\t    hasRef: false, // hasReference\n\t    bootstrapMenu: false,\n\t    manualRendering: false // not recommended to turn on\n\t  }\n\t});\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Package;\n\tvar Loader = __webpack_require__(15);\n\tvar Model = __webpack_require__(2).Model;\n\t\n\tmodule.exports = Package = Model.extend({\n\t\n\t  initialize: function initialize(g) {\n\t    return this.g = g;\n\t  },\n\t\n\t  development: { \"msa-tnt\": \"/node_modules/msa-tnt/build/bundle.js\",\n\t    \"biojs-io-newick\": \"/node_modules/biojs-io-newick/build/biojs-io-newick.min.js\"\n\t  },\n\t\n\t  // loads a package into the MSA component (if it is not available yet)\n\t  loadPackage: function loadPackage(pkg, cb) {\n\t    try {\n\t      var p = __webpack_require__(141)(pkg);\n\t      return cb(p);\n\t    } catch (error) {\n\t      return Loader.loadScript(this._pkgURL(pkg), cb);\n\t    }\n\t  },\n\t\n\t  // loads multiple packages and calls the cb if all packages are loaded\n\t  loadPackages: function loadPackages(pkgs, cb) {\n\t    var _this = this;\n\t\n\t    var cbs = Loader.joinCb(function () {\n\t      return cb();\n\t    }, pkgs.length);\n\t    return pkgs.forEach(function (pkg) {\n\t      return _this.loadPackage(pkg, cbs);\n\t    });\n\t  },\n\t\n\t  // internal method to get the URL for a package\n\t  _pkgURL: function _pkgURL(pkg) {\n\t\n\t    if (this.g.config.get(\"debug\")) {\n\t      var url = this.development[pkg];\n\t    } else {\n\t      url = \"http://wzrd.in/bundle/\" + pkg + \"@latest\";\n\t    }\n\t\n\t    return url;\n\t  }\n\t});\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Config;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// simple user config\n\tmodule.exports = Config = Model.extend({\n\t\n\t  defaults: { searchText: \"\" }\n\t\n\t});\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Visibility;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// visible areas\n\tmodule.exports = Visibility = Model.extend({\n\t\n\t  defaults:\n\t\n\t  // for the Stage\n\t  { searchBox: -10,\n\t    overviewBox: 30,\n\t    headerBox: -1,\n\t    alignmentBody: 0\n\t  }\n\t});\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Visibility;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// visible areas\n\tmodule.exports = Visibility = Model.extend({\n\t\n\t  defaults: { sequences: true,\n\t    markers: true,\n\t    metacell: false,\n\t    conserv: false,\n\t    overviewbox: false,\n\t    seqlogo: false,\n\t    gapHeader: false,\n\t    leftHeader: true,\n\t\n\t    // about the labels\n\t    labels: true,\n\t    labelName: true,\n\t    labelId: true,\n\t    labelPartition: false,\n\t    labelCheckbox: false,\n\t\n\t    // meta stuff\n\t    metaGaps: true,\n\t    metaIdentity: true,\n\t    metaLinks: true\n\t  },\n\t\n\t  constructor: function constructor(attributes, options) {\n\t    this.calcDefaults(options.model);\n\t    return Model.apply(this, arguments);\n\t  },\n\t\n\t  initialize: function initialize() {\n\t\n\t    this.listenTo(this, \"change:metaLinks change:metaIdentity change:metaGaps\", function () {\n\t      return this.trigger(\"change:metacell\");\n\t    }, this);\n\t\n\t    this.listenTo(this, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", function () {\n\t      return this.trigger(\"change:labels\");\n\t    }, this);\n\t\n\t    return this.listenTo(this, \"change:markers change:conserv change:seqlogo change:gapHeader\", function () {\n\t      return this.trigger(\"change:header\");\n\t    }, this);\n\t  },\n\t\n\t  calcDefaults: function calcDefaults(seqs) {\n\t    if (seqs.length > 0) {\n\t      var seq = seqs.at(0);\n\t      var ids = seq.get(\"ids\");\n\t      if (ids !== undefined && Object.keys(ids).length === 0) {\n\t        return this.defaults.metaLinks = false;\n\t      }\n\t    }\n\t  }\n\t});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Zoomer;\n\tvar Model = __webpack_require__(2).Model;\n\t// pixel properties for some components\n\tmodule.exports = Zoomer = Model.extend({\n\t\n\t  constructor: function constructor(attributes, options) {\n\t    this.calcDefaults(options.model);\n\t    Model.apply(this, arguments);\n\t    this.g = options.g;\n\t\n\t    // events\n\t    this.listenTo(this, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", function () {\n\t      return this.trigger(\"change:labelWidth\", this.getLabelWidth());\n\t    }, this);\n\t    this.listenTo(this, \"change:metaLinksWidth change:metaIdentWidth change:metaGapWidth\", function () {\n\t      return this.trigger(\"change:metaWidth\", this.getMetaWidth());\n\t    }, this);\n\t\n\t    return this;\n\t  },\n\t\n\t  defaults: {\n\t\n\t    // general\n\t    alignmentWidth: \"auto\",\n\t    alignmentHeight: 225,\n\t    columnWidth: 15,\n\t    rowHeight: 15,\n\t    autoResize: true, // only for the width\n\t\n\t    // labels\n\t    textVisible: true,\n\t    labelIdLength: 20,\n\t    labelNameLength: 100,\n\t    labelPartLength: 15,\n\t    labelCheckLength: 15,\n\t    labelFontsize: 13,\n\t    labelLineHeight: \"13px\",\n\t\n\t    // marker\n\t    markerFontsize: \"10px\",\n\t    stepSize: 1,\n\t    markerStepSize: 2,\n\t    markerHeight: 20,\n\t\n\t    // canvas\n\t    residueFont: \"13\", // in px\n\t    canvasEventScale: 1,\n\t\n\t    // overview box\n\t    boxRectHeight: 2,\n\t    boxRectWidth: 2,\n\t    overviewboxPaddingTop: 10,\n\t\n\t    // meta cell\n\t    metaGapWidth: 35,\n\t    metaIdentWidth: 40,\n\t    // metaLinksWidth: 25\n\t\n\t    // internal props\n\t    _alignmentScrollLeft: 0,\n\t    _alignmentScrollTop: 0\n\t  },\n\t\n\t  // sets some defaults, depending on the model\n\t  calcDefaults: function calcDefaults(model) {\n\t    var maxLen = model.getMaxLength();\n\t    if (maxLen < 200 && model.length < 30) {\n\t      return this.defaults.boxRectWidth = this.defaults.boxRectHeight = 5;\n\t    }\n\t  },\n\t\n\t  // @param n [int] maxLength of all seqs\n\t  getAlignmentWidth: function getAlignmentWidth(n) {\n\t    if (this.get(\"autoResize\") && n !== undefined) {\n\t      return this.get(\"columnWidth\") * n;\n\t    }\n\t    if (this.get(\"alignmentWidth\") === undefined || this.get(\"alignmentWidth\") === \"auto\" || this.get(\"alignmentWidth\") === 0) {\n\t      return this._adjustWidth();\n\t    } else {\n\t      return this.get(\"alignmentWidth\");\n\t    }\n\t  },\n\t\n\t  // @param n [int] number of residues to scroll to the right\n\t  setLeftOffset: function setLeftOffset(n) {\n\t    var val = n;\n\t    val = Math.max(0, val);\n\t    val -= this.g.columns.calcHiddenColumns(val);\n\t    return this.set(\"_alignmentScrollLeft\", val * this.get('columnWidth'));\n\t  },\n\t\n\t  // @param n [int] row that should be on top\n\t  setTopOffset: function setTopOffset(n) {\n\t    var val = Math.max(0, n - 1);\n\t    var height = 0;\n\t    for (var i = 0; 0 < val ? i <= val : i >= val; 0 < val ? i++ : i--) {\n\t      var seq = this.model.at(i);\n\t      height += seq.attributes.height || 1;\n\t    }\n\t    return this.set(\"_alignmentScrollTop\", height * this.get(\"rowHeight\"));\n\t  },\n\t\n\t  // length of all elements left to the main sequence body: labels, metacell, ..\n\t  getLeftBlockWidth: function getLeftBlockWidth() {\n\t    var paddingLeft = 0;\n\t    if (this.g.vis.get(\"labels\")) {\n\t      paddingLeft += this.getLabelWidth();\n\t    }\n\t    if (this.g.vis.get(\"metacell\")) {\n\t      paddingLeft += this.getMetaWidth();\n\t    }\n\t    //paddingLeft += 15 # scroll bar\n\t    return paddingLeft;\n\t  },\n\t\n\t  getMetaWidth: function getMetaWidth() {\n\t    var val = 0;\n\t    if (this.g.vis.get(\"metaGaps\")) {\n\t      val += this.get(\"metaGapWidth\");\n\t    }\n\t    if (this.g.vis.get(\"metaIdentity\")) {\n\t      val += this.get(\"metaIdentWidth\");\n\t    }\n\t    if (this.g.vis.get(\"metaLinks\")) {\n\t      val += this.get(\"metaLinksWidth\");\n\t    }\n\t    return val;\n\t  },\n\t\n\t  getLabelWidth: function getLabelWidth() {\n\t    var val = 0;\n\t    if (this.g.vis.get(\"labelName\")) {\n\t      val += this.get(\"labelNameLength\");\n\t    }\n\t    if (this.g.vis.get(\"labelId\")) {\n\t      val += this.get(\"labelIdLength\");\n\t    }\n\t    if (this.g.vis.get(\"labelPartition\")) {\n\t      val += this.get(\"labelPartLength\");\n\t    }\n\t    if (this.g.vis.get(\"labelCheckbox\")) {\n\t      val += this.get(\"labelCheckLength\");\n\t    }\n\t    return val;\n\t  },\n\t\n\t  _adjustWidth: function _adjustWidth() {\n\t    if (!(this.el !== undefined && this.model !== undefined)) {\n\t      return;\n\t    }\n\t    if (this.el.parentNode != null && this.el.parentNode.offsetWidth !== 0) {\n\t      var parentWidth = this.el.parentNode.offsetWidth;\n\t    } else {\n\t      parentWidth = document.body.clientWidth - 35;\n\t    }\n\t\n\t    // TODO: dirty hack\n\t    var maxWidth = parentWidth - this.getLeftBlockWidth();\n\t    var calcWidth = this.getAlignmentWidth(this.model.getMaxLength() - this.g.columns.get('hidden').length);\n\t    var val = Math.min(maxWidth, calcWidth);\n\t    // round to a valid AA box\n\t    val = Math.floor(val / this.get(\"columnWidth\")) * this.get(\"columnWidth\");\n\t\n\t    //@set \"alignmentWidth\", val\n\t    return this.attributes.alignmentWidth = val;\n\t  },\n\t\n\t  autoResize: function autoResize() {\n\t    if (this.get(\"autoResize\")) {\n\t      return this._adjustWidth(this.el, this.model);\n\t    }\n\t  },\n\t\n\t  // max is the maximal allowed height\n\t  autoHeight: function autoHeight(max) {\n\t    // TODO!\n\t    // make seqlogo height configurable\n\t    var val = this.getMaxAlignmentHeight();\n\t    if (max !== undefined && max > 0) {\n\t      val = Math.min(val, max);\n\t    }\n\t\n\t    return this.set(\"alignmentHeight\", val);\n\t  },\n\t\n\t  setEl: function setEl(el, model) {\n\t    this.el = el;\n\t    return this.model = model;\n\t  },\n\t\n\t  // updates both scroll properties (if needed)\n\t  _checkScrolling: function _checkScrolling(scrollObj, opts) {\n\t    var xScroll = scrollObj[0];\n\t    var yScroll = scrollObj[1];\n\t\n\t    this.set(\"_alignmentScrollLeft\", xScroll, opts);\n\t    return this.set(\"_alignmentScrollTop\", yScroll, opts);\n\t  },\n\t\n\t  getMaxAlignmentHeight: function getMaxAlignmentHeight() {\n\t    var height = 0;\n\t    this.model.each(function (seq) {\n\t      return height += seq.attributes.height || 1;\n\t    });\n\t\n\t    return height * this.get(\"rowHeight\");\n\t  },\n\t\n\t  getMaxAlignmentWidth: function getMaxAlignmentWidth() {\n\t    return this.model.getMaxLength() * this.get(\"columnWidth\");\n\t  }\n\t});\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Feature = __webpack_require__(30);\n\tvar Model = __webpack_require__(2).Model;\n\t\n\tmodule.exports = Feature = Model.extend({\n\t\n\t  defaults: { xStart: -1,\n\t    xEnd: -1,\n\t    height: -1,\n\t    text: \"\",\n\t    fillColor: \"red\",\n\t    fillOpacity: 0.5,\n\t    type: \"rectangle\",\n\t    borderSize: 1,\n\t    borderColor: \"black\",\n\t    borderOpacity: 0.5,\n\t    validate: true,\n\t    row: 0\n\t  },\n\t\n\t  initialize: function initialize(obj) {\n\t    if (obj.start != null) {\n\t      // gff counts from 1 where MSA starts at 0\n\t      // This fix that misalignment\n\t      this.set(\"xStart\", obj.start - 1);\n\t    }\n\t    if (obj.end != null) {\n\t      this.set(\"xEnd\", obj.end - 1);\n\t    }\n\t    // name has a predefined meaning\n\t    if (obj.attributes != null) {\n\t      if (obj.attributes.Name != null) {\n\t        this.set(\"text\", obj.attributes.Name);\n\t      }\n\t      if (obj.attributes.Color != null) {\n\t        this.set(\"fillColor\", obj.attributes.Color);\n\t      }\n\t    }\n\t\n\t    if (this.attributes.xEnd < this.attributes.xStart) {\n\t      console.warn(\"invalid feature range for\", this.attributes);\n\t    }\n\t\n\t    if (!_.isNumber(this.attributes.xStart) || !_.isNumber(this.attributes.xEnd)) {\n\t      console.warn(\"please provide numeric feature ranges\", obj);\n\t      // trying auto-casting\n\t      this.set(\"xStart\", parseInt(this.attributes.xStart));\n\t      return this.set(\"xEnd\", parseInt(this.attributes.xEnd));\n\t    }\n\t  },\n\t\n\t  validate: function validate() {\n\t    if (isNaN(this.attributes.xStart || isNaN(this.attributes.xEnd))) {\n\t      return \"features need integer start and end.\";\n\t    }\n\t  },\n\t\n\t  contains: function contains(index) {\n\t    return this.attributes.xStart <= index && index <= this.attributes.xEnd;\n\t  }\n\t});\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar FeatureCol;\n\tvar Feature = __webpack_require__(30);\n\tvar Collection = __webpack_require__(2).Collection;\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = FeatureCol = Collection.extend({\n\t  model: Feature,\n\t\n\t  constructor: function constructor() {\n\t    this.startOnCache = [];\n\t    // invalidate cache\n\t    this.on(\"all\", function () {\n\t      return this.startOnCache = [];\n\t    }, this);\n\t    return Collection.apply(this, arguments);\n\t  },\n\t\n\t  // returns all features starting on index\n\t  startOn: function startOn(index) {\n\t    if (!(this.startOnCache[index] != null)) {\n\t      this.startOnCache[index] = this.where({ xStart: index });\n\t    }\n\t    return this.startOnCache[index];\n\t  },\n\t\n\t  contains: function contains(index) {\n\t    return this.reduce(function (el, memo) {\n\t      return memo || el.contains(index);\n\t    }, false);\n\t  },\n\t\n\t  getFeatureOnRow: function getFeatureOnRow(row, x) {\n\t    return this.filter(function (el) {\n\t      return el.get(\"row\") === row && el.get(\"xStart\") <= x && x <= el.get(\"xEnd\");\n\t    });\n\t  },\n\t\n\t  // tries to auto-fit the rows\n\t  // not a very efficient algorithm\n\t  assignRows: function assignRows() {\n\t\n\t    var len = this.max(function (el) {\n\t      return el.get(\"xEnd\");\n\t    }).attributes.xEnd;\n\t    var rows = function () {\n\t      var result = [];\n\t      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n\t        result.push(0);\n\t      }\n\t      return result;\n\t    }();\n\t\n\t    this.each(function (el) {\n\t      var max = 0;\n\t      var start = el.get(\"xStart\");\n\t      var end = el.get(\"xEnd\");\n\t      for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x--) {\n\t        if (rows[x] > max) {\n\t          max = rows[x];\n\t        }\n\t        rows[x]++;\n\t      }\n\t      return el.set(\"row\", max);\n\t    });\n\t\n\t    return _.max(rows);\n\t  },\n\t\n\t  getCurrentHeight: function getCurrentHeight() {\n\t    return this.max(function (el) {\n\t      return el.get(\"row\");\n\t    }).attributes.row + 1;\n\t  },\n\t\n\t  // gives the minimal needed number of rows\n\t  // not a very efficient algorithm\n\t  // (there is one in O(n) )\n\t  getMinRows: function getMinRows() {\n\t\n\t    var len = this.max(function (el) {\n\t      return el.get(\"xEnd\");\n\t    }).attributes.xEnd;\n\t    var rows = function () {\n\t      var result = [];\n\t      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n\t        result.push(0);\n\t      }\n\t      return result;\n\t    }();\n\t\n\t    this.each(function (el) {\n\t      return function () {\n\t        var result = [];\n\t        var start = el.get(\"xStart\");\n\t        var end = el.get(\"xEnd\");\n\t        for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x++) {\n\t          result.push(rows[x]++);\n\t        }\n\t        return result;\n\t      }();\n\t    });\n\t\n\t    return _.max(rows);\n\t  }\n\t});\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SeqManager;\n\tvar Sequence = __webpack_require__(33);\n\tvar FeatureCol = __webpack_require__(31);\n\tvar Collection = __webpack_require__(2).Collection;\n\t\n\tmodule.exports = SeqManager = Collection.extend({\n\t  model: Sequence,\n\t\n\t  constructor: function constructor(seqs, g) {\n\t    var _this = this;\n\t\n\t    Collection.apply(this, arguments);\n\t    this.g = g;\n\t\n\t    this.on(\"add reset remove\", function () {\n\t      // invalidate cache\n\t      _this.lengthCache = null;\n\t      return _this._bindSeqsWithFeatures();\n\t    }, this);\n\t\n\t    // use the first seq as reference as default\n\t    this.on(\"reset\", function () {\n\t      return _this._autoSetRefSeq();\n\t    });\n\t    this._autoSetRefSeq();\n\t\n\t    this.lengthCache = null;\n\t\n\t    this.features = {};\n\t    return this;\n\t  },\n\t\n\t  // gives the max length of all sequences\n\t  // (cached)\n\t  getMaxLength: function getMaxLength() {\n\t    if (this.models.length === 0) {\n\t      return 0;\n\t    }\n\t    if (this.lengthCache === null) {\n\t      this.lengthCache = this.max(function (seq) {\n\t        return seq.get(\"seq\").length;\n\t      }).get(\"seq\").length;\n\t    }\n\t    return this.lengthCache;\n\t  },\n\t\n\t  // gets the previous model\n\t  // @param endless [boolean] for the first element\n\t  // true: returns the last element, false: returns undefined\n\t  prev: function prev(model, endless) {\n\t    var index = this.indexOf(model) - 1;\n\t    if (index < 0 && endless) {\n\t      index = this.length - 1;\n\t    }\n\t    return this.at(index);\n\t  },\n\t\n\t  // gets the next model\n\t  // @param endless [boolean] for the last element\n\t  // true: returns the first element, false: returns undefined\n\t  next: function next(model, endless) {\n\t    var index = this.indexOf(model) + 1;\n\t    if (index === this.length && endless) {\n\t      index = 0;\n\t    }\n\t    return this.at(index);\n\t  },\n\t\n\t  // @returns n [int] number of hidden columns until n\n\t  calcHiddenSeqs: function calcHiddenSeqs(n) {\n\t    var nNew = n;\n\t    for (var i = 0; 0 < nNew ? i <= nNew : i >= nNew; 0 < nNew ? i++ : i--) {\n\t      if (this.at(i).get(\"hidden\")) {\n\t        nNew++;\n\t      }\n\t    }\n\t    return nNew - n;\n\t  },\n\t\n\t  // you can add features independent to the current seqs as they may be added\n\t  // later (lagging connection)\n\t  addFeatures: function addFeatures(features) {\n\t    var _this2 = this;\n\t\n\t    if (features.config != null) {\n\t      var obj = features;\n\t      features = features.seqs;\n\t      if (obj.config.colors != null) {\n\t        var colors = obj.config.colors;\n\t        _.each(features, function (seq) {\n\t          return _.each(seq, function (val) {\n\t            if (colors[val.feature] != null) {\n\t              return val.fillColor = colors[val.feature];\n\t            }\n\t          });\n\t        });\n\t      }\n\t    }\n\t    if (_.isEmpty(this.features)) {\n\t      this.features = features;\n\t    } else {\n\t      _.each(features, function (val, key) {\n\t        if (!_this2.features.hasOwnProperty(key)) {\n\t          return _this2.features[key] = val;\n\t        } else {\n\t          return _this2.features[key] = _.union(_this2.features[key], val);\n\t        }\n\t      });\n\t    }\n\t    // rehash\n\t    return this._bindSeqsWithFeatures();\n\t  },\n\t\n\t  // adds features to a sequence\n\t  _bindSeqWithFeatures: function _bindSeqWithFeatures(seq) {\n\t    // TODO: probably we don't always want to bind to name\n\t    var features = this.features[seq.attributes.name];\n\t    if (features) {\n\t      seq.set(\"features\", new FeatureCol(features));\n\t      seq.attributes.features.assignRows();\n\t      return seq.set(\"height\", seq.attributes.features.getCurrentHeight() + 1);\n\t    }\n\t  },\n\t\n\t  // rehash the sequence feature binding\n\t  _bindSeqsWithFeatures: function _bindSeqsWithFeatures() {\n\t    var _this3 = this;\n\t\n\t    return this.each(function (seq) {\n\t      return _this3._bindSeqWithFeatures(seq);\n\t    });\n\t  },\n\t\n\t  // removes all features from the cache (not from the seqs)\n\t  removeAllFeatures: function removeAllFeatures() {\n\t    return delete this.features;\n\t  },\n\t\n\t  _autoSetRefSeq: function _autoSetRefSeq() {\n\t    if (this.length > 0) {\n\t      return this.at(0).set(\"ref\", true);\n\t    }\n\t  },\n\t\n\t  // sets a sequence (e.g. BLAST start or consensus seq) as reference\n\t  setRef: function setRef(seq) {\n\t    var obj = this.get(seq);\n\t    this.each(function (s) {\n\t      if (seq.cid) {\n\t        if (obj.cid === s.cid) {\n\t          return s.set(\"ref\", true);\n\t        } else {\n\t          return s.set(\"ref\", false);\n\t        }\n\t      }\n\t    });\n\t\n\t    this.g.config.set(\"hasRef\", true);\n\t    return this.trigger(\"change:reference\", seq);\n\t  }\n\t});\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Sequence;\n\tvar Model = __webpack_require__(2).Model;\n\tvar FeatureCol = __webpack_require__(31);\n\t\n\tmodule.exports = Sequence = Model.extend({\n\t\n\t  defaults: {\n\t    name: \"\",\n\t    id: \"\",\n\t    seq: \"\",\n\t    height: 1,\n\t    ref: false // reference: the sequence used in BLAST or the consensus seq\n\t  },\n\t\n\t  initialize: function initialize() {\n\t    // residues without color\n\t    this.set(\"grey\", []);\n\t    if (!(this.get(\"features\") != null)) {\n\t      return this.set(\"features\", new FeatureCol());\n\t    }\n\t  }\n\t});\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports.bmath = __webpack_require__(12);\n\tmodule.exports.proxy = __webpack_require__(16);\n\tmodule.exports.seqgen = __webpack_require__(35);\n\tmodule.exports.file = __webpack_require__(14);\n\tmodule.exports.export = __webpack_require__(13);\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Sequence = __webpack_require__(94).seq;\n\tvar BMath = __webpack_require__(12);\n\tvar Stat = __webpack_require__(52);\n\t\n\tvar seqgen = module.exports = { _generateSequence: function _generateSequence(len) {\n\t    var text = \"\";\n\t    var end = len - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      text += seqgen.getRandomChar();\n\t    }\n\t    return text;\n\t  },\n\t\n\t  // generates a dummy sequences\n\t  // @param len [int] number of generated sequences\n\t  // @param seqLen [int] length of the generated sequences\n\t  getDummySequences: function getDummySequences(len, seqLen) {\n\t    var seqs = [];\n\t    if (!(typeof len !== \"undefined\" && len !== null)) {\n\t      len = BMath.getRandomInt(3, 5);\n\t    }\n\t    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) {\n\t      seqLen = BMath.getRandomInt(50, 200);\n\t    }\n\t\n\t    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n\t      seqs.push(new Sequence(seqgen._generateSequence(seqLen), \"seq\" + i, \"r\" + i));\n\t    }\n\t    return seqs;\n\t  },\n\t\n\t  getRandomChar: function getRandomChar(dict) {\n\t    var possible = dict || \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\t    return possible.charAt(Math.floor(Math.random() * possible.length));\n\t  },\n\t\n\t  // generates a dummy sequences\n\t  // @param len [int] number of generated sequences\n\t  // @param seqLen [int] length of the generated sequences\n\t  genConservedSequences: function genConservedSequences(len, seqLen, dict) {\n\t    var seqs = [];\n\t    if (!(typeof len !== \"undefined\" && len !== null)) {\n\t      len = BMath.getRandomInt(3, 5);\n\t    }\n\t    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) {\n\t      seqLen = BMath.getRandomInt(50, 200);\n\t    }\n\t\n\t    dict = dict || \"ACDEFGHIKLMNPQRSTVWY---\";\n\t\n\t    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n\t      seqs[i - 1] = \"\";\n\t    }\n\t\n\t    var tolerance = 0.2;\n\t\n\t    var conservAim = 1;\n\t    var end = seqLen - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      if (i % 3 === 0) {\n\t        conservAim = BMath.getRandomInt(50, 100) / 100;\n\t      }\n\t      var observed = [];\n\t      var end1 = len - 1;\n\t      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n\t        var counter = 0;\n\t        while (counter < 100) {\n\t          var c = seqgen.getRandomChar(dict);\n\t          var cConserv = Stat(observed);\n\t          cConserv.addSeq(c);\n\t          counter++;\n\t          if (Math.abs(conservAim - cConserv.scale(cConserv.conservation())[0]) < tolerance) {\n\t            break;\n\t          }\n\t        }\n\t        seqs[j] += c;\n\t        observed.push(c);\n\t      }\n\t    }\n\t\n\t    var pseqs = [];\n\t    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n\t      pseqs.push(new Sequence(seqs[i - 1], \"seq\" + i, \"r\" + i));\n\t    }\n\t\n\t    return pseqs;\n\t  }\n\t};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar treeHelper;\n\tvar _ = __webpack_require__(1);\n\tvar SeqCollection = __webpack_require__(32);\n\t\n\tmodule.exports = treeHelper = function treeHelper(msa) {\n\t  this.msa = msa;\n\t  return this;\n\t};\n\t\n\tvar tf = { loadTree: function loadTree(cb) {\n\t    return this.msa.g.package.loadPackages([\"msa-tnt\", \"biojs-io-newick\"], cb);\n\t  },\n\t\n\t  showTree: function showTree(newickStr) {\n\t    var newick = this.require(\"biojs-io-newick\");\n\t    if (typeof newickStr === \"string\") {\n\t      var newickObj = newick.parse_newick(newickStr);\n\t    } else {\n\t      newickObj = newickStr;\n\t    }\n\t\n\t    var mt = this.require(\"msa-tnt\");\n\t\n\t    var sel = new mt.selections();\n\t    var treeDiv = document.createElement(\"div\");\n\t    //   @msa.el.insertBefore treeDiv, @msa.el.childNodes[0]\n\t    this.msa.el.appendChild(treeDiv);\n\t\n\t    console.log(this.msa.seqs.models);\n\t    console.log(newickObj);\n\t\n\t    var nodes = mt.app({\n\t      seqs: this.msa.seqs.toJSON(),\n\t      tree: newickObj\n\t    });\n\t\n\t    console.log(\"nodes\", nodes);\n\t\n\t    var t = new mt.adapters.tree({\n\t      model: nodes,\n\t      el: treeDiv,\n\t      sel: sel\n\t    });\n\t\n\t    //treeDiv.style.width = \"500px\"\n\t\n\t    // construct msa in a virtual dom\n\t    var m = new mt.adapters.msa({\n\t      model: nodes,\n\t      sel: sel,\n\t      msa: this.msa\n\t    });\n\t\n\t    // remove top collection\n\t    _.each(nodes.models, function (e) {\n\t      delete e.collection;\n\t      return Object.setPrototypeOf(e, __webpack_require__(2).Model.prototype);\n\t    });\n\t\n\t    this.msa.seqs.reset(nodes.models);\n\t    //@msa.draw()\n\t    //@msa.render()\n\t    return console.log(this.msa.seqs);\n\t  },\n\t\n\t  // workaround against browserify's static analysis\n\t  require: function (_require) {\n\t    function require(_x) {\n\t      return _require.apply(this, arguments);\n\t    }\n\t\n\t    require.toString = function () {\n\t      return _require.toString();\n\t    };\n\t\n\t    return require;\n\t  }(function (pkg) {\n\t    return __webpack_require__(142)(pkg);\n\t  })\n\t};\n\t\n\t_.extend(treeHelper.prototype, tf);\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/*\n\t * biojs-io-gff\n\t * https://github.com/greenify/biojs-io-gff\n\t *\n\t * Copyright (c) 2014 greenify\n\t * Licensed under the Apache 2 license.\n\t */\n\t\n\tvar parser = __webpack_require__(38);\n\t\n\tvar gff = function() {};\n\tparser.mixin(gff);\n\t\n\tmodule.exports = gff;\n\t\n\tvar utils = __webpack_require__(45);\n\tvar jalview = __webpack_require__(92);\n\t\n\t/**\n\t * Method responsible to parse GFF\n\t * @see https://www.sanger.ac.uk/resources/software/gff/spec.html#t_2\n\t *\n\t * @example\n\t *\n\t *     biojsiogff.parse('SEQ1  EMBL  atg  103  105  .  +  0');\n\t *\n\t * @method parse\n\t * @param {String} file GFF file\n\t * @return {String} Returns JSON representation\n\t */\n\t\n\tgff.parseLines = function(file) {\n\t  var lines = file.split(\"\\n\");\n\t  var config = {};\n\t  var arr = [];\n\t  config.type = gff._guessType(lines);\n\t  var offset = 0;\n\t  if (config.type === \"jalview\") {\n\t    var ret = jalview.readHeader(lines);\n\t    //console.log(ret);\n\t    offset = ret.offset;\n\t    config.colors = ret.colors;\n\t    arr = ret.features;\n\t  }\n\t  for (var i = offset; i < lines.length; i++) {\n\t    // ignore comments for now\n\t    var line = lines[i];\n\t    if (line.length === 0 || line[0] === \"#\")\n\t      continue;\n\t\n\t    line = gff.parseLine(line);\n\t    if (line !== undefined)\n\t      arr.push(line);\n\t  }\n\t  return {\n\t    features: arr,\n\t    config: config\n\t  };\n\t};\n\t\n\tgff._guessType = function(line) {\n\t  if (line[0].substring(0, 15) === \"##gff-version 3\") {\n\t    return \"gff3\";\n\t  } else if (line[0].indexOf(\"#\") < 0 && line[0].split(\"\\t\").length === 2) {\n\t    // no comments and two columns. let's hope this is from jalview\n\t    return \"jalview\";\n\t  }\n\t  // unable to read file header. lets hope this is gff3\n\t  return \"gff3\";\n\t};\n\t\n\t/**\n\t * parses GFF and returns a dictionary of all seqs with their features\n\t * @method parseSeqs\n\t * @param {String} file GFF file\n\t * @return {String} Returns dictionary of sequences with an array of their features\n\t */\n\tgff.parseSeqs = gff.parse = function(file) {\n\t  var obj = gff.parseLines (file);\n\t  var seqs = {};\n\t  obj.features.forEach(function(entry) {\n\t    var key = entry.seqname;\n\t    if (seqs[key] === undefined) seqs[key] = [];\n\t    delete entry.seqname;\n\t    seqs[key].push(entry);\n\t  });\n\t  delete obj.features;\n\t  obj.seqs = seqs;\n\t  return obj;\n\t};\n\t\n\t/*\n\t * parses one GFF line and returns it\n\t */\n\tgff.parseLine = function(line) {\n\t  var tLine = {};\n\t\n\t  var columns = line.split(/\\s+/);\n\t  // ignore empty lines\n\t  if (columns.length === 1)\n\t    return;\n\t\n\t  tLine.seqname = columns[0];\n\t  tLine.source = columns[1];\n\t  tLine.feature = columns[2];\n\t  tLine.start = parseInt(columns[3]);\n\t  tLine.end = parseInt(columns[4]);\n\t  tLine.score = columns[5]; // only DNA,RNA\n\t  tLine.strand = columns[6]; // only DNA,RNA\n\t  tLine.frame = columns[7]; // only DNA,RNA\n\t  var attr = columns.slice(8).join(\" \"); // plain text comments\n\t\n\t  // remove undefined (dot)\n\t  Object.keys(tLine).forEach(function(key) {\n\t    if (typeof(tLine[key]) === \"string\") {\n\t        tLine[key] = tLine[key].trim(); // triming is important\n\t    }\n\t    if (tLine[key] === \".\") {\n\t      tLine[key] = undefined;\n\t    }\n\t  });\n\t\n\t  // parse optional parameters\n\t  if (tLine.score) {\n\t    tLine.score = parseFloat(tLine.score);\n\t  }\n\t  if (tLine.frame) {\n\t    tLine.frame = parseInt(tLine.frame);\n\t  }\n\t\n\t  tLine.attributes = utils.extractKeys(attr);\n\t  return tLine;\n\t};\n\t\n\tgff.exportLine = function(line) {\n\t  var attrs = Object.keys(line.attributes).map(function(key) {\n\t    return key + \"=\" + line.attributes[key];\n\t  }).join(\";\");\n\t  var cells = [line.seqname, line.source, line.feature, line.start, line.end, line.score,\n\t    line.strand, line.frame, attrs\n\t  ];\n\t  cells = cells.map(function(e) {\n\t    if (e === undefined) {\n\t      return \".\";\n\t    }\n\t    return e;\n\t  });\n\t  return cells.join(\"\\t\");\n\t};\n\t\n\tgff.exportLines = function(lines) {\n\t  return \"##gff-version 3\\n\" + lines.map(gff.exportLine).join(\"\\n\");\n\t};\n\t\n\tgff.exportSeqs = gff.export = function(seqs) {\n\t  var lines = [];\n\t  var pLine = function(e) {\n\t    e.seqname = key;\n\t    lines.push(e);\n\t  };\n\t\n\t  for (var key in seqs) {\n\t    seqs[key].forEach(pLine);\n\t  }\n\t  return gff.exportLines(lines);\n\t};\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar GenericReader;\n\t\n\tvar xhr = __webpack_require__(93);\n\tvar vow = __webpack_require__(137);\n\t\n\tmodule.exports = GenericReader = (function() {\n\t  function GenericReader() {}\n\t\n\t  // returns a promise if callback is undefined\n\t  GenericReader.read = function(url, callback) {\n\t    var onret;\n\t    onret = (function(_this) {\n\t      return function(err, response, text) {\n\t        return GenericReader._onRetrieval(err, text, callback, _this);\n\t      };\n\t    })(this);\n\t\n\t    if(typeof callback === \"undefined\"){\n\t      var prom = vow.defer();\n\t      callback = function(err, res){\n\t        if(err){\n\t          prom.reject(err);\n\t        }else{\n\t          prom.resolve(res);\n\t        }\n\t      };\n\t      xhr(url, onret);\n\t      return prom.promise();\n\t    }else{\n\t      return xhr(url, onret);\n\t    }\n\t  };\n\t\n\t  GenericReader._onRetrieval = function(err, text, callback, _this) {\n\t    var rText;\n\t    if(typeof err !== \"undefined\"){\n\t      rText = _this.parse(text);\n\t    }\n\t    return callback.call(_this, err, rText);\n\t  };\n\t\n\t  // provide a convenient shortcut to inherit\n\t  GenericReader.extend = function(obj, statics){\n\t    return extend(GenericReader, obj, statics); \n\t  };\n\t  // Mixin utility\n\t  GenericReader.mixin = function(proto) {\n\t    var exports = ['read'];\n\t    if(typeof proto !== \"object\"){\n\t      proto = proto.prototype;\n\t    }\n\t    exports.forEach(function(name) {\n\t      proto[name] = GenericReader[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  return GenericReader;\n\t\n\t})();\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\n\t/*\n\t * msa-seqtools\n\t * https://github.com/greenify/msa-seqtools\n\t *\n\t * Copyright (c) 2014 greenify\n\t * Licensed under the MIT license.\n\t */\n\t\n\tvar st = {};\n\tmodule.exports = st;\n\t\n\t/****\n\t * Seems to be lots of different ways to format FASTA headers. \n\t * \n\t * Generally there's an ID and a DESCRIPTION\n\t *   >ID DESCRIPTION\n\t * \n\t *   >(parts|of|ID) (DESCRIPTION with optional key=values)\n\t *   \n\t * This is complicated by the fact that the \"values\" in the description can have spaces\n\t * e.g. OS=Arabidopsis thaliana GN=CCD8\n\t * \n\t ****\n\t*/\n\t\n\t// extract IDs and push them to the meta dict\n\tst.getMeta = function(label) {\n\t  \n\t\tvar full_id = false, full_desc = false;\n\t\tvar name, ids = {}, details = {}, description;\n\t\n\t// \tconsole.log( \"getMeta.label: \", label );\n\t  \n\t\tvar label_parts = label.split(\" \");\n\t\n\t\tif ( label_parts.length >= 1 ) {\n\t\t\tfull_id   = label_parts.shift();     // everything up to the first white space\n\t\t\tfull_desc = label_parts.join(\" \");   // everything else\n\t\t}\n\t\telse {\n\t\t\tfull_id = label; \n\t\t}\n\t\t\n\t// \tconsole.log( \"full_id\", full_id );\n\t// \tconsole.log( \"full_desc\", full_desc );\n\t\t\n\t\tif ( full_id ) {\n\t\t\tvar id_parts = full_id.split('|');\n\t\t\t\n\t\t\t// the last item is the accession\n\t\t\tname = id_parts.pop(); \n\t\t\t\n\t\t\tdetails.en = name;\n\t\t\t\n\t\t\t// everything else should be pairs: db|id\n\t\t\twhile ( id_parts.length != 0 ) {\n\t\t\t\tvar db = id_parts.shift();\n\t\t\t\tvar id = id_parts.shift();\n\t\t\t\tids[ db ] = id;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tname = full_id;\n\t\t}\n\t\n\t\tif ( full_desc ) {\n\t\t\n\t\t\tvar kv_parts = full_desc.split('=');\n\t\t\n\t\t\tif ( kv_parts.length > 1 ) {\n\t\t\t\t\n\t\t\t\tvar current_key, next_key;\n\t\t\t\tvar kv;\n\t\t\t\tvar kv_idx_max = kv_parts.length - 1;\n\t\t\t\tvar kv_idx = 0;\n\t\t\t\tkv_parts.forEach( function( value_and_maybe_next_key ) {\n\t\t\t\t\t\n\t\t\t\t\tvalue_and_maybe_next_key = value_and_maybe_next_key.trim();\n\t\t\t\t\t\n\t\t\t\t\tvar value_parts = value_and_maybe_next_key.split(\" \");\n\t\t\t\t\tvar value;\n\t\t\t\t\tif ( value_parts.length > 1 ) {\n\t\t\t\t\t\tnext_key = value_parts.pop();\n\t\t\t\t\t\tvalue = value_parts.join(' ');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvalue = value_and_maybe_next_key;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( current_key ) {\n\t\t\t\t\t\tvar key = current_key.toLowerCase();\n\t\t\t\t\t\tdetails[ key ] = value;\n\t\t\t\t\t\t//console.log( \"details[\" + key + \"] = \" + value );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdescription = value;\n\t\t\t\t\t\t//console.log( \"description=\" + value );\n\t\t\t\t\t}\n\t\t\t\t\tcurrent_key = next_key;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdescription = kv_parts.shift();\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar meta = {\n\t\t\tname: name,\n\t\t\tids: ids,\n\t\t\tdetails: details,\n\t\t};\n\t\t\n\t\tif ( description ) {\n\t\t\tmeta.desc = description\n\t\t}\n\t\t\n\t// \tconsole.log( \"meta\", meta );\n\t\t\n\t\treturn meta;\n\t};\n\t\n\tvar findSepInArr = function(arr, sep) {\n\t  for (var i = 0; i < arr.lenght; i++) {\n\t    if (arr[i].indexOf(i)) {\n\t      return i;\n\t    }\n\t  }\n\t  return arr.length - 1;\n\t};\n\t\n\tvar strToDict = function(str, sep, toJoin) {\n\t  toJoin = toJoin || {};\n\t  var entries = str.split(sep);\n\t  toJoin[entries[0].toLowerCase()] = entries[1];\n\t  return toJoin;\n\t};\n\t\n\tvar identDB = {\n\t  \"sp\": {\n\t    link: \"http://www.uniprot.org/%s\",\n\t    name: \"Uniprot\"\n\t  },\n\t  \"tr\": {\n\t    link: \"http://www.uniprot.org/%s\",\n\t    name: \"Trembl\"\n\t  },\n\t  \"gb\": {\n\t    link: \"http://www.ncbi.nlm.nih.gov/nuccore/%s\",\n\t    name: \"Genbank\"\n\t  },\n\t  \"pdb\": {\n\t    link: \"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s\",\n\t    name: \"PDB\"\n\t  }\n\t};\n\t\n\tst.buildLinks = function(meta) {\n\t  var links = {};\n\t  meta = meta || {};\n\t  Object.keys(meta).forEach(function(id) {\n\t    if (id in identDB) {\n\t      var entry = identDB[id];\n\t      var link = entry.link.replace(\"%s\", meta[id]);\n\t      links[entry.name] = link;\n\t    }\n\t  });\n\t  return links;\n\t};\n\t\n\t\n\t// search for a text\n\tst.contains = function(text, search) {\n\t  return ''.indexOf.call(text, search, 0) !== -1;\n\t};\n\t\n\t// split after e.g. 80 chars\n\tst.splitNChars = function(txt, num) {\n\t  var i, _ref;\n\t  num = num || 80;\n\t  var result = [];\n\t  for (i = 0, _ref = txt.length - 1; i <= _ref; i += num) {\n\t    result.push(txt.substr(i, num));\n\t  }\n\t  return result;\n\t};\n\t\n\tst.reverse = function(seq) {\n\t  return seq.split('').reverse().join('');\n\t}\n\t\n\tst.complement = function(seq) {\n\t  var newSeq = seq + \"\";\n\t  var replacements = [\n\t    // cg\n\t    [/g/g, \"0\"],\n\t    [/c/g, \"1\"],\n\t    [/0/g, \"c\"],\n\t    [/1/g, \"g\"],\n\t    // CG\n\t    [/G/g, \"0\"],\n\t    [/C/g, \"1\"],\n\t    [/0/g, \"C\"],\n\t    [/1/g, \"G\"],\n\t    // at\n\t    [/a/g, \"0\"],\n\t    [/t/g, \"1\"],\n\t    [/0/g, \"t\"],\n\t    [/1/g, \"a\"],\n\t    // AT\n\t    [/A/g, \"0\"],\n\t    [/T/g, \"1\"],\n\t    [/0/g, \"T\"],\n\t    [/1/g, \"A\"],\n\t  ];\n\t\n\t  for(var rep in replacements){\n\t    newSeq = newSeq.replace(replacements[rep][0], replacements[rep][1]);\n\t  }\n\t  return newSeq;\n\t}\n\t\n\tst.reverseComplement = function(seq){\n\t  return st.reverse(st.complement(seq));\n\t}\n\t\n\tst.model = function Seq(seq, name, id) {\n\t  this.seq = seq;\n\t  this.name = name;\n\t  this.id = id;\n\t  this.ids = {};\n\t};\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t//module.exports.VerticalSelection = require(\"./vertical_selection\")\n\t//module.exports.HorizontalSelection = require(\"./horizontal_selection\")\n\t//module.exports.RegionSelect = require(\"./region_select\")\n\t//module.exports.PositionSelect = require(\"./position_selection\")\n\tmodule.exports.SelectionManager = __webpack_require__(9);\n\t//module.exports.SelectionList = require(\"./selectionlist\")\n\t//module.exports.RectangularSelect = require(\"./rectangular_select\")\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports.seq = __webpack_require__(33);\n\tmodule.exports.seqcol = __webpack_require__(32);\n\tmodule.exports.feature = __webpack_require__(30);\n\tmodule.exports.featurecol = __webpack_require__(31);\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t//     Backbone.js 1.1.2\n\t\n\t//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t//     Backbone may be freely distributed under the MIT license.\n\t//     For all details and documentation:\n\t//     http://backbonejs.org\n\t\n\tvar Events = __webpack_require__(11);\n\tvar extend = __webpack_require__(17);\n\tvar _ = __webpack_require__(1);\n\t\n\t// Backbone.Model\n\t// --------------\n\t\n\t// Backbone **Models** are the basic data object in the framework --\n\t// frequently representing a row in a table in a database on your server.\n\t// A discrete chunk of data and a bunch of useful, related methods for\n\t// performing computations and transformations on that data.\n\t\n\t// Create a new model with the specified attributes. A client id (`cid`)\n\t// is automatically generated and assigned for you.\n\tvar Model = function(attributes, options) {\n\t  var attrs = attributes || {};\n\t  options || (options = {});\n\t  this.cid = _.uniqueId('c');\n\t  this.attributes = {};\n\t  if (options.collection) this.collection = options.collection;\n\t  if (options.parse) attrs = this.parse(attrs, options) || {};\n\t  attrs = _.defaults({}, attrs, _.result(this, 'defaults'));\n\t  this.set(attrs, options);\n\t  this.changed = {};\n\t  this.initialize.apply(this, arguments);\n\t};\n\t\n\t// Attach all inheritable methods to the Model prototype.\n\t_.extend(Model.prototype, Events, {\n\t\n\t  // A hash of attributes whose current and previous value differ.\n\t  changed: null,\n\t\n\t  // The value returned during the last failed validation.\n\t  validationError: null,\n\t\n\t    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n\t    // CouchDB users may want to set this to `\"_id\"`.\n\t  idAttribute: 'id',\n\t\n\t    // Initialize is an empty function by default. Override it with your own\n\t    // initialization logic.\n\t  initialize: function(){},\n\t\n\t    // Return a copy of the model's `attributes` object.\n\t  toJSON: function(options) {\n\t    return _.clone(this.attributes);\n\t  },\n\t\n\t    // Proxy `Backbone.sync` by default -- but override this if you need\n\t    // custom syncing semantics for *this* particular model.\n\t  sync: function() {\n\t    return Backbone.sync.apply(this, arguments);\n\t  },\n\t\n\t    // Get the value of an attribute.\n\t  get: function(attr) {\n\t    return this.attributes[attr];\n\t  },\n\t\n\t    // Get the HTML-escaped value of an attribute.\n\t  escape: function(attr) {\n\t    return _.escape(this.get(attr));\n\t  },\n\t\n\t    // Returns `true` if the attribute contains a value that is not null\n\t    // or undefined.\n\t  has: function(attr) {\n\t    return this.get(attr) != null;\n\t  },\n\t\n\t    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n\t    // the core primitive operation of a model, updating the data and notifying\n\t    // anyone who needs to know about the change in state. The heart of the beast.\n\t  set: function(key, val, options) {\n\t    var attr, attrs, unset, changes, silent, changing, prev, current;\n\t    if (key == null) return this;\n\t\n\t    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\t    if (typeof key === 'object') {\n\t      attrs = key;\n\t      options = val;\n\t    } else {\n\t      (attrs = {})[key] = val;\n\t    }\n\t\n\t    options || (options = {});\n\t\n\t    // Run validation.\n\t    if (!this._validate(attrs, options)) return false;\n\t\n\t    // Extract attributes and options.\n\t    unset           = options.unset;\n\t    silent          = options.silent;\n\t    changes         = [];\n\t    changing        = this._changing;\n\t    this._changing  = true;\n\t\n\t    if (!changing) {\n\t      this._previousAttributes = _.clone(this.attributes);\n\t      this.changed = {};\n\t    }\n\t    current = this.attributes, prev = this._previousAttributes;\n\t\n\t    // Check for changes of `id`.\n\t    if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\t\n\t    // For each `set` attribute, update or delete the current value.\n\t    for (attr in attrs) {\n\t      val = attrs[attr];\n\t      if (!_.isEqual(current[attr], val)) changes.push(attr);\n\t      if (!_.isEqual(prev[attr], val)) {\n\t        this.changed[attr] = val;\n\t      } else {\n\t        delete this.changed[attr];\n\t      }\n\t      unset ? delete current[attr] : current[attr] = val;\n\t    }\n\t\n\t    // Trigger all relevant attribute changes.\n\t    if (!silent) {\n\t      if (changes.length) this._pending = options;\n\t      for (var i = 0, length = changes.length; i < length; i++) {\n\t        this.trigger('change:' + changes[i], this, current[changes[i]], options);\n\t      }\n\t    }\n\t\n\t    // You might be wondering why there's a `while` loop here. Changes can\n\t    // be recursively nested within `\"change\"` events.\n\t    if (changing) return this;\n\t    if (!silent) {\n\t      while (this._pending) {\n\t        options = this._pending;\n\t        this._pending = false;\n\t        this.trigger('change', this, options);\n\t      }\n\t    }\n\t    this._pending = false;\n\t    this._changing = false;\n\t    return this;\n\t  },\n\t\n\t    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n\t    // if the attribute doesn't exist.\n\t  unset: function(attr, options) {\n\t    return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n\t  },\n\t\n\t    // Clear all attributes on the model, firing `\"change\"`.\n\t  clear: function(options) {\n\t    var attrs = {};\n\t    for (var key in this.attributes) attrs[key] = void 0;\n\t    return this.set(attrs, _.extend({}, options, {unset: true}));\n\t  },\n\t\n\t    // Determine if the model has changed since the last `\"change\"` event.\n\t    // If you specify an attribute name, determine if that attribute has changed.\n\t  hasChanged: function(attr) {\n\t    if (attr == null) return !_.isEmpty(this.changed);\n\t    return _.has(this.changed, attr);\n\t  },\n\t\n\t    // Return an object containing all the attributes that have changed, or\n\t    // false if there are no changed attributes. Useful for determining what\n\t    // parts of a view need to be updated and/or what attributes need to be\n\t    // persisted to the server. Unset attributes will be set to undefined.\n\t    // You can also pass an attributes object to diff against the model,\n\t    // determining if there *would be* a change.\n\t  changedAttributes: function(diff) {\n\t    if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n\t    var val, changed = false;\n\t    var old = this._changing ? this._previousAttributes : this.attributes;\n\t    for (var attr in diff) {\n\t      if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n\t      (changed || (changed = {}))[attr] = val;\n\t    }\n\t    return changed;\n\t  },\n\t\n\t    // Get the previous value of an attribute, recorded at the time the last\n\t    // `\"change\"` event was fired.\n\t  previous: function(attr) {\n\t    if (attr == null || !this._previousAttributes) return null;\n\t    return this._previousAttributes[attr];\n\t  },\n\t\n\t    // Get all of the attributes of the model at the time of the previous\n\t    // `\"change\"` event.\n\t  previousAttributes: function() {\n\t    return _.clone(this._previousAttributes);\n\t  },\n\t\n\t    // Fetch the model from the server. If the server's representation of the\n\t    // model differs from its current attributes, they will be overridden,\n\t    // triggering a `\"change\"` event.\n\t  fetch: function(options) {\n\t    options = options ? _.clone(options) : {};\n\t    if (options.parse === void 0) options.parse = true;\n\t    var model = this;\n\t    var success = options.success;\n\t    options.success = function(resp) {\n\t      if (!model.set(model.parse(resp, options), options)) return false;\n\t      if (success) success(model, resp, options);\n\t      model.trigger('sync', model, resp, options);\n\t    };\n\t    wrapError(this, options);\n\t    return this.sync('read', this, options);\n\t  },\n\t\n\t    // Set a hash of model attributes, and sync the model to the server.\n\t    // If the server returns an attributes hash that differs, the model's\n\t    // state will be `set` again.\n\t  save: function(key, val, options) {\n\t    var attrs, method, xhr, attributes = this.attributes;\n\t\n\t    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\t    if (key == null || typeof key === 'object') {\n\t      attrs = key;\n\t      options = val;\n\t    } else {\n\t      (attrs = {})[key] = val;\n\t    }\n\t\n\t    options = _.extend({validate: true}, options);\n\t\n\t    // If we're not waiting and attributes exist, save acts as\n\t    // `set(attr).save(null, opts)` with validation. Otherwise, check if\n\t    // the model will be valid when the attributes, if any, are set.\n\t    if (attrs && !options.wait) {\n\t      if (!this.set(attrs, options)) return false;\n\t    } else {\n\t      if (!this._validate(attrs, options)) return false;\n\t    }\n\t\n\t    // Set temporary attributes if `{wait: true}`.\n\t    if (attrs && options.wait) {\n\t      this.attributes = _.extend({}, attributes, attrs);\n\t    }\n\t\n\t    // After a successful server-side save, the client is (optionally)\n\t    // updated with the server-side state.\n\t    if (options.parse === void 0) options.parse = true;\n\t    var model = this;\n\t    var success = options.success;\n\t    options.success = function(resp) {\n\t      // Ensure attributes are restored during synchronous saves.\n\t      model.attributes = attributes;\n\t      var serverAttrs = model.parse(resp, options);\n\t      if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);\n\t      if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n\t        return false;\n\t      }\n\t      if (success) success(model, resp, options);\n\t      model.trigger('sync', model, resp, options);\n\t    };\n\t    wrapError(this, options);\n\t\n\t    method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n\t    if (method === 'patch' && !options.attrs) options.attrs = attrs;\n\t    xhr = this.sync(method, this, options);\n\t\n\t    // Restore attributes.\n\t    if (attrs && options.wait) this.attributes = attributes;\n\t\n\t    return xhr;\n\t  },\n\t\n\t    // Destroy this model on the server if it was already persisted.\n\t    // Optimistically removes the model from its collection, if it has one.\n\t    // If `wait: true` is passed, waits for the server to respond before removal.\n\t  destroy: function(options) {\n\t    options = options ? _.clone(options) : {};\n\t    var model = this;\n\t    var success = options.success;\n\t\n\t    var destroy = function() {\n\t      model.stopListening();\n\t      model.trigger('destroy', model, model.collection, options);\n\t    };\n\t\n\t    options.success = function(resp) {\n\t      if (options.wait || model.isNew()) destroy();\n\t      if (success) success(model, resp, options);\n\t      if (!model.isNew()) model.trigger('sync', model, resp, options);\n\t    };\n\t\n\t    if (this.isNew()) {\n\t      options.success();\n\t      return false;\n\t    }\n\t    wrapError(this, options);\n\t\n\t    var xhr = this.sync('delete', this, options);\n\t    if (!options.wait) destroy();\n\t    return xhr;\n\t  },\n\t\n\t    // Default URL for the model's representation on the server -- if you're\n\t    // using Backbone's restful methods, override this to change the endpoint\n\t    // that will be called.\n\t  url: function() {\n\t    var base =\n\t      _.result(this, 'urlRoot') ||\n\t      _.result(this.collection, 'url') ||\n\t      urlError();\n\t    if (this.isNew()) return base;\n\t    return base.replace(/([^\\/])$/, '$1/') + encodeURIComponent(this.id);\n\t  },\n\t\n\t    // **parse** converts a response into the hash of attributes to be `set` on\n\t    // the model. The default implementation is just to pass the response along.\n\t  parse: function(resp, options) {\n\t    return resp;\n\t  },\n\t\n\t    // Create a new model with identical attributes to this one.\n\t  clone: function() {\n\t    return new this.constructor(this.attributes);\n\t  },\n\t\n\t    // A model is new if it has never been saved to the server, and lacks an id.\n\t  isNew: function() {\n\t    return !this.has(this.idAttribute);\n\t  },\n\t\n\t    // Check if the model is currently in a valid state.\n\t  isValid: function(options) {\n\t    return this._validate({}, _.extend(options || {}, { validate: true }));\n\t  },\n\t\n\t    // Run validation against the next complete set of model attributes,\n\t    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n\t  _validate: function(attrs, options) {\n\t    if (!options.validate || !this.validate) return true;\n\t    attrs = _.extend({}, this.attributes, attrs);\n\t    var error = this.validationError = this.validate(attrs, options) || null;\n\t    if (!error) return true;\n\t    this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n\t    return false;\n\t  }\n\t\n\t});\n\t\n\t// Underscore methods that we want to implement on the Model.\n\tvar modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit', 'chain', 'isEmpty'];\n\t\n\t// Mix in each Underscore method as a proxy to `Model#attributes`.\n\t_.each(modelMethods, function(method) {\n\t  if (!_[method]) return;\n\t  Model.prototype[method] = function() {\n\t    var args = slice.call(arguments);\n\t    args.unshift(this.attributes);\n\t    return _[method].apply(_, args);\n\t  };\n\t});\n\t\n\t// setup inheritance\n\tModel.extend = extend;\n\tmodule.exports = Model;\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// Generated by CoffeeScript 1.8.0\n\tvar Clustal, GenericReader, st;\n\t\n\tGenericReader = __webpack_require__(38);\n\t\n\tst = __webpack_require__(39);\n\t\n\tmodule.exports = Clustal = {\n\t  parse: function(text) {\n\t    var blockstate, cSeq, k, keys, label, line, lines, match, obj, regex, seqCounter, seqs, sequence;\n\t    seqs = [];\n\t    if (Object.prototype.toString.call(text) === '[object Array]') {\n\t      lines = text;\n\t    } else {\n\t      lines = text.split(\"\\n\");\n\t    }\n\t    if (lines[0].slice(0, 6) === !\"CLUSTAL\") {\n\t      throw new Error(\"Invalid CLUSTAL Header\");\n\t    }\n\t    k = 0;\n\t    blockstate = 1;\n\t    seqCounter = 0;\n\t    while (k < lines.length) {\n\t      k++;\n\t      line = lines[k];\n\t      if ((line == null) || line.length === 0) {\n\t        blockstate = 1;\n\t        continue;\n\t      }\n\t      if (line.trim().length === 0) {\n\t        blockstate = 1;\n\t        continue;\n\t      } else {\n\t        if (st.contains(line, \"*\")) {\n\t          continue;\n\t        }\n\t        if (blockstate === 1) {\n\t          seqCounter = 0;\n\t          blockstate = 0;\n\t        }\n\t        regex = /^(?:\\s*)(\\S+)(?:\\s+)(\\S+)(?:\\s*)(\\d*)(?:\\s*|$)/g;\n\t        match = regex.exec(line);\n\t        if (match != null) {\n\t          label = match[1];\n\t          sequence = match[2];\n\t          if (seqCounter >= seqs.length) {\n\t            obj = st.getMeta(label);\n\t            label = obj.name;\n\t            cSeq = new st.model(sequence, label, seqCounter);\n\t            cSeq.ids = obj.ids || {};\n\t            cSeq.details = obj.details || {};\n\t            keys = Object.keys(cSeq.ids);\n\t            if (keys.length > 0) {\n\t              cSeq.id = cSeq.ids[keys[0]];\n\t            }\n\t            seqs.push(cSeq);\n\t          } else {\n\t            seqs[seqCounter].seq += sequence;\n\t          }\n\t          seqCounter++;\n\t        } else {\n\t          console.log(\"parse error\", line);\n\t        }\n\t      }\n\t    }\n\t    return seqs;\n\t  }\n\t};\n\t\n\tGenericReader.mixin(Clustal);\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n\tvar utils = {};\n\tmodule.exports = utils;\n\t\n\tutils.extractKeys = function extractKeys(attr) {\n\t  // extract key-value definitions\n\t  var attributes = {};\n\t  var attrArr = attr.split(\";\");\n\t  attrArr.forEach(function(el) {\n\t    var keyArr, key, val;\n\t    if (el.indexOf(\"=\") > 0) {\n\t      keyArr = el.split(\"=\");\n\t      key = keyArr[0];\n\t      val = keyArr[1];\n\t      attributes[key] = val;\n\t    } else if (el.indexOf(\" \") > 0) {\n\t      keyArr = el.split(\" \");\n\t      key = keyArr[0];\n\t      val = keyArr[1].replace(/\"/g, '');\n\t      attributes[key] = val;\n\t    }\n\t  });\n\t  return attributes;\n\t};\n\t\n\tfunction componentToHex(c) {\n\t  var hex = c.toString(16);\n\t  return hex.length === 1 ? \"0\" + hex : hex;\n\t}\n\t\n\tutils.rgbToHex = function(r, g, b) {\n\t  if(r.length === 3){\n\t    return utils.rgbToHex(r[0],r[1], r[2]);\n\t  }\n\t  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n\t};\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function draw_border(context, y, width) {\n\t  context.beginPath();\n\t  context.moveTo(0, y);\n\t  context.lineTo(width, y);\n\t  context.lineWidth = 1;\n\t  context.strokeStyle = \"#999999\";\n\t  context.stroke();\n\t}\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function draw_column_number(context, x, y, col_width, col_num, fontsize, right) {\n\t  context.font = fontsize + \"px Arial\";\n\t  context.textAlign = right ? \"right\" : \"center\";\n\t  context.fillStyle = \"#666666\";\n\t  context.fillText(col_num, x + (col_width / 2), y);\n\t}\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function draw_ticks(context, x, y, height, color) {\n\t  color = color || '#999999';\n\t  context.beginPath();\n\t  context.moveTo(x, y);\n\t  context.lineTo(x, y + height);\n\t  context.lineWidth = 1;\n\t  context.strokeStyle = color;\n\t  context.stroke();\n\t}\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\n\tvar Mouse;\n\t\n\tmodule.exports = Mouse = {\n\t  rel: function(e) {\n\t    var mouseX, mouseY, rect, target;\n\t    mouseX = e.offsetX;\n\t    mouseY = e.offsetY;\n\t    if (mouseX == undefined) {\n\t      rect = target.getBoundingClientRect();\n\t      target = e.target || e.srcElement;\n\t      if (mouseX == undefined) {\n\t        mouseX = e.clientX - rect.left;\n\t        mouseY = e.clientY - rect.top;\n\t      }\n\t      if (mouseX == undefined) {\n\t        mouseX = e.pageX - target.offsetLeft;\n\t        mouseY = e.pageY - target.offsetTop;\n\t      }\n\t      if (mouseX == undefined) {\n\t        console.log(e, \"no mouse event defined. your browser sucks\");\n\t        return;\n\t      }\n\t    }\n\t    return [mouseX, mouseY];\n\t  },\n\t  abs: function(e) {\n\t    var mouseX, mouseY;\n\t    mouseX = e.pageX;\n\t    mouseY = e.pageY;\n\t    if (mouseX == undefined) {\n\t      mouseX = e.layerX;\n\t      mouseY = e.layerY;\n\t    }\n\t    if (mouseX == undefined) {\n\t      mouseX = e.clientX;\n\t      mouseY = e.clientY;\n\t    }\n\t    if (mouseX == undefined) {\n\t      mouseX = e.x;\n\t      mouseY = e.y;\n\t    }\n\t    return [mouseX, mouseY];\n\t  },\n\t  wheelDelta: function(e) {\n\t    var delta;\n\t    delta = [e.deltaX, e.deltaY];\n\t    if (delta[0] == undefined) {\n\t      // in case there is a more detailed scroll sensor - use it\n\t      if (e.mozMovementX) {\n\t        delta = [0, e.mozMovementX];\n\t      }\n\t    }\n\t    // safety first\n\t    if (isNaN(delta[0])) {\n\t      delta[0] = 0;\n\t    }\n\t    if (isNaN(delta[1])) {\n\t      delta[1] = 0;\n\t    }\n\t    return delta;\n\t  }\n\t};\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\n\tvar trim = function(string) {\n\t  return string.replace(/^\\s+|\\s+$/g, '');\n\t}\n\t  , isArray = function(arg) {\n\t      return Object.prototype.toString.call(arg) === '[object Array]';\n\t    }\n\t\n\tmodule.exports = function (headers) {\n\t  if (!headers)\n\t    return {}\n\t\n\t  var result = {}\n\t\n\t  var headersArr = trim(headers).split('\\n')\n\t\n\t  for (var i = 0; i < headersArr.length; i++) {\n\t    var row = headersArr[i]\n\t    var index = row.indexOf(':')\n\t    , key = trim(row.slice(0, index)).toLowerCase()\n\t    , value = trim(row.slice(index + 1))\n\t\n\t    if (typeof(result[key]) === 'undefined') {\n\t      result[key] = value\n\t    } else if (isArray(result[key])) {\n\t      result[key].push(value)\n\t    } else {\n\t      result[key] = [ result[key], value ]\n\t    }\n\t  }\n\t\n\t  return result\n\t}\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(1);\n\t\n\tvar stat = function(seqs, opts) {\n\t  // if someone forgets new\n\t  if (!this || this.constructor !== stat) {\n\t    return new stat(seqs);\n\t  }\n\t  if (seqs === undefined || typeof seqs === \"string\") {\n\t    throw new TypeError(\"you need to give the seq stat an array\");\n\t  }\n\t  //if(seqs.length == 0){\n\t  //throw new TypeError(\"you need to give the seq stat a real array\");\n\t  //}\n\t  this.resetSeqs(seqs);\n\t  this.alphabetSize = 4;\n\t  this._useBackground = false;\n\t  this.useGaps = false;\n\t  this.ignoredChars = [\"-\", \"*\"];\n\t  _.extend(this, opts);\n\t};\n\t\n\tstat.prototype.addSeq = function addSeq(seq) {\n\t  this.seqs.push(seq);\n\t  this._reset();\n\t};\n\t\n\tstat.prototype.removeSeq = function addSeq(seq) {\n\t  // check for int or string\n\t  if (typeof seq === 'number') {\n\t    this.seqs.splice(seq, 1);\n\t  } else {\n\t    // identify matches (we could have multiple)\n\t    _.each(this.seqs, function(s, i) {\n\t      if (seq === s) {\n\t        this.seqs.splice(i, 1);\n\t      }\n\t    }.bind(this));\n\t  }\n\t  this._reset();\n\t};\n\t\n\tstat.prototype.addSeqs = function addSeqs(seqs) {\n\t  seqs.forEach(function(seq) {\n\t    this.addSeq(seq);\n\t  }.bind(this));\n\t};\n\t\n\tstat.prototype.resetSeqs = function reset(seqs) {\n\t  this.seqs = [];\n\t\n\t  // support sequence models\n\t  if (! seqs instanceof Array || \"_byId\" in seqs) {\n\t    this.mseqs = seqs;\n\t    var mSeqsPluck = function() {\n\t      var seqArr = this.mseqs.pluck(\"seq\");\n\t      this.resetSeqs(seqArr);\n\t    };\n\t    seqs.on(\"add change reset \", mSeqsPluck, this);\n\t    mSeqsPluck.call(this);\n\t  } else {\n\t    this.addSeqs(seqs);\n\t    this._reset();\n\t    this.trigger(\"reset\");\n\t  }\n\t};\n\t\n\tvar calcValues = [\"consensus\", \"frequency\", \"maxLength\", \"ic\", \"gaps\"];\n\t\n\tstat.prototype._reset = function _reset() {\n\t  for (var i = 0; i < calcValues.length; i++) {\n\t    this[\"_\" + calcValues[i]] = undefined;\n\t  }\n\t  this._identity = undefined;\n\t  this._background = undefined;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// BEGIN: setter/getter\n\t// -----------------------------------------------------------------------------\n\t\n\tstat.prototype.setBackground = function setBackground(b) {\n\t  this._useBackground = b;\n\t  this._reset();\n\t};\n\t\n\tstat.prototype.useBackground = function useBackground() {\n\t  this.setBackground(true);\n\t};\n\t\n\tstat.prototype.setDNA = function setNucleotide() {\n\t  this.alphabetSize = 4;\n\t};\n\t\n\tstat.prototype.setProtein = function setDNA() {\n\t  this.alphabetSize = 20;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// BEGIN: auto wrappers\n\t// -----------------------------------------------------------------------------\n\t\n\t// neat auto-wrappers\n\tcalcValues.forEach(function(key) {\n\t  stat.prototype[key] = function() {\n\t    if (this[\"_\" + key] === undefined) {\n\t      this[\"_\" + key] = this[key + \"Calc\"]();\n\t    }\n\t    return this[\"_\" + key];\n\t  };\n\t});\n\t\n\tstat.prototype.identity = function identitiy(seq) {\n\t  // do not cache if its called with a special compare seq\n\t  var ident;\n\t  if (this._identity === undefined || seq) {\n\t    ident = this.identityCalc(seq);\n\t    this._identity = undefined;\n\t  }\n\t  return this._identity || ident;\n\t};\n\t\n\t// set your own background with obj.bg\n\tstat.prototype.background = function background() {\n\t  if (this.bg !== undefined) {\n\t    return this.bg;\n\t  }\n\t  if (this._background === undefined) {\n\t    this.backgroundCalc();\n\t  }\n\t  return this._background;\n\t};\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t// BEGIN: calc tools\n\t// -----------------------------------------------------------------------------\n\t\n\t// calculates the relative frequency of a base at a given position\n\t// this is needed e.g. for the entropy calculation\n\t// seqs: array of sequences (strings)\n\t// opts:\n\t//    all: boolean (use to show the frequencies for all letters [including the ignored ones]\n\t//    (default false)\n\t// @returns array of all positions with a dictionary of all bases with their relative frequency\n\tstat.prototype.frequencyCalc = function frequencyCalc(opts) {\n\t  var occs, totalPerPos;\n\t  occs = new Array(this.maxLength());\n\t  totalPerPos = new Array(this.seqs.length);\n\t  var ignoredChars = this.ignoredChars;\n\t  if(opts !== undefined && opts.all){\n\t    ignoredChars = []; \n\t  }\n\t\n\t  // count the occurrences of the chars at a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c, pos) {\n\t      if (ignoredChars.indexOf(c) >= 0) return;\n\t      if (occs[pos] === undefined) {\n\t        occs[pos] = {};\n\t      }\n\t      if (occs[pos][c] === undefined) {\n\t        occs[pos][c] = 0;\n\t      }\n\t      occs[pos][c] ++;\n\t      if (totalPerPos[pos] === undefined) {\n\t        totalPerPos[pos] = 0;\n\t      }\n\t      totalPerPos[pos] ++;\n\t    });\n\t  });\n\t\n\t  // normalize to 1\n\t  _.each(occs, function(el, pos) {\n\t    return _.each(el, function(val, c) {\n\t      return (occs[pos][c] = val / totalPerPos[pos]);\n\t    });\n\t  });\n\t  this._frequency = occs;\n\t  return occs;\n\t};\n\t\n\t// seqs: array of sequences (strings)\n\tstat.prototype.backgroundCalc = function backgroundCalc() {\n\t  var occ = {};\n\t  var total = 0;\n\t\n\t  // count the occurences of the chars of a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c) {\n\t      if (occ[c] === undefined) {\n\t        occ[c] = 0;\n\t      }\n\t      occ[c] ++;\n\t      return total++;\n\t    });\n\t  });\n\t\n\t  // normalize to 1\n\t  occ = _.mapValues(occ, function(val) {\n\t    return val / total;\n\t  });\n\t  this._background = occ;\n\t  return occ;\n\t};\n\t\n\t\n\t// information content after Shannon\n\t// * gaps are excluded\n\tstat.prototype.icCalc = function icCalc() {\n\t  var f = this.frequency();\n\t  if (this._useBackground) {\n\t    var b = this.background();\n\t  }\n\t  var ignoredChars = this.ignoredChars;\n\t  var useBackground = this._useBackground;\n\t  var ic = _.map(f, function(el) {\n\t    return _.reduce(el, function(memo, val, c) {\n\t      if (ignoredChars.indexOf(c) >= 0) return memo;\n\t      if (useBackground) {\n\t        val = val / b[c];\n\t      }\n\t      return memo - val * (Math.log(val) / Math.log(2));\n\t    }, 0);\n\t  });\n\t  this._ic = ic;\n\t  return ic;\n\t};\n\t\n\t// sequence conservation after Schneider and Stephens (1990)\n\t// @cite Schneider, T.D. and Stephens, R.M. 1990. Sequence logos: A new way to\n\t// display consensus sequences. Nucleic Acids Res. 18: 6097–6100.\n\tstat.prototype.conservation = function conservation(alphabetSize) {\n\t  var ic = this.ic();\n\t  var gaps = this.gaps();\n\t  var self = this;\n\t\n\t  alphabetSize = alphabetSize || this.alphabetSize;\n\t  var icMax = Math.log(alphabetSize) / Math.log(2);\n\t  var i = 0;\n\t  var conserv = _.map(ic, function(el) {\n\t    var ret = (icMax - el);\n\t    if(self.useGaps){\n\t      ret = ret * (1 - gaps[i++]);\n\t    }\n\t    return ret;\n\t  });\n\t  return conserv;\n\t};\n\t\n\t// sequence conservation after Schneider and Stephens (1990)\n\t// conservation for each amino acid\n\t// * gaps are excluded\n\tstat.prototype.conservResidue = function conservation(input) {\n\t  var alphabetSize = input ? input.alphabetSize : undefined;\n\t  var ic;\n\t  var ignoredChars = this.ignoredChars;\n\t  if (input !== undefined && input.scaled) {\n\t    ic = this.scale(this.conservation(alphabetSize));\n\t  } else {\n\t    ic = this.conservation(alphabetSize);\n\t  }\n\t  var f = this.frequency();\n\t  var keys;\n\t  var conserv = _.map(f, function(el, i) {\n\t    keys = _.reject(_.keys(el), function(c) {\n\t      return ignoredChars.indexOf(c) >= 0;\n\t    });\n\t    var obj = {};\n\t    _.each(keys, function(key) {\n\t      obj[key] = el[key] * ic[i];\n\t    });\n\t    return obj;\n\t  });\n\t  return conserv;\n\t};\n\t\n\t// type 2 sequence logo method\n\t// scales relative to background\n\tstat.prototype.conservResidue2 = function conservation(alphabetSize) {\n\t  var f = this.frequency();\n\t  var ic = this.conservation(alphabetSize);\n\t  var b = this.background();\n\t  var conserv = _.map(f, function(el, i) {\n\t    return _.map(el, function(val) {\n\t      var sum = _.reduce(f[i], function(memo, e) {\n\t        return memo + e / b[i];\n\t      }, 0);\n\t      return ((val / b[i]) / sum) * ic[i];\n\t    }, 0);\n\t  });\n\t  return conserv;\n\t};\n\t\n\t// scale information content or conservation to 1\n\tstat.prototype.scale = function conservation(ic, alphabetSize) {\n\t  alphabetSize = alphabetSize || this.alphabetSize;\n\t  var icMax = Math.log(alphabetSize) / Math.log(2);\n\t  var conserv = _.map(ic, function(el) {\n\t    return el / icMax;\n\t  });\n\t  return conserv;\n\t};\n\t\n\tstat.prototype.maxLengthCalc = function() {\n\t  if(this.seqs.length === 0){\n\t    return 0;\n\t  }\n\t  return _.max(this.seqs, function(seq) {\n\t    return seq.length;\n\t  }).length;\n\t};\n\t\n\t// seqs: array of sequences (strings)\n\t// @returns consenus sequence\n\tstat.prototype.consensusCalc = function consensusCal() {\n\t  var occs = new Array(this.maxLength());\n\t\n\t  // count the occurrences of the chars of a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c, pos) {\n\t      if (occs[pos] === undefined) {\n\t        occs[pos] = {};\n\t      }\n\t      if (occs[pos][c] === undefined) {\n\t        occs[pos][c] = 0;\n\t      }\n\t      occs[pos][c] ++;\n\t    });\n\t  });\n\t\n\t  // now pick the char with most occurrences\n\t  this._consensus = _.reduce(occs, function(memo, occ) {\n\t    var keys;\n\t    keys = _.keys(occ);\n\t    return memo += _.max(keys, function(key) {\n\t      return occ[key];\n\t    });\n\t  }, \"\");\n\t\n\t  return this._consensus;\n\t};\n\t\n\t// seqs: array of sequences (strings)\n\t// consensus: calculated consensus seq\n\t// calculates for each sequence\n\t// * matches with the consensus seq\n\t// * identity = matchedChars / totalChars (excluding gaps)\n\t// @returns: array of length of the seqs with the identity to the consensus (double)\n\tstat.prototype.identityCalc = function identitiyCalc(compareSeq) {\n\t  var consensus = compareSeq || this.consensus();\n\t  this._identity = this.seqs.map(function(seq) {\n\t    var matches = 0;\n\t    var total = 0;\n\t    for (var i = 0; i < seq.length; i++) {\n\t      if (seq[i] !== \"-\" && consensus[i] !== \"-\") {\n\t        total++;\n\t        if (seq[i] === consensus[i]) {\n\t          matches++;\n\t        }\n\t      }\n\t    }\n\t    return matches / total;\n\t  });\n\t  return this._identity;\n\t};\n\t\n\t// percentage of gaps per column\n\tstat.prototype.gapsCalc = function gapsCount() {\n\t  var mLength = this.maxLength();\n\t  if(mLength <= 1 || typeof mLength === \"undefined\" ){\n\t    return [];\n\t  }\n\t  var occs = new Array(this.maxLength());\n\t  // count the occurrences of the chars of a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c, pos) {\n\t      if (occs[pos] === undefined) {\n\t        occs[pos] = {\n\t          g: 0,\n\t          t: 0\n\t        };\n\t      }\n\t      c = c === \"-\" ? \"g\" : \"t\";\n\t      occs[pos][c] ++;\n\t    });\n\t  });\n\t\n\t  // now pick the char with most occurrences\n\t  this._gaps = _.map(occs, function(el) {\n\t    return el.g / (el.g + el.t);\n\t  });\n\t  return this._gaps;\n\t};\n\t\n\t_.mixin({\n\t  mapValues: function(obj, f_val) {\n\t    return _.object(_.keys(obj), _.map(obj, f_val));\n\t  }\n\t});\n\t\n\t__webpack_require__(18).mixin(stat.prototype);\n\t\n\tmodule.exports = stat;\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MSA = __webpack_require__(67);\n\t\n\tmodule.exports = window.msa = function () {\n\t  var msa = function msa(args) {\n\t    return MSA.apply(this, args);\n\t  };\n\t  msa.prototype = MSA.prototype;\n\t  return new msa(arguments);\n\t};\n\t\n\tmodule.exports.msa = MSA;\n\t\n\t// models\n\tmodule.exports.model = __webpack_require__(42);\n\t\n\t// extra plugins, extensions\n\tmodule.exports.menu = __webpack_require__(55);\n\tmodule.exports.utils = __webpack_require__(34);\n\t\n\t// probably needed more often\n\tmodule.exports.selection = __webpack_require__(8);\n\tmodule.exports.selcol = __webpack_require__(9);\n\tmodule.exports.view = __webpack_require__(3);\n\tmodule.exports.boneView = __webpack_require__(5);\n\t\n\t// convenience\n\tmodule.exports._ = __webpack_require__(1);\n\tmodule.exports.$ = __webpack_require__(7);\n\t\n\t// parser (are currently bundled - so we can also expose them)\n\tmodule.exports.io = {};\n\tmodule.exports.io.xhr = __webpack_require__(21);\n\tmodule.exports.io.fasta = __webpack_require__(19);\n\tmodule.exports.io.clustal = __webpack_require__(44);\n\tmodule.exports.io.gff = __webpack_require__(37);\n\t\n\tmodule.exports.version = \"0.2.0\";\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MenuView;\n\tvar boneView = __webpack_require__(5);\n\t\n\t// menu views\n\tvar ImportMenu = __webpack_require__(63);\n\tvar FilterMenu = __webpack_require__(61);\n\tvar SelectionMenu = __webpack_require__(65);\n\tvar VisMenu = __webpack_require__(66);\n\tvar ColorMenu = __webpack_require__(57);\n\tvar OrderingMenu = __webpack_require__(64);\n\tvar ExtraMenu = __webpack_require__(60);\n\tvar ExportMenu = __webpack_require__(59);\n\tvar HelpMenu = __webpack_require__(62);\n\tvar DebugMenu = __webpack_require__(58);\n\tvar MenuSettings = __webpack_require__(56);\n\t\n\t// this very basic menu demonstrates calls to the MSA component\n\tmodule.exports = MenuView = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    if (!data.msa) {\n\t      throw new Error(\"No msa instance provided. Please provide .msa\");\n\t    }\n\t    this.msa = data.msa;\n\t\n\t    // add menu config to the global object\n\t    this.msa.g.menuconfig = new MenuSettings(data.menu);\n\t\n\t    this.addView(\"10_import\", new ImportMenu({ model: this.msa.seqs, g: this.msa.g, msa: this.msa }));\n\t    this.addView(\"15_ordering\", new OrderingMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"20_filter\", new FilterMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"30_selection\", new SelectionMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"40_vis\", new VisMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"50_color\", new ColorMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"70_extra\", new ExtraMenu({ model: this.msa.seqs, g: this.msa.g, msa: this.msa }));\n\t    this.addView(\"80_export\", new ExportMenu({ model: this.msa.seqs, g: this.msa.g, msa: this.msa }));\n\t    this.addView(\"90_help\", new HelpMenu({ g: this.msa.g }));\n\t    if (this.msa.g.config.get(\"debug\")) {\n\t      return this.addView(\"95_debug\", new DebugMenu({ g: this.msa.g }));\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    // other\n\t    this.el.setAttribute(\"class\", \"smenubar\");\n\t    return this.el.appendChild(document.createElement(\"p\"));\n\t  }\n\t});\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports.defaultmenu = __webpack_require__(54);\n\tmodule.exports.menubuilder = __webpack_require__(4);\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MenuSettings;\n\tvar Model = __webpack_require__(2).Model;\n\tmodule.exports = MenuSettings = Model.extend({\n\t    constructor: function constructor(attributes, options) {\n\t        if (attributes == \"small\") {\n\t            attributes = this.small;\n\t        }\n\t        return Model.apply(this, [attributes]);\n\t    },\n\t    small: {\n\t        menuFontsize: \"12px\"\n\t    },\n\t    defaults: {\n\t        menuFontsize: \"14px\",\n\t        menuItemFontsize: \"14px\",\n\t        menuItemLineHeight: \"14px\",\n\t        menuMarginLeft: \"3px\",\n\t        menuPadding: \"3px 4px 3px 4px\"\n\t    }\n\t});\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ColorMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar _ = __webpack_require__(1);\n\tvar dom = __webpack_require__(6);\n\t\n\tmodule.exports = ColorMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.listenTo(this.g.colorscheme, \"change\", function () {\n\t      return this.render();\n\t    });\n\t  },\n\t\n\t  render: function render() {\n\t    var menuColor = this.setName(\"Color scheme\");\n\t    this.removeAllNodes();\n\t\n\t    var colorschemes = this.getColorschemes();\n\t    for (var i = 0, scheme; i < colorschemes.length; i++) {\n\t      scheme = colorschemes[i];\n\t      this.addScheme(menuColor, scheme);\n\t    }\n\t\n\t    // text = \"Background\"\n\t    // if @g.colorscheme.get(\"colorBackground\")\n\t    //   text = \"Hide \" + text\n\t    // else\n\t    //   text = \"Show \" + text\n\t\n\t    // @addNode text, =>\n\t    //   @g.colorscheme.set \"colorBackground\", !@g.colorscheme.get(\"colorBackground\")\n\t\n\t    this.grey(menuColor);\n\t\n\t    // TODO: make more efficient\n\t    dom.removeAllChilds(this.el);\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  },\n\t\n\t  addScheme: function addScheme(menuColor, scheme) {\n\t    var _this = this;\n\t\n\t    var style = {};\n\t    var current = this.g.colorscheme.get(\"scheme\");\n\t    if (current === scheme.id) {\n\t      style.backgroundColor = \"#77ED80\";\n\t    }\n\t\n\t    return this.addNode(scheme.name, function () {\n\t      _this.g.colorscheme.set(\"scheme\", scheme.id);\n\t    }, {\n\t      style: style\n\t    });\n\t  },\n\t\n\t  getColorschemes: function getColorschemes() {\n\t    var schemes = [];\n\t    schemes.push({ name: \"Taylor\", id: \"taylor\" });\n\t    schemes.push({ name: \"Buried\", id: \"buried\" });\n\t    schemes.push({ name: \"Cinema\", id: \"cinema\" });\n\t    schemes.push({ name: \"Clustal\", id: \"clustal\" });\n\t    schemes.push({ name: \"Clustal2\", id: \"clustal2\" });\n\t    schemes.push({ name: \"Helix\", id: \"helix\" });\n\t    schemes.push({ name: \"Hydrophobicity\", id: \"hydro\" });\n\t    schemes.push({ name: \"Lesk\", id: \"lesk\" });\n\t    schemes.push({ name: \"MAE\", id: \"mae\" });\n\t    schemes.push({ name: \"Nucleotide\", id: \"nucleotide\" });\n\t    schemes.push({ name: \"Purine\", id: \"purine\" });\n\t    schemes.push({ name: \"PID\", id: \"pid\" });\n\t    schemes.push({ name: \"Strand\", id: \"strand\" });\n\t    schemes.push({ name: \"Turn\", id: \"turn\" });\n\t    schemes.push({ name: \"Zappo\", id: \"zappo\" });\n\t    schemes.push({ name: \"No color\", id: \"foo\" });\n\t    return schemes;\n\t  },\n\t\n\t  grey: function grey(menuColor) {\n\t\n\t    // greys all lowercase letters\n\t    // @addNode \"Shade\", =>\n\t    //   @g.colorscheme.set \"showLowerCase\", false\n\t    //   @model.each (seq) ->\n\t    //     residues = seq.get \"seq\"\n\t    //     grey = []\n\t    //     _.each residues, (el, index) ->\n\t    //       if el is el.toLowerCase()\n\t    //         grey.push index\n\t    //     seq.set \"grey\", grey\n\t\n\t    // @addNode \"Shade by threshold\", =>\n\t    //   threshold = prompt \"Enter threshold (in percent)\", 20\n\t    //   threshold = threshold / 100\n\t    //   maxLen = @model.getMaxLength()\n\t    //   # TODO: cache\n\t    //   conserv = @g.stats.scale @g.stats.conservation()\n\t    //   grey = []\n\t    //   for i in [0.. maxLen - 1]\n\t    //     if conserv[i] < threshold\n\t    //       grey.push i\n\t    //   @model.each (seq) ->\n\t    //     seq.set \"grey\", grey\n\t\n\t    // @addNode \"Shade selection\", =>\n\t    //   maxLen = @model.getMaxLength()\n\t    //   @model.each (seq) =>\n\t    //     blocks = @g.selcol.getBlocksForRow(seq.get(\"id\"),maxLen)\n\t    //     seq.set \"grey\", blocks\n\t\n\t    // @addNode \"Reset shade\", =>\n\t    //   @g.colorscheme.set \"showLowerCase\", true\n\t    //   @model.each (seq) ->\n\t    //     seq.set \"grey\", []\n\t  }\n\t});\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar DebugMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\t\n\tmodule.exports = DebugMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Debug\");\n\t\n\t    this.addNode(\"Get the code\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa\");\n\t    });\n\t\n\t    this.addNode(\"Toggle mouseover events\", function () {\n\t      _this.g.config.set(\"registerMouseHover\", !_this.g.config.get(\"registerMouseHover\"));\n\t      return _this.g.onAll(function () {\n\t        return console.log(arguments);\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Minimized width\", function () {\n\t      return _this.g.zoomer.set(\"alignmentWidth\", 600);\n\t    });\n\t    this.addNode(\"Minimized height\", function () {\n\t      return _this.g.zoomer.set(\"alignmentHeight\", 120);\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ExportMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar FastaExporter = __webpack_require__(19).writer;\n\tvar _ = __webpack_require__(1);\n\tvar Exporter = __webpack_require__(13);\n\t\n\tmodule.exports = ExportMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.msa = data.msa;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Export\");\n\t\n\t    this.addNode(\"Share view (URL) ↪\", function () {\n\t      return Exporter.shareLink(_this.msa, function (link) {\n\t        return window.open(link, '_blank');\n\t      });\n\t    });\n\t\n\t    this.addNode(\"View in Jalview\", function () {\n\t      var url = _this.g.config.get('url');\n\t      if (!(typeof url !== \"undefined\" && url !== null)) {\n\t        return alert(\"Sequence weren't imported via an URL\");\n\t      } else {\n\t        if (url.indexOf(\"localhost\" || url === \"dragimport\")) {\n\t          return Exporter.publishWeb(_this.msa, function (link) {\n\t            return Exporter.openInJalview(link, _this.g.colorscheme.get(\"scheme\"));\n\t          });\n\t        } else {\n\t          return Exporter.openInJalview(url, _this.g.colorscheme.get(\"scheme\"));\n\t        }\n\t      }\n\t    });\n\t\n\t    this.addNode(\"Export alignment (FASTA)\", function () {\n\t      return Exporter.saveAsFile(_this.msa, \"all.fasta\");\n\t    });\n\t\n\t    this.addNode(\"Export alignment (URL)\", function () {\n\t      return Exporter.publishWeb(_this.msa, function (link) {\n\t        return window.open(link, '_blank');\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Export selected sequences (FASTA)\", function () {\n\t      return Exporter.saveSelection(_this.msa, \"selection.fasta\");\n\t    });\n\t\n\t    this.addNode(\"Export features (GFF)\", function () {\n\t      return Exporter.saveAnnots(_this.msa, \"features.gff3\");\n\t    });\n\t\n\t    this.addNode(\"Export MSA image (PNG)\", function () {\n\t      return Exporter.saveAsImg(_this.msa, \"biojs-msa.png\");\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ExtraMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar Seq = __webpack_require__(33);\n\tvar Loader = __webpack_require__(15);\n\tvar xhr = __webpack_require__(21);\n\t\n\tmodule.exports = ExtraMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.msa = data.msa;\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Extras\");\n\t    var stats = this.g.stats;\n\t    var msa = this.msa;\n\t    this.addNode(\"Add consensus seq\", function () {\n\t      var con = stats.consensus();\n\t      var seq = new Seq({\n\t        seq: con,\n\t        id: \"0c\",\n\t        name: \"Consenus\"\n\t      });\n\t      _this.model.add(seq);\n\t      _this.model.setRef(seq);\n\t      _this.model.comparator = function (seq) {\n\t        return !seq.get(\"ref\");\n\t      };\n\t      return _this.model.sort();\n\t    });\n\t\n\t    // @addNode \"Calc Tree\", ->\n\t    //   # this is a very experimental feature\n\t    //   # TODO: exclude msa & tnt in the adapter package\n\t    //   newickStr = \"\"\n\t    //\n\t    //   cbs = Loader.joinCb ->\n\t    //     msa.u.tree.showTree nwkData\n\t    //   , 2, @\n\t    //\n\t    //   msa.u.tree.loadTree cbs\n\t    //   # load fake tree\n\t    //   nwkData =\n\t    //     name: \"root\",\n\t    //     children: [\n\t    //       name: \"c1\",\n\t    //       branch_length: 4\n\t    //       children: msa.seqs.filter (f,i) ->  i % 2 is 0\n\t    //     ,\n\t    //       name: \"c2\",\n\t    //       children: msa.seqs.filter (f,i) ->  i % 2 is 1\n\t    //       branch_length: 4\n\t    //     ]\n\t    //   msa.seqs.each (s) ->\n\t    //     s.set \"branch_length\", 2\n\t    //   cbs()\n\t\n\t    this.addNode(\"Increase font size\", function () {\n\t      var columnWidth = _this.g.zoomer.get(\"columnWidth\");\n\t      var nColumnWidth = columnWidth + 5;\n\t      _this.g.zoomer.set(\"columnWidth\", nColumnWidth);\n\t      _this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n\t      var nFontSize = nColumnWidth * 0.7;\n\t      _this.g.zoomer.set(\"residueFont\", nFontSize);\n\t      return _this.g.zoomer.set(\"labelFontSize\", nFontSize);\n\t    });\n\t    this.addNode(\"Decrease font size\", function () {\n\t      var columnWidth = _this.g.zoomer.get(\"columnWidth\");\n\t      var nColumnWidth = columnWidth - 2;\n\t      _this.g.zoomer.set(\"columnWidth\", nColumnWidth);\n\t      _this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n\t      var nFontSize = nColumnWidth * 0.6;\n\t      _this.g.zoomer.set(\"residueFont\", nFontSize);\n\t      _this.g.zoomer.set(\"labelFontSize\", nFontSize);\n\t\n\t      if (_this.g.zoomer.get(\"columnWidth\") < 8) {\n\t        return _this.g.zoomer.set(\"textVisible\", false);\n\t      }\n\t    });\n\t\n\t    this.addNode(\"Jump to a column\", function () {\n\t      var offset = prompt(\"Column\", \"20\");\n\t      if (offset < 0 || offset > _this.model.getMaxLength() || isNaN(offset)) {\n\t        alert(\"invalid column\");\n\t        return;\n\t      }\n\t      return _this.g.zoomer.setLeftOffset(offset);\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar FilterMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = FilterMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Filter\");\n\t    this.addNode(\"Hide columns by threshold\", function (e) {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n\t      threshold = threshold / 100;\n\t      var maxLen = _this.model.getMaxLength();\n\t      var hidden = [];\n\t      // TODO: cache this value\n\t      var conserv = _this.g.stats.scale(_this.g.stats.conservation());\n\t      var end = maxLen - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        if (conserv[i] < threshold) {\n\t          hidden.push(i);\n\t        }\n\t      }\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    this.addNode(\"Hide columns by selection\", function () {\n\t      var hiddenOld = _this.g.columns.get(\"hidden\");\n\t      var hidden = hiddenOld.concat(_this.g.selcol.getAllColumnBlocks({ maxLen: _this.model.getMaxLength(), withPos: true }));\n\t      _this.g.selcol.reset([]);\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    this.addNode(\"Hide columns by gaps\", function () {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n\t      threshold = threshold / 100;\n\t      var maxLen = _this.model.getMaxLength();\n\t      var hidden = [];\n\t      var end = maxLen - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        var gaps = 0;\n\t        var total = 0;\n\t        _this.model.each(function (el) {\n\t          if (el.get('seq')[i] === \"-\") {\n\t            gaps++;\n\t          }\n\t          return total++;\n\t        });\n\t        var gapContent = gaps / total;\n\t        if (gapContent > threshold) {\n\t          hidden.push(i);\n\t        }\n\t      }\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    this.addNode(\"Hide seqs by identity\", function () {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n\t      threshold = threshold / 100;\n\t      return _this.model.each(function (el) {\n\t        if (el.get('identity') < threshold) {\n\t          return el.set('hidden', true);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Hide seqs by selection\", function () {\n\t      var hidden = _this.g.selcol.where({ type: \"row\" });\n\t      var ids = _.map(hidden, function (el) {\n\t        return el.get('seqId');\n\t      });\n\t      _this.g.selcol.reset([]);\n\t      return _this.model.each(function (el) {\n\t        if (ids.indexOf(el.get('id')) >= 0) {\n\t          return el.set('hidden', true);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Hide seqs by gaps\", function () {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 40);\n\t      return _this.model.each(function (el, i) {\n\t        var seq = el.get('seq');\n\t        var gaps = _.reduce(seq, function (memo, c) {\n\t          return c === '-' ? ++memo : undefined;\n\t        }, 0);\n\t        if (gaps > threshold) {\n\t          return el.set('hidden', true);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Reset\", function () {\n\t      _this.g.columns.set(\"hidden\", []);\n\t      return _this.model.each(function (el) {\n\t        if (el.get('hidden')) {\n\t          return el.set('hidden', false);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar HelpMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\t\n\tmodule.exports = HelpMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    return this.g = data.g;\n\t  },\n\t\n\t  render: function render() {\n\t    this.setName(\"Help\");\n\t    this.addNode(\"About the project\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa\");\n\t    });\n\t    this.addNode(\"Report issues\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa/issues\");\n\t    });\n\t    this.addNode(\"User manual\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa/wiki\");\n\t    });\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ImportMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar k = __webpack_require__(20);\n\t\n\tmodule.exports = ImportMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.msa = data.msa;\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    var msa = this.msa;\n\t    var uploader = k.mk(\"input\");\n\t    uploader.type = \"file\";\n\t    uploader.style.display = \"none\";\n\t    //uploader.accept\n\t    // http://www.w3schools.com/jsref/prop_fileupload_accept.asp\n\t    // for now we allow multiple files\n\t    uploader.multiple = true;\n\t    uploader.addEventListener(\"change\", function () {\n\t      var files = uploader.files || [];\n\t      return msa.u.file.importFiles(files);\n\t    });\n\t\n\t    this.el.appendChild(uploader);\n\t\n\t    var filetypes = \"(Fasta, Clustal, GFF, Jalview features, Newick)\";\n\t\n\t    this.setName(\"Import\");\n\t    this.addNode(\"URL\", function (e) {\n\t      var url = prompt(\"URL \" + filetypes, \"http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw\");\n\t      if (url.length > 5) {\n\t        return _this.msa.u.file.importURL(url, function () {});\n\t      }\n\t    });\n\t    // mass update on zoomer\n\t    //zoomer = @g.zoomer.toJSON()\n\t    //#zoomer.textVisible = false\n\t    //#zoomer.columnWidth = 4\n\t    //zoomer.boxRectHeight = 2\n\t    //zoomer.boxRectWidth = 2\n\t    //@g.zoomer.set zoomer\n\t\n\t    this.addNode(\"From file \" + filetypes, function () {\n\t      return uploader.click();\n\t    });\n\t\n\t    this.addNode(\"Drag & Drop\", function () {\n\t      return alert(\"Yep. Just drag & drop your file \" + filetypes);\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar OrderingMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar dom = __webpack_require__(6);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = OrderingMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.order = \"ID\";\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  setOrder: function setOrder(order) {\n\t    this.order = order;\n\t    return this.render();\n\t  },\n\t\n\t  // TODO: make more generic\n\t  render: function render() {\n\t    this.setName(\"Sorting\");\n\t    this.removeAllNodes();\n\t\n\t    var comps = this.getComparators();\n\t    for (var i = 0, m; i < comps.length; i++) {\n\t      m = comps[i];\n\t      this._addNode(m);\n\t    }\n\t\n\t    var el = this.buildDOM();\n\t\n\t    // TODO: make more efficient\n\t    dom.removeAllChilds(this.el);\n\t    this.el.appendChild(el);\n\t    return this;\n\t  },\n\t\n\t  _addNode: function _addNode(m) {\n\t    var _this = this;\n\t\n\t    var text = m.text;\n\t    var style = {};\n\t    if (text === this.order) {\n\t      style.backgroundColor = \"#77ED80\";\n\t    }\n\t    return this.addNode(text, function () {\n\t      if (m.precode != null) {\n\t        m.precode();\n\t      }\n\t      _this.model.comparator = m.comparator;\n\t      _this.model.sort();\n\t      return _this.setOrder(m.text);\n\t    }, {\n\t      style: style\n\t    });\n\t  },\n\t\n\t\n\t  getComparators: function getComparators() {\n\t    var _this2 = this;\n\t\n\t    var models = [];\n\t\n\t    models.push({ text: \"ID ↑\", comparator: \"id\" });\n\t\n\t    models.push({ text: \"ID ↓\", comparator: function comparator(a, b) {\n\t        // auto converts to string for localeCompare\n\t        return -(\"\" + a.get(\"id\")).localeCompare(\"\" + b.get(\"id\"), [], { numeric: true });\n\t      } });\n\t\n\t    models.push({ text: \"Label ↑\", comparator: \"name\" });\n\t\n\t    models.push({ text: \"Label ↓\", comparator: function comparator(a, b) {\n\t        return -a.get(\"name\").localeCompare(b.get(\"name\"));\n\t      } });\n\t\n\t    models.push({ text: \"Seq ↑\", comparator: \"seq\" });\n\t\n\t    models.push({ text: \"Seq ↓\", comparator: function comparator(a, b) {\n\t        return -a.get(\"seq\").localeCompare(b.get(\"seq\"));\n\t      } });\n\t\n\t    var setIdent = function setIdent() {\n\t      return _this2.ident = _this2.g.stats.identity();\n\t    };\n\t\n\t    var setGaps = function setGaps() {\n\t      _this2.gaps = {};\n\t      return _this2.model.each(function (el) {\n\t        var seq = el.attributes.seq;\n\t        return _this2.gaps[el.id] = _.reduce(seq, function (memo, c) {\n\t          return c === '-' ? ++memo : undefined;\n\t        }, 0) / seq.length;\n\t      });\n\t    };\n\t\n\t    models.push({ text: \"Identity ↑\", comparator: function comparator(a, b) {\n\t        var val = _this2.ident[a.id] - _this2.ident[b.id];\n\t        console.log(_this2.ident[a.id], _this2.ident[b.id]);\n\t        if (val > 0) {\n\t          return 1;\n\t        }\n\t        if (val < 0) {\n\t          return -1;\n\t        }\n\t        return 0;\n\t      }, precode: setIdent });\n\t\n\t    models.push({ text: \"Identity ↓\", comparator: function comparator(a, b) {\n\t        var val = _this2.ident[a.id] - _this2.ident[b.id];\n\t        if (val > 0) {\n\t          return -1;\n\t        }\n\t        if (val < 0) {\n\t          return 1;\n\t        }\n\t        return 0;\n\t      }, precode: setIdent });\n\t\n\t    models.push({ text: \"Gaps ↑\", comparator: function comparator(a, b) {\n\t        var val = _this2.gaps[a.id] - _this2.gaps[b.id];\n\t        if (val > 0) {\n\t          return 1;\n\t        }\n\t        if (val < 0) {\n\t          return -1;\n\t        }\n\t        return 0;\n\t      }, precode: setGaps });\n\t\n\t    models.push({ text: \"Gaps ↓\", comparator: function comparator(a, b) {\n\t        var val = _this2.gaps[a.id] - _this2.gaps[b.id];\n\t        if (val < 0) {\n\t          return 1;\n\t        }\n\t        if (val > 0) {\n\t          return -1;\n\t        }\n\t        return 0;\n\t      }, precode: setGaps });\n\t\n\t    models.push({ text: \"Consensus to top\", comparator: function comparator(seq) {\n\t        return !seq.get(\"ref\");\n\t      }\n\t    });\n\t\n\t    //models.push text: \"Partition codes ↑\", comparator: \"partition\", precode: =>\n\t    //# set partitions random\n\t    //@g.vis.set('labelPartition', true)\n\t    //@model.each (el) ->\n\t    //el.set('partition', _.random(1,3))\n\t\n\t\n\t    return models;\n\t  }\n\t});\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SelectionMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\t\n\tmodule.exports = SelectionMenu = MenuBuilder.extend({\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Selection\");\n\t    this.addNode(\"Find Motif (supports RegEx)\", function () {\n\t      var search = prompt(\"your search\", \"D\");\n\t      return _this.g.user.set(\"searchText\", search);\n\t    });\n\t\n\t    this.addNode(\"Invert columns\", function () {\n\t      return _this.g.selcol.invertCol(function () {\n\t        var result = [];\n\t        var end = this.model.getMaxLength();\n\t        var i = 0;\n\t        if (0 <= end) {\n\t          while (i <= end) {\n\t            result.push(i++);\n\t          }\n\t        } else {\n\t          while (i >= end) {\n\t            result.push(i--);\n\t          }\n\t        }\n\t        return result;\n\t      }());\n\t    });\n\t    this.addNode(\"Invert rows\", function () {\n\t      return _this.g.selcol.invertRow(_this.model.pluck(\"id\"));\n\t    });\n\t    this.addNode(\"Reset\", function () {\n\t      return _this.g.selcol.reset();\n\t    });\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar VisMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar dom = __webpack_require__(6);\n\t\n\tmodule.exports = VisMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.listenTo(this.g.vis, \"change\", this.render);\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.removeAllNodes();\n\t    this.setName(\"Vis.elements\");\n\t\n\t    var visElements = this.getVisElements();\n\t    for (var i = 0, visEl; i < visElements.length; i++) {\n\t      visEl = visElements[i];\n\t      this._addVisEl(visEl);\n\t    }\n\t\n\t    // other\n\t    this.addNode(\"Reset\", function () {\n\t      _this.g.vis.set(\"labels\", true);\n\t      _this.g.vis.set(\"sequences\", true);\n\t      _this.g.vis.set(\"metacell\", true);\n\t      _this.g.vis.set(\"conserv\", true);\n\t      _this.g.vis.set(\"labelId\", true);\n\t      _this.g.vis.set(\"labelName\", true);\n\t      _this.g.vis.set(\"labelCheckbox\", false);\n\t      _this.g.vis.set(\"seqlogo\", false);\n\t      _this.g.vis.set(\"gapHeader\", false);\n\t      _this.g.vis.set(\"leftHeader\", true);\n\t      _this.g.vis.set(\"metaGaps\", true);\n\t      _this.g.vis.set(\"metaIdentity\", true);\n\t      return _this.g.vis.set(\"metaLinks\", true);\n\t    });\n\t\n\t    // TODO: make more efficient\n\t    dom.removeAllChilds(this.el);\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  },\n\t\n\t  _addVisEl: function _addVisEl(visEl) {\n\t    var _this2 = this;\n\t\n\t    var style = {};\n\t\n\t    if (this.g.vis.get(visEl.id)) {\n\t      var pre = \"Hide \";\n\t      style.color = \"red\";\n\t    } else {\n\t      pre = \"Show \";\n\t      style.color = \"green\";\n\t    }\n\t\n\t    return this.addNode(pre + visEl.name, function () {\n\t      return _this2.g.vis.set(visEl.id, !_this2.g.vis.get(visEl.id));\n\t    }, { style: style\n\t    });\n\t  },\n\t\n\t\n\t  getVisElements: function getVisElements() {\n\t    var vis = [];\n\t    vis.push({ name: \"residues indices\", id: \"markers\" });\n\t    vis.push({ name: \"ID/Label\", id: \"labels\" });\n\t    //vis.push name: \"Sequences\", id: \"sequences\"\n\t    vis.push({ name: \"meta info (Gaps/Ident)\", id: \"metacell\" });\n\t    vis.push({ name: \"overview panel\", id: \"overviewbox\" });\n\t    vis.push({ name: \"sequence logo\", id: \"seqlogo\" });\n\t    vis.push({ name: \"gap weights\", id: \"gapHeader\" });\n\t    vis.push({ name: \"conservation weights\", id: \"conserv\" });\n\t    //vis.push name: \"Left header\", id: \"leftHeader\"\n\t    vis.push({ name: \"Label\", id: \"labelName\" });\n\t    vis.push({ name: \"ID\", id: \"labelId\" });\n\t    //vis.push name: \"Label checkbox\", id: \"labelCheckbox\"\n\t    vis.push({ name: \"gaps %\", id: \"metaGaps\" });\n\t    vis.push({ name: \"identity score\", id: \"metaIdentity\" });\n\t    // vis.push name: \"Meta links\", id: \"metaLinks\"\n\t    return vis;\n\t  }\n\t});\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t// models\n\tvar SeqCollection = __webpack_require__(32);\n\t\n\t// globals\n\tvar Colorator = __webpack_require__(22);\n\tvar Columns = __webpack_require__(23);\n\tvar Config = __webpack_require__(24);\n\tvar Package = __webpack_require__(25);\n\tvar SelCol = __webpack_require__(9);\n\tvar User = __webpack_require__(26);\n\tvar Visibility = __webpack_require__(28);\n\tvar VisOrdering = __webpack_require__(27);\n\tvar Zoomer = __webpack_require__(29);\n\t\n\t// MV from backbone\n\tvar boneView = __webpack_require__(5);\n\tvar Eventhandler = __webpack_require__(18);\n\t\n\t// MSA views\n\tvar Stage = __webpack_require__(71);\n\t\n\t// statistics\n\tvar Stats = __webpack_require__(52);\n\t\n\t// utils\n\tvar $ = __webpack_require__(7);\n\tvar FileHelper = __webpack_require__(14);\n\tvar TreeHelper = __webpack_require__(36);\n\tvar ProxyHelper = __webpack_require__(16);\n\t\n\t// opts is a dictionary consisting of\n\t// @param el [String] id or reference to a DOM element\n\t// @param seqs [SeqArray] Array of sequences for initlization\n\t// @param conf [Dict] user config\n\t// @param vis [Dict] config of visible views\n\t// @param zoomer [Dict] display settings like columnWidth\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    var _this = this;\n\t\n\t    if (!(typeof data !== \"undefined\" && data !== null)) {\n\t      data = {};\n\t    }\n\t    // check for default arrays\n\t    if (!(data.colorscheme != null)) {\n\t      data.colorscheme = {};\n\t    }\n\t    if (!(data.columns != null)) {\n\t      data.columns = {};\n\t    }\n\t    if (!(data.conf != null)) {\n\t      data.conf = {};\n\t    }\n\t    if (!(data.vis != null)) {\n\t      data.vis = {};\n\t    }\n\t    if (!(data.visorder != null)) {\n\t      data.visorder = {};\n\t    }\n\t    if (!(data.zoomer != null)) {\n\t      data.zoomer = {};\n\t    }\n\t\n\t    // g is our global Mediator\n\t    this.g = Eventhandler.mixin({});\n\t\n\t    // load seqs and add subviews\n\t    this.seqs = this.g.seqs = new SeqCollection(data.seqs, this.g);\n\t\n\t    // populate it and init the global models\n\t    this.g.config = new Config(data.conf);\n\t    this.g.package = new Package(this.g);\n\t    this.g.selcol = new SelCol([], { g: this.g });\n\t    this.g.user = new User();\n\t    this.g.vis = new Visibility(data.vis, { model: this.seqs });\n\t    this.g.visorder = new VisOrdering(data.visorder);\n\t    this.g.zoomer = new Zoomer(data.zoomer, { g: this.g, model: this.seqs });\n\t\n\t    // debug mode\n\t    if (window.location.hostname === \"localhost\") {\n\t      this.g.config.set(\"debug\", true);\n\t    }\n\t\n\t    this._loadSeqs(data);\n\t\n\t    // utils\n\t    this.u = {};\n\t    this.u.file = new FileHelper(this);\n\t    this.u.proxy = new ProxyHelper({ g: this.g });\n\t    this.u.tree = new TreeHelper(this);\n\t\n\t    if (this.g.config.get(\"eventBus\") === true) {\n\t      this.startEventBus();\n\t    }\n\t\n\t    if (this.g.config.get(\"dropImport\")) {\n\t      var events = { \"dragover\": this.dragOver,\n\t        \"drop\": this.dropFile\n\t      };\n\t      this.delegateEvents(events);\n\t    }\n\t\n\t    if (data.importURL) {\n\t      this.u.file.importURL(data.importURL, function () {\n\t        return _this.render();\n\t      });\n\t    }\n\t\n\t    if (data.bootstrapMenu) {\n\t      // pass menu configuration to defaultmenu\n\t      if (data.menu) {\n\t        this.menuConfig = data.menu;\n\t      }\n\t      this.g.config.set(\"bootstrapMenu\", true);\n\t    }\n\t\n\t    this.draw();\n\t    // add models to the msa (convenience)\n\t    return this.m();\n\t  },\n\t\n\t  _loadSeqs: function _loadSeqs(data) {\n\t    // stats\n\t    var pureSeq = this.seqs.pluck(\"seq\");\n\t    this.g.stats = new Stats(this.seqs, { useGaps: true });\n\t    this.g.stats.alphabetSize = this.g.config.get(\"alphabetSize\");\n\t    this.g.columns = new Columns(data.columns, this.g.stats); // for action on the columns like hiding\n\t\n\t    // depending config\n\t    this.g.colorscheme = new Colorator(data.colorscheme, pureSeq, this.g.stats);\n\t\n\t    // more init\n\t    return this.g.zoomer.setEl(this.el, this.seqs);\n\t  },\n\t\n\t  // proxy to the utility package\n\t  importURL: function importURL() {\n\t    return this.u.file.importURL.apply(this.u.file, arguments);\n\t  },\n\t\n\t  // add models to the msa (convenience)\n\t  m: function m() {\n\t    var m = {};\n\t    m.model = __webpack_require__(42);\n\t    m.selection = __webpack_require__(8);\n\t    m.selcol = __webpack_require__(9);\n\t    m.view = __webpack_require__(3);\n\t    m.boneView = __webpack_require__(5);\n\t    return this.m = m;\n\t  },\n\t\n\t  draw: function draw() {\n\t    var _this2 = this;\n\t\n\t    this.removeViews();\n\t\n\t    this.addView(\"stage\", new Stage({ model: this.seqs, g: this.g }));\n\t    this.el.setAttribute(\"class\", \"biojs_msa_div\");\n\t\n\t    // bootstraps the menu bar by default -> destroys modularity\n\t    if (this.g.config.get(\"bootstrapMenu\")) {\n\t      var menuDiv = document.createElement('div');\n\t      var wrapperDiv = document.createElement('div');\n\t      if (!this.el.parentNode) {\n\t        wrapperDiv.appendChild(menuDiv);\n\t        wrapperDiv.appendChild(this.el);\n\t      } else {\n\t        this.el.parentNode.replaceChild(wrapperDiv, this.el);\n\t        wrapperDiv.appendChild(menuDiv);\n\t        wrapperDiv.appendChild(this.el);\n\t      }\n\t\n\t      var bootstrapOpts = { el: menuDiv,\n\t        msa: this\n\t      };\n\t      if (this.menuConfig) {\n\t        bootstrapOpts.menu = this.menuConfig;\n\t      }\n\t      var defMenu = new msa.menu.defaultmenu(bootstrapOpts);\n\t      defMenu.render();\n\t    }\n\t\n\t    return $(window).on(\"resize\", function (e) {\n\t      var f = function f() {\n\t        return this.g.zoomer.autoResize();\n\t      };\n\t      return setTimeout(f.bind(_this2), 5);\n\t    });\n\t  },\n\t\n\t  dragOver: function dragOver(e) {\n\t    // prevent the normal browser actions\n\t    e.preventDefault();\n\t    e.target.className = 'hover';\n\t    return false;\n\t  },\n\t\n\t  dropFile: function dropFile(e) {\n\t    e.preventDefault();\n\t    var files = e.target.files || e.dataTransfer.files;\n\t    this.u.file.importFiles(files);\n\t    return false;\n\t  },\n\t\n\t  startEventBus: function startEventBus() {\n\t    var _this3 = this;\n\t\n\t    var busObjs = [\"config\", \"columns\", \"colorscheme\", \"selcol\", \"vis\", \"visorder\", \"zoomer\"];\n\t    return function () {\n\t      var result = [];\n\t      for (var i = 0, key; i < busObjs.length; i++) {\n\t        key = busObjs[i];\n\t        result.push(_this3._proxyToG(key));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t\n\t  _proxyToG: function _proxyToG(key) {\n\t    return this.listenTo(this.g[key], \"all\", function (name, prev, now, opts) {\n\t      // suppress duplicate events\n\t      if (name === \"change\") {\n\t        return;\n\t      }\n\t      // backbone uses the second argument for the next value -> swap\n\t      if (typeof opts !== \"undefined\" && opts !== null) {\n\t        return this.g.trigger(key + \":\" + name, now, prev, opts);\n\t      } else {\n\t        return this.g.trigger(key + \":\" + name, now, prev);\n\t      }\n\t    });\n\t  },\n\t\n\t  render: function render() {\n\t    if (this.seqs === undefined || this.seqs.length === 0) {\n\t      console.log(\"warning. empty seqs.\");\n\t    }\n\t    this.renderSubviews();\n\t    this.g.vis.set(\"loaded\", true);\n\t    return this;\n\t  }\n\t});\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar SeqBlock = __webpack_require__(75);\n\tvar LabelBlock = __webpack_require__(84);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    if (true) {\n\t      var labelblock = new LabelBlock({ model: this.model, g: this.g });\n\t      labelblock.ordering = -1;\n\t      this.addView(\"labelblock\", labelblock);\n\t    }\n\t\n\t    if (this.g.vis.get(\"sequences\")) {\n\t      var seqblock = new SeqBlock({ model: this.model, g: this.g });\n\t      seqblock.ordering = 0;\n\t      this.addView(\"seqblock\", seqblock);\n\t    }\n\t\n\t    this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.adjustHeight);\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.adjustWidth);\n\t    return this.listenTo(this.g.columns, \"change:hidden\", this.adjustHeight);\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    this.el.className = \"biojs_msa_albody\";\n\t    this.el.style.whiteSpace = \"nowrap\";\n\t    this.adjustHeight();\n\t    this.adjustWidth();\n\t    return this;\n\t  },\n\t\n\t  adjustHeight: function adjustHeight() {\n\t    if (this.g.zoomer.get(\"alignmentHeight\") === \"auto\") {\n\t      // TODO: fix the magic 5\n\t      return this.el.style.height = this.g.zoomer.get(\"rowHeight\") * this.model.length + 5;\n\t    } else {\n\t      return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\");\n\t    }\n\t  },\n\t\n\t  adjustWidth: function adjustWidth() {\n\t    // TODO: 15 is the width of the scrollbar\n\t    return this.el.style.width = this.getWidth();\n\t  },\n\t\n\t  getWidth: function getWidth() {\n\t    var width = 0;\n\t    width += this.g.zoomer.getLeftBlockWidth();\n\t    if (this.g.vis.get(\"sequences\")) {\n\t      width += this.g.zoomer.get(\"alignmentWidth\");\n\t    }\n\t    return width;\n\t  }\n\t});\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar OverviewBox;\n\tvar view = __webpack_require__(3);\n\tvar mouse = __webpack_require__(49);\n\tvar selection = __webpack_require__(8);\n\tvar jbone = __webpack_require__(7);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = OverviewBox = view.extend({\n\t\n\t  className: \"biojs_msa_overviewbox\",\n\t  tagName: \"canvas\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop\", this.rerender);\n\t    this.listenTo(this.g.selcol, \"add reset change\", this.rerender);\n\t    this.listenTo(this.g.columns, \"change:hidden\", this.rerender);\n\t    this.listenTo(this.g.colorscheme, \"change:showLowerCase\", this.rerender);\n\t    this.listenTo(this.model, \"change\", _.debounce(this.rerender, 5));\n\t\n\t    // color\n\t    this.color = this.g.colorscheme.getSelectedScheme();\n\t    this.listenTo(this.g.colorscheme, \"change:scheme\", function () {\n\t      this.color = this.g.colorscheme.getSelectedScheme();\n\t      return this.rerender();\n\t    });\n\t    return this.dragStart = [];\n\t  },\n\t\n\t  events: { click: \"_onclick\",\n\t    mousedown: \"_onmousedown\"\n\t  },\n\t\n\t  rerender: function rerender() {\n\t    if (!this.g.config.get(\"manualRendering\")) {\n\t      return this.render();\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    this._createCanvas();\n\t    this.el.textContent = \"overview\";\n\t    this.el.style.marginTop = this.g.zoomer.get(\"overviewboxPaddingTop\");\n\t\n\t    // background bg for non-drawed area\n\t    this.ctx.fillStyle = \"#999999\";\n\t    this.ctx.fillRect(0, 0, this.el.width, this.el.height);\n\t\n\t    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t    var showLowerCase = this.g.colorscheme.get(\"showLowerCase\");\n\t\n\t    var y = -rectHeight;\n\t    var end = this.model.length - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      var seq = this.model.at(i).get(\"seq\");\n\t      var x = 0;\n\t      y = y + rectHeight;\n\t\n\t      if (this.model.at(i).get(\"hidden\")) {\n\t        // hidden seq\n\t        console.log(this.model.at(i).get(\"hidden\"));\n\t        this.ctx.fillStyle = \"grey\";\n\t        this.ctx.fillRect(0, y, seq.length * rectWidth, rectHeight);\n\t        continue;\n\t      }\n\t\n\t      var end1 = seq.length - 1;\n\t      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n\t        var c = seq[j];\n\t        // todo: optional uppercasing\n\t        if (showLowerCase) {\n\t          c = c.toUpperCase();\n\t        }\n\t        var color = this.color.getColor(c, { pos: j });\n\t\n\t        if (hidden.indexOf(j) >= 0) {\n\t          color = \"grey\";\n\t        }\n\t\n\t        if (typeof color !== \"undefined\" && color !== null) {\n\t          this.ctx.fillStyle = color;\n\t          this.ctx.fillRect(x, y, rectWidth, rectHeight);\n\t        }\n\t\n\t        x = x + rectWidth;\n\t      }\n\t    }\n\t\n\t    return this._drawSelection();\n\t  },\n\t\n\t  _drawSelection: function _drawSelection() {\n\t    // hide during selection\n\t    if (this.dragStart.length > 0 && !this.prolongSelection) {\n\t      return;\n\t    }\n\t\n\t    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\t    var maxHeight = rectHeight * this.model.length;\n\t    this.ctx.fillStyle = \"#666666\";\n\t    this.ctx.globalAlpha = 0.9;\n\t    var end = this.g.selcol.length - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      var sel = this.g.selcol.at(i);\n\t      if (!sel) continue;\n\t      if (sel.get('type') === 'column') {\n\t        this.ctx.fillRect(rectWidth * sel.get('xStart'), 0, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), maxHeight);\n\t      } else if (sel.get('type') === 'row') {\n\t        var seq = this.model.filter(function (el) {\n\t          return el.get('id') === sel.get('seqId');\n\t        })[0];\n\t        var pos = this.model.indexOf(seq);\n\t        this.ctx.fillRect(0, rectHeight * pos, rectWidth * seq.get('seq').length, rectHeight);\n\t      } else if (sel.get('type') === 'pos') {\n\t        seq = this.model.filter(function (el) {\n\t          return el.get('id') === sel.get('seqId');\n\t        })[0];\n\t        pos = this.model.indexOf(seq);\n\t        this.ctx.fillRect(rectWidth * sel.get('xStart'), rectHeight * pos, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), rectHeight);\n\t      }\n\t    }\n\t\n\t    return this.ctx.globalAlpha = 1;\n\t  },\n\t\n\t  _onclick: function _onclick(evt) {\n\t    return this.g.trigger(\"meta:click\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  },\n\t\n\t  _onmousemove: function _onmousemove(e) {\n\t    // duplicate events\n\t    if (this.dragStart.length === 0) {\n\t      return;\n\t    }\n\t\n\t    this.render();\n\t    this.ctx.fillStyle = \"#666666\";\n\t    this.ctx.globalAlpha = 0.9;\n\t\n\t    var rect = this._calcSelection(mouse.abs(e));\n\t    this.ctx.fillRect(rect[0][0], rect[1][0], rect[0][1] - rect[0][0], rect[1][1] - rect[1][0]);\n\t\n\t    // abort selection events of the browser\n\t    e.preventDefault();\n\t    return e.stopPropagation();\n\t  },\n\t\n\t  // start the selection mode\n\t  _onmousedown: function _onmousedown(e) {\n\t    var _this = this;\n\t\n\t    this.dragStart = mouse.abs(e);\n\t    this.dragStartRel = mouse.rel(e);\n\t\n\t    if (e.ctrlKey || e.metaKey) {\n\t      this.prolongSelection = true;\n\t    } else {\n\t      this.prolongSelection = false;\n\t    }\n\t    // enable global listeners\n\t    jbone(document.body).on('mousemove.overmove', function (e) {\n\t      return _this._onmousemove(e);\n\t    });\n\t    jbone(document.body).on('mouseup.overup', function (e) {\n\t      return _this._onmouseup(e);\n\t    });\n\t    return this.dragStart;\n\t  },\n\t\n\t  // calculates the current selection\n\t  _calcSelection: function _calcSelection(dragMove) {\n\t    // relative to first click\n\t    var dragRel = [dragMove[0] - this.dragStart[0], dragMove[1] - this.dragStart[1]];\n\t\n\t    // relative to target\n\t    for (var i = 0; i <= 1; i++) {\n\t      dragRel[i] = this.dragStartRel[i] + dragRel[i];\n\t    }\n\t\n\t    // 0:x, 1: y\n\t    var rect = [[this.dragStartRel[0], dragRel[0]], [this.dragStartRel[1], dragRel[1]]];\n\t\n\t    // swap the coordinates if needed\n\t    for (var i = 0; i <= 1; i++) {\n\t      if (rect[i][1] < rect[i][0]) {\n\t        rect[i] = [rect[i][1], rect[i][0]];\n\t      }\n\t\n\t      // lower limit\n\t      rect[i][0] = Math.max(rect[i][0], 0);\n\t    }\n\t\n\t    return rect;\n\t  },\n\t\n\t  _endSelection: function _endSelection(dragEnd) {\n\t    // remove listeners\n\t    jbone(document.body).off('.overmove');\n\t    jbone(document.body).off('.overup');\n\t\n\t    // duplicate events\n\t    if (this.dragStart.length === 0) {\n\t      return;\n\t    }\n\t\n\t    var rect = this._calcSelection(dragEnd);\n\t\n\t    // x\n\t    for (var i = 0; i <= 1; i++) {\n\t      rect[0][i] = Math.floor(rect[0][i] / this.g.zoomer.get(\"boxRectWidth\"));\n\t    }\n\t\n\t    // y\n\t    for (var i = 0; i <= 1; i++) {\n\t      rect[1][i] = Math.floor(rect[1][i] / this.g.zoomer.get(\"boxRectHeight\"));\n\t    }\n\t\n\t    // upper limit\n\t    rect[0][1] = Math.min(this.model.getMaxLength() - 1, rect[0][1]);\n\t    rect[1][1] = Math.min(this.model.length - 1, rect[1][1]);\n\t\n\t    // select\n\t    var selis = [];\n\t    for (var j = rect[1][0]; rect[1][0] < rect[1][1] ? j <= rect[1][1] : j >= rect[1][1]; rect[1][0] < rect[1][1] ? j++ : j--) {\n\t      var args = { seqId: this.model.at(j).get('id'), xStart: rect[0][0], xEnd: rect[0][1] };\n\t      selis.push(new selection.possel(args));\n\t    }\n\t\n\t    // reset\n\t    this.dragStart = [];\n\t    // look for ctrl key\n\t    if (this.prolongSelection) {\n\t      this.g.selcol.add(selis);\n\t    } else {\n\t      this.g.selcol.reset(selis);\n\t    }\n\t\n\t    // safety check + update offset\n\t    this.g.zoomer.setLeftOffset(rect[0][0]);\n\t    return this.g.zoomer.setTopOffset(rect[1][0]);\n\t  },\n\t\n\t  // ends the selection mode\n\t  _onmouseup: function _onmouseup(e) {\n\t    return this._endSelection(mouse.abs(e));\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(e) {\n\t    return this._endSelection(mouse.abs(e));\n\t  },\n\t\n\t  // init the canvas\n\t  _createCanvas: function _createCanvas() {\n\t    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\t\n\t    this.el.height = this.model.length * rectHeight;\n\t    this.el.width = this.model.getMaxLength() * rectWidth;\n\t    this.ctx = this.el.getContext(\"2d\");\n\t    this.el.style.overflow = \"scroll\";\n\t    return this.el.style.cursor = \"crosshair\";\n\t  }\n\t});\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar _ = __webpack_require__(1);\n\tvar k = __webpack_require__(20);\n\tvar dom = __webpack_require__(6);\n\tvar sel = __webpack_require__(8);\n\t\n\t// this is a very simplistic approach to show search result\n\t// TODO: needs proper styling\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.listenTo(this.g.user, \"change:searchText\", function (model, prop) {\n\t      this.search(prop);\n\t      return this.render();\n\t    });\n\t    this.sel = [];\n\t    return this.selPos = 0;\n\t  },\n\t\n\t  events: { \"scroll\": \"_sendScrollEvent\" },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    this.el.className = \"biojs_msa_searchresult\";\n\t    var searchText = this.g.user.get(\"searchText\");\n\t    if (typeof searchText !== \"undefined\" && searchText !== null && searchText.length > 0) {\n\t      if (this.sel.length === 0) {\n\t        this.el.textContent = \"no selection found\";\n\t      } else {\n\t        this.resultBox = k.mk(\"div\");\n\t        this.resultBox.className = \"biojs_msa_searchresult_ovbox\";\n\t        this.updateResult();\n\t        this.el.appendChild(this.resultBox);\n\t        this.el.appendChild(this.buildBtns());\n\t      }\n\t    }\n\t    return this;\n\t  },\n\t\n\t  updateResult: function updateResult() {\n\t    var text = \"search pattern: \" + this.g.user.get(\"searchText\");\n\t    text += \", selection: \" + (this.selPos + 1);\n\t    var seli = this.sel[this.selPos];\n\t    text += \" (\";\n\t    text += seli.get(\"xStart\") + \" - \" + seli.get(\"xEnd\");\n\t    text += \", id: \" + seli.get(\"seqId\");\n\t    text += \")\";\n\t    return this.resultBox.textContent = text;\n\t  },\n\t\n\t  buildBtns: function buildBtns() {\n\t    var _this = this;\n\t\n\t    var prevBtn = k.mk(\"button\");\n\t    prevBtn.textContent = \"Prev\";\n\t    prevBtn.addEventListener(\"click\", function () {\n\t      return _this.moveSel(-1);\n\t    });\n\t\n\t    var nextBtn = k.mk(\"button\");\n\t    nextBtn.textContent = \"Next\";\n\t    nextBtn.addEventListener(\"click\", function () {\n\t      return _this.moveSel(1);\n\t    });\n\t\n\t    var allBtn = k.mk(\"button\");\n\t    allBtn.textContent = \"All\";\n\t    allBtn.addEventListener(\"click\", function () {\n\t      return _this.g.selcol.reset(_this.sel);\n\t    });\n\t\n\t    var searchrow = k.mk(\"div\");\n\t    searchrow.appendChild(prevBtn);\n\t    searchrow.appendChild(nextBtn);\n\t    searchrow.appendChild(allBtn);\n\t    searchrow.className = \"biojs_msa_searchresult_row\";\n\t    return searchrow;\n\t  },\n\t\n\t  moveSel: function moveSel(relDist) {\n\t    var selNew = this.selPos + relDist;\n\t    if (selNew < 0 || selNew >= this.sel.length) {\n\t      return -1;\n\t    } else {\n\t      this.focus(selNew);\n\t      this.selPos = selNew;\n\t      return this.updateResult();\n\t    }\n\t  },\n\t\n\t  focus: function focus(selPos) {\n\t    var seli = this.sel[selPos];\n\t    var leftIndex = seli.get(\"xStart\");\n\t    this.g.zoomer.setLeftOffset(leftIndex);\n\t    return this.g.selcol.reset([seli]);\n\t  },\n\t\n\t  search: function search(searchText) {\n\t    // marks all hits\n\t    var origIndex;\n\t    var search = new RegExp(searchText, \"gi\");\n\t    var newSeli = [];\n\t    var leftestIndex = origIndex = 100042;\n\t\n\t    this.model.each(function (seq) {\n\t      var strSeq = seq.get(\"seq\");\n\t      return function () {\n\t        var match;\n\t        var result = [];\n\t        while (match = search.exec(strSeq)) {\n\t          var index = match.index;\n\t          var args = { xStart: index, xEnd: index + match[0].length - 1, seqId: seq.get(\"id\") };\n\t          newSeli.push(new sel.possel(args));\n\t          result.push(leftestIndex = Math.min(index, leftestIndex));\n\t        }\n\t        return result;\n\t      }();\n\t    });\n\t\n\t    this.g.selcol.reset(newSeli);\n\t\n\t    // safety check + update offset\n\t    if (leftestIndex === origIndex) {\n\t      leftestIndex = 0;\n\t    }\n\t    this.g.zoomer.setLeftOffset(leftestIndex);\n\t\n\t    return this.sel = newSeli;\n\t  }\n\t});\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar AlignmentBody = __webpack_require__(68);\n\tvar HeaderBlock = __webpack_require__(79);\n\tvar OverviewBox = __webpack_require__(69);\n\tvar Search = __webpack_require__(70);\n\tvar _ = __webpack_require__(1);\n\t\n\t// a neat collection view\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.draw();\n\t    //@listenTo @model,\"reset\", ->\n\t    // we need to wait until stats gives us the ok\n\t    this.listenTo(this.g.stats, \"reset\", function () {\n\t      return this.rerender();\n\t    });\n\t\n\t    // debounce a bulk operation\n\t    this.listenTo(this.model, \"change:hidden\", _.debounce(this.rerender, 10));\n\t\n\t    this.listenTo(this.model, \"sort\", this.rerender);\n\t    this.listenTo(this.model, \"add\", function () {\n\t      return console.log(\"seq add\");\n\t    });\n\t\n\t    this.listenTo(this.g.vis, \"change:sequences\", this.rerender);\n\t    this.listenTo(this.g.vis, \"change:overviewbox\", this.rerender);\n\t    return this.listenTo(this.g.visorder, \"change\", this.rerender);\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t\n\t    if (this.g.vis.get(\"overviewbox\")) {\n\t      var overviewbox = new OverviewBox({ model: this.model, g: this.g });\n\t      overviewbox.ordering = this.g.visorder.get('overviewBox');\n\t      this.addView(\"overviewBox\", overviewbox);\n\t    }\n\t\n\t    if (true) {\n\t      var headerblock = new HeaderBlock({ model: this.model, g: this.g });\n\t      headerblock.ordering = this.g.visorder.get('headerBox');\n\t      this.addView(\"headerBox\", headerblock);\n\t    }\n\t\n\t    if (true) {\n\t      var searchblock = new Search({ model: this.model, g: this.g });\n\t      searchblock.ordering = this.g.visorder.get('searchBox');\n\t      this.addView(\"searchbox\", searchblock);\n\t    }\n\t\n\t    var body = new AlignmentBody({ model: this.model, g: this.g });\n\t    body.ordering = this.g.visorder.get('alignmentBody');\n\t    return this.addView(\"body\", body);\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    this.el.className = \"biojs_msa_stage\";\n\t\n\t    return this;\n\t  },\n\t\n\t  rerender: function rerender() {\n\t    if (!this.g.config.get(\"manualRendering\")) {\n\t      this.draw();\n\t      return this.render();\n\t    }\n\t  }\n\t});\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Events = __webpack_require__(18);\n\t\n\tmodule.exports = function () {\n\t  function CanvasCharCache(g) {\n\t    _classCallCheck(this, CanvasCharCache);\n\t\n\t    this.g = g;\n\t    this.cache = {};\n\t    this.cacheHeight = 0;\n\t    this.cacheWidth = 0;\n\t  }\n\t\n\t  // returns a cached canvas\n\t\n\t\n\t  _createClass(CanvasCharCache, [{\n\t    key: \"getFontTile\",\n\t    value: function getFontTile(letter, width, height) {\n\t      // validate cache\n\t      if (width !== this.cacheWidth || height !== this.cacheHeight) {\n\t        this.cacheHeight = height;\n\t        this.cacheWidth = width;\n\t        this.cache = {};\n\t      }\n\t\n\t      if (this.cache[letter] === undefined) {\n\t        this.createTile(letter, width, height);\n\t      }\n\t\n\t      return this.cache[letter];\n\t    }\n\t\n\t    // creates a canvas with a single letter\n\t    // (for the fast font cache)\n\t\n\t  }, {\n\t    key: \"createTile\",\n\t    value: function createTile(letter, width, height) {\n\t\n\t      var canvas = this.cache[letter] = document.createElement(\"canvas\");\n\t      canvas.width = width;\n\t      canvas.height = height;\n\t      this.ctx = canvas.getContext('2d');\n\t      this.ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n\t\n\t      this.ctx.textBaseline = 'middle';\n\t      this.ctx.textAlign = \"center\";\n\t\n\t      return this.ctx.fillText(letter, width / 2, height / 2, width);\n\t    }\n\t  }]);\n\t\n\t  return CanvasCharCache;\n\t}();\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar cacheConstructor;\n\tvar _ = __webpack_require__(1);\n\tvar Events = __webpack_require__(18);\n\t\n\tvar cache = {\n\t  setMaxScrollHeight: function setMaxScrollHeight() {\n\t    return this.maxScrollHeight = this.g.zoomer.getMaxAlignmentHeight() - this.g.zoomer.get('alignmentHeight');\n\t  },\n\t  setMaxScrollWidth: function setMaxScrollWidth() {\n\t    return this.maxScrollWidth = this.g.zoomer.getMaxAlignmentWidth() - this.g.zoomer.getAlignmentWidth();\n\t  }\n\t};\n\t\n\tmodule.exports = cacheConstructor = function cacheConstructor(g, model) {\n\t  this.g = g;\n\t  this.model = model;\n\t  this.maxScrollWidth = 0;\n\t  this.maxScrollHeight = 0;\n\t  this.setMaxScrollHeight();\n\t  this.setMaxScrollWidth();\n\t\n\t  this.listenTo(this.g.zoomer, \"change:rowHeight\", this.setMaxScrollHeight);\n\t  this.listenTo(this.g.zoomer, \"change:columnWidth\", this.setMaxScrollWidth);\n\t  this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.setMaxScrollWidth);\n\t  this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.setMaxScrollHeight);\n\t  this.listenTo(this.model, \"add change reset\", function () {\n\t    this.setMaxScrollHeight();\n\t    return this.setMaxScrollWidth();\n\t  }, this);\n\t  return this;\n\t};\n\t\n\t_.extend(cacheConstructor.prototype, cache);\n\tEvents.mixin(cacheConstructor.prototype);\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar SelectionClass;\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = SelectionClass = function SelectionClass(g, ctx) {\n\t  this.g = g;\n\t  this.ctx = ctx;\n\t  return this;\n\t};\n\t\n\t_.extend(SelectionClass.prototype, {\n\t\n\t  // TODO: should I be moved to the selection manager?\n\t  // returns an array with the currently selected residues\n\t  // e.g. [0,3] = pos 0 and 3 are selected\n\t  _getSelection: function _getSelection(model) {\n\t    var maxLen = model.get(\"seq\").length;\n\t    var selection = [];\n\t    var sels = this.g.selcol.getSelForRow(model.get(\"id\"));\n\t    var rows = _.find(sels, function (el) {\n\t      return el.get(\"type\") === \"row\";\n\t    });\n\t    if (typeof rows !== \"undefined\" && rows !== null) {\n\t      // full match\n\t      var end = maxLen - 1;\n\t      for (var n = 0; n <= end; n++) {\n\t        selection.push(n);\n\t      }\n\t    } else if (sels.length > 0) {\n\t      for (var i = 0, sel; i < sels.length; i++) {\n\t        sel = sels[i];\n\t        var start = sel.get(\"xStart\");\n\t        var end = sel.get(\"xEnd\");\n\t        for (var n = start; n <= end; n++) {\n\t          selection.push(n);\n\t        }\n\t      }\n\t    }\n\t\n\t    return selection;\n\t  },\n\t\n\t  // loops over all selection and calls the render method\n\t  _appendSelection: function _appendSelection(data) {\n\t    var _this = this;\n\t\n\t    var seq = data.model.get(\"seq\");\n\t    var selection = this._getSelection(data.model);\n\t    // get the status of the upper and lower row\n\t\n\t    var _getPrevNextSelection = this._getPrevNextSelection(data.model),\n\t        _getPrevNextSelection2 = _slicedToArray(_getPrevNextSelection, 2),\n\t        mPrevSel = _getPrevNextSelection2[0],\n\t        mNextSel = _getPrevNextSelection2[1];\n\t\n\t    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n\t\n\t    // avoid unnecessary loops\n\t    if (selection.length === 0) {\n\t      return;\n\t    }\n\t\n\t    var hiddenOffset = 0;\n\t    return function () {\n\t      var result = [];\n\t      var end = seq.length - 1;\n\t      for (var n = 0; 0 < end ? n <= end : n >= end; 0 < end ? n++ : n--) {\n\t        result.push(function () {\n\t          if (data.hidden.indexOf(n) >= 0) {\n\t            return hiddenOffset++;\n\t          } else {\n\t            var k = n - hiddenOffset;\n\t            // only if its a new selection\n\t            if (selection.indexOf(n) >= 0 && (k === 0 || selection.indexOf(n - 1) < 0)) {\n\t              return _this._renderSelection({ n: n, k: k, selection: selection, mPrevSel: mPrevSel, mNextSel: mNextSel, xZero: data.xZero, yZero: data.yZero, model: data.model });\n\t            }\n\t          }\n\t        }());\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  // draws a single user selection\n\t  _renderSelection: function _renderSelection(data) {\n\t\n\t    var xZero = data.xZero;\n\t    var yZero = data.yZero;\n\t    var n = data.n;\n\t    var k = data.k;\n\t    var selection = data.selection;\n\t    // and checks the prev and next row for selection  -> no borders in a selection\n\t    var mPrevSel = data.mPrevSel;\n\t    var mNextSel = data.mNextSel;\n\t\n\t    // get the length of this selection\n\t    var selectionLength = 0;\n\t    var end = data.model.get(\"seq\").length - 1;\n\t    for (var i = n; n < end ? i <= end : i >= end; n < end ? i++ : i--) {\n\t      if (selection.indexOf(i) >= 0) {\n\t        selectionLength++;\n\t      } else {\n\t        break;\n\t      }\n\t    }\n\t\n\t    // TODO: ugly!\n\t    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n\t    var totalWidth = boxWidth * selectionLength + 1;\n\t\n\t    var hidden = this.g.columns.get('hidden');\n\t\n\t    this.ctx.beginPath();\n\t    var beforeWidth = this.ctx.lineWidth;\n\t    this.ctx.lineWidth = 3;\n\t    var beforeStyle = this.ctx.strokeStyle;\n\t    this.ctx.strokeStyle = \"#FF0000\";\n\t\n\t    xZero += k * boxWidth;\n\t\n\t    // split up the selection into single cells\n\t    var xPart = 0;\n\t    var end1 = selectionLength - 1;\n\t    for (var i = 0; 0 < end1 ? i <= end1 : i >= end1; 0 < end1 ? i++ : i--) {\n\t      var xPos = n + i;\n\t      if (hidden.indexOf(xPos) >= 0) {\n\t        continue;\n\t      }\n\t      // upper line\n\t      if (!(typeof mPrevSel !== \"undefined\" && mPrevSel !== null && mPrevSel.indexOf(xPos) >= 0)) {\n\t        this.ctx.moveTo(xZero + xPart, yZero);\n\t        this.ctx.lineTo(xPart + boxWidth + xZero, yZero);\n\t      }\n\t      // lower line\n\t      if (!(typeof mNextSel !== \"undefined\" && mNextSel !== null && mNextSel.indexOf(xPos) >= 0)) {\n\t        this.ctx.moveTo(xPart + xZero, boxHeight + yZero);\n\t        this.ctx.lineTo(xPart + boxWidth + xZero, boxHeight + yZero);\n\t      }\n\t\n\t      xPart += boxWidth;\n\t    }\n\t\n\t    // left\n\t    this.ctx.moveTo(xZero, yZero);\n\t    this.ctx.lineTo(xZero, boxHeight + yZero);\n\t\n\t    // right\n\t    this.ctx.moveTo(xZero + totalWidth, yZero);\n\t    this.ctx.lineTo(xZero + totalWidth, boxHeight + yZero);\n\t\n\t    this.ctx.stroke();\n\t    this.ctx.strokeStyle = beforeStyle;\n\t    return this.ctx.lineWidth = beforeWidth;\n\t  },\n\t\n\t  // looks at the selection of the prev and next el\n\t  // TODO: this is very naive, as there might be gaps above or below\n\t  _getPrevNextSelection: function _getPrevNextSelection(model) {\n\t\n\t    var modelPrev = model.collection.prev(model);\n\t    var modelNext = model.collection.next(model);\n\t    if (typeof modelPrev !== \"undefined\" && modelPrev !== null) {\n\t      var mPrevSel = this._getSelection(modelPrev);\n\t    }\n\t    if (typeof modelNext !== \"undefined\" && modelNext !== null) {\n\t      var mNextSel = this._getSelection(modelNext);\n\t    }\n\t    return [mPrevSel, mNextSel];\n\t  }\n\t});\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar mouse = __webpack_require__(49);\n\tvar _ = __webpack_require__(1);\n\tvar jbone = __webpack_require__(7);\n\tvar CharCache = __webpack_require__(72);\n\tvar SelectionClass = __webpack_require__(74);\n\tvar CanvasSeqDrawer = __webpack_require__(76);\n\tvar CanvasCoordsCache = __webpack_require__(73);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  tagName: \"canvas\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft change:_alignmentScrollTop\", function (model, value, options) {\n\t      if (!((typeof options !== \"undefined\" && options !== null ? options.origin : undefined) != null) || options.origin !== \"canvasseq\") {\n\t        return this.render();\n\t      }\n\t    });\n\t\n\t    this.listenTo(this.g.columns, \"change:hidden\", this.render);\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth change:alignmentHeight\", this.render);\n\t    this.listenTo(this.g.colorscheme, \"change\", this.render);\n\t    this.listenTo(this.g.selcol, \"reset add\", this.render);\n\t    this.listenTo(this.model, \"reset add\", this.render);\n\t\n\t    // el props\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.style.overflowX = \"hidden\";\n\t    this.el.style.overflowY = \"hidden\";\n\t    this.el.className = \"biojs_msa_seqblock\";\n\t\n\t    this.ctx = this.el.getContext('2d');\n\t    this.cache = new CharCache(this.g);\n\t    this.coordsCache = new CanvasCoordsCache(this.g, this.model);\n\t\n\t    // clear the char cache\n\t    this.listenTo(this.g.zoomer, \"change:residueFont\", function () {\n\t      this.cache = new CharCache(this.g);\n\t      return this.render();\n\t    });\n\t\n\t    // init selection\n\t    this.sel = new SelectionClass(this.g, this.ctx);\n\t\n\t    this._setColor();\n\t\n\t    // throttle the expensive draw function\n\t    this.throttleTime = 0;\n\t    this.throttleCounts = 0;\n\t    if (document.documentElement.style.webkitAppearance != null) {\n\t      // webkit browser - no throttling needed\n\t      this.throttledDraw = function () {\n\t        var start = +new Date();\n\t        this.draw();\n\t        this.throttleTime += +new Date() - start;\n\t        this.throttleCounts++;\n\t        if (this.throttleCounts > 15) {\n\t          var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n\t          console.log(\"avgDrawTime/WebKit\", tTime);\n\t          // remove perf analyser\n\t          return this.throttledDraw = this.draw;\n\t        }\n\t      };\n\t    } else {\n\t      // slow browsers like Gecko\n\t      this.throttledDraw = _.throttle(this.throttledDraw, 30);\n\t    }\n\t\n\t    return this.manageEvents();\n\t  },\n\t\n\t  // measures the time of a redraw and thus set the throttle limit\n\t  throttledDraw: function throttledDraw() {\n\t    // +new is the fastest: http://jsperf.com/new-date-vs-date-now-vs-performance-now/6\n\t    var start = +new Date();\n\t    this.draw();\n\t    this.throttleTime += +new Date() - start;\n\t    this.throttleCounts++;\n\t\n\t    // remove itself after analysis\n\t    if (this.throttleCounts > 15) {\n\t      var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n\t      console.log(\"avgDrawTime\", tTime);\n\t      tTime *= 1.2; // add safety time\n\t      tTime = Math.max(20, tTime); // limit for ultra fast computers\n\t      return this.throttledDraw = _.throttle(this.draw, tTime);\n\t    }\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    events.mousedown = \"_onmousedown\";\n\t    events.touchstart = \"_ontouchstart\";\n\t\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.dblclick = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t\n\t    events.mousewheel = \"_onmousewheel\";\n\t    events.DOMMouseScroll = \"_onmousewheel\";\n\t    this.delegateEvents(events);\n\t\n\t    // listen for changes\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t    return this.dragStart = [];\n\t  },\n\t\n\t  _setColor: function _setColor() {\n\t    return this.color = this.g.colorscheme.getSelectedScheme();\n\t  },\n\t\n\t  draw: function draw() {\n\t    // fastest way to clear the canvas\n\t    // http://jsperf.com/canvas-clear-speed/25\n\t    this.el.width = this.el.width;\n\t\n\t    // draw all the stuff\n\t    if (this.seqDrawer != null && this.model.length > 0) {\n\t      // char based\n\t      this.seqDrawer.drawLetters();\n\t      // row based\n\t      this.seqDrawer.drawRows(this.sel._appendSelection, this.sel);\n\t      return this.seqDrawer.drawRows(this.drawFeatures, this);\n\t    }\n\t  },\n\t\n\t  drawFeatures: function drawFeatures(data) {\n\t    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"rowHeight\");\n\t    if (data.model.attributes.height > 1) {\n\t      var ctx = this.ctx;\n\t      data.model.attributes.features.each(function (feature) {\n\t        ctx.fillStyle = feature.attributes.fillColor || \"red\";\n\t        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n\t        var y = (feature.attributes.row + 1) * rectHeight;\n\t        return ctx.fillRect(feature.attributes.xStart * rectWidth + data.xZero, y + data.yZero, rectWidth * len, rectHeight);\n\t      });\n\t\n\t      // draw text\n\t      ctx.fillStyle = \"black\";\n\t      ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n\t      ctx.textBaseline = 'middle';\n\t      ctx.textAlign = \"center\";\n\t\n\t      return data.model.attributes.features.each(function (feature) {\n\t        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n\t        var y = (feature.attributes.row + 1) * rectHeight;\n\t        return ctx.fillText(feature.attributes.text, data.xZero + feature.attributes.xStart * rectWidth + len / 2 * rectWidth, data.yZero + rectHeight * 0.5 + y);\n\t      });\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t\n\t    this.el.setAttribute('height', this.g.zoomer.get(\"alignmentHeight\") + \"px\");\n\t    this.el.setAttribute('width', this.g.zoomer.getAlignmentWidth() + \"px\");\n\t\n\t    this.g.zoomer._checkScrolling(this._checkScrolling([this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')]), { header: \"canvasseq\" });\n\t\n\t    this._setColor();\n\t\n\t    this.seqDrawer = new CanvasSeqDrawer(this.g, this.ctx, this.model, { width: this.el.width,\n\t      height: this.el.height,\n\t      color: this.color,\n\t      cache: this.cache\n\t    });\n\t\n\t    this.throttledDraw();\n\t    return this;\n\t  },\n\t\n\t  _onmousemove: function _onmousemove(e, reversed) {\n\t    if (this.dragStart.length === 0) {\n\t      return;\n\t    }\n\t\n\t    var dragEnd = mouse.abs(e);\n\t    // relative to first click\n\t    var relEnd = [dragEnd[0] - this.dragStart[0], dragEnd[1] - this.dragStart[1]];\n\t    // relative to initial scroll status\n\t\n\t    // scale events\n\t    var scaleFactor = this.g.zoomer.get(\"canvasEventScale\");\n\t    if (reversed) {\n\t      scaleFactor = 3;\n\t    }\n\t    for (var i = 0; i <= 1; i++) {\n\t      relEnd[i] = relEnd[i] * scaleFactor;\n\t    }\n\t\n\t    // calculate new scrolling vals\n\t    var relDist = [this.dragStartScroll[0] - relEnd[0], this.dragStartScroll[1] - relEnd[1]];\n\t\n\t    // round values\n\t    for (var i = 0; i <= 1; i++) {\n\t      relDist[i] = Math.round(relDist[i]);\n\t    }\n\t\n\t    // update scrollbar\n\t    var scrollCorrected = this._checkScrolling(relDist);\n\t    this.g.zoomer._checkScrolling(scrollCorrected, { origin: \"canvasseq\" });\n\t\n\t    // reset start if use scrolls out of bounds\n\t    for (var i = 0; i <= 1; i++) {\n\t      if (scrollCorrected[i] !== relDist[i]) {\n\t        if (scrollCorrected[i] === 0) {\n\t          // reset of left, top\n\t          this.dragStart[i] = dragEnd[i];\n\t          this.dragStartScroll[i] = 0;\n\t        } else {\n\t          // recalibrate on right, bottom\n\t          this.dragStart[i] = dragEnd[i] - scrollCorrected[i];\n\t        }\n\t      }\n\t    }\n\t\n\t    this.throttledDraw();\n\t\n\t    // abort selection events of the browser (mouse only)\n\t    if (e.preventDefault != null) {\n\t      e.preventDefault();\n\t      return e.stopPropagation();\n\t    }\n\t  },\n\t\n\t  // converts touches into old mouse event\n\t  _ontouchmove: function _ontouchmove(e) {\n\t    this._onmousemove(e.changedTouches[0], true);\n\t    e.preventDefault();\n\t    return e.stopPropagation();\n\t  },\n\t\n\t  // start the dragging mode\n\t  _onmousedown: function _onmousedown(e) {\n\t    var _this = this;\n\t\n\t    this.dragStart = mouse.abs(e);\n\t    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n\t    jbone(document.body).on('mousemove.overmove', function (e) {\n\t      return _this._onmousemove(e);\n\t    });\n\t    jbone(document.body).on('mouseup.overup', function () {\n\t      return _this._cleanup();\n\t    });\n\t    //jbone(document.body).on 'mouseout.overout', (e) => @_onmousewinout(e)\n\t    return e.preventDefault();\n\t  },\n\t\n\t  // starts the touch mode\n\t  _ontouchstart: function _ontouchstart(e) {\n\t    var _this2 = this;\n\t\n\t    this.dragStart = mouse.abs(e.changedTouches[0]);\n\t    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n\t    jbone(document.body).on('touchmove.overtmove', function (e) {\n\t      return _this2._ontouchmove(e);\n\t    });\n\t    return jbone(document.body).on('touchend.overtend touchleave.overtleave touchcancel.overtcanel', function (e) {\n\t      return _this2._touchCleanup(e);\n\t    });\n\t  },\n\t\n\t  // checks whether mouse moved out of the window\n\t  // -> terminate dragging\n\t  _onmousewinout: function _onmousewinout(e) {\n\t    if (e.toElement === document.body.parentNode) {\n\t      return this._cleanup();\n\t    }\n\t  },\n\t\n\t  // terminates dragging\n\t  _cleanup: function _cleanup() {\n\t    this.dragStart = [];\n\t    // remove all listeners\n\t    jbone(document.body).off('.overmove');\n\t    jbone(document.body).off('.overup');\n\t    return jbone(document.body).off('.overout');\n\t  },\n\t\n\t  // terminates touching\n\t  _touchCleanup: function _touchCleanup(e) {\n\t    if (e.changedTouches.length > 0) {\n\t      // maybe we can send a final event\n\t      this._onmousemove(e.changedTouches[0], true);\n\t    }\n\t\n\t    this.dragStart = [];\n\t    // remove all listeners\n\t    jbone(document.body).off('.overtmove');\n\t    jbone(document.body).off('.overtend');\n\t    jbone(document.body).off('.overtleave');\n\t    return jbone(document.body).off('.overtcancel');\n\t  },\n\t\n\t  // might be incompatible with some browsers\n\t  _onmousewheel: function _onmousewheel(e) {\n\t    var delta = mouse.wheelDelta(e);\n\t    this.g.zoomer.set('_alignmentScrollLeft', this.g.zoomer.get('_alignmentScrollLeft') + delta[0]);\n\t    this.g.zoomer.set('_alignmentScrollTop', this.g.zoomer.get('_alignmentScrollTop') + delta[1]);\n\t    return e.preventDefault();\n\t  },\n\t\n\t  _onclick: function _onclick(e) {\n\t    var res = this._getClickPos(e);\n\t    if (typeof res !== \"undefined\" && res !== null) {\n\t      if (res.feature != null) {\n\t        this.g.trigger(\"feature:click\", res);\n\t      } else {\n\t        this.g.trigger(\"residue:click\", res);\n\t      }\n\t    }\n\t    return this.throttledDraw();\n\t  },\n\t\n\t  _onmousein: function _onmousein(e) {\n\t    var res = this._getClickPos(e);\n\t    if (typeof res !== \"undefined\" && res !== null) {\n\t      if (res.feature != null) {\n\t        this.g.trigger(\"feature:mousein\", res);\n\t      } else {\n\t        this.g.trigger(\"residue:mousein\", res);\n\t      }\n\t    }\n\t    return this.throttledDraw();\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(e) {\n\t    var res = this._getClickPos(e);\n\t    if (typeof res !== \"undefined\" && res !== null) {\n\t      if (res.feature != null) {\n\t        this.g.trigger(\"feature:mouseout\", res);\n\t      } else {\n\t        this.g.trigger(\"residue:mouseout\", res);\n\t      }\n\t    }\n\t\n\t    return this.throttledDraw();\n\t  },\n\t\n\t  _getClickPos: function _getClickPos(e) {\n\t    var coords = mouse.rel(e);\n\t\n\t    coords[0] += this.g.zoomer.get(\"_alignmentScrollLeft\");\n\t    var x = Math.floor(coords[0] / this.g.zoomer.get(\"columnWidth\"));\n\t\n\t    var _seqDrawer$_getSeqFor = this.seqDrawer._getSeqForYClick(coords[1]),\n\t        _seqDrawer$_getSeqFor2 = _slicedToArray(_seqDrawer$_getSeqFor, 2),\n\t        y = _seqDrawer$_getSeqFor2[0],\n\t        rowNumber = _seqDrawer$_getSeqFor2[1];\n\t\n\t    // add hidden columns\n\t\n\t\n\t    x += this.g.columns.calcHiddenColumns(x);\n\t    // add hidden seqs\n\t    y += this.model.calcHiddenSeqs(y);\n\t\n\t    x = Math.max(0, x);\n\t    y = Math.max(0, y);\n\t\n\t    var seqId = this.model.at(y).get(\"id\");\n\t\n\t    if (rowNumber > 0) {\n\t      // click on a feature\n\t      var features = this.model.at(y).get(\"features\").getFeatureOnRow(rowNumber - 1, x);\n\t      if (!(features.length === 0)) {\n\t        var feature = features[0];\n\t        console.log(features[0].attributes);\n\t        return { seqId: seqId, feature: feature, rowPos: x, evt: e };\n\t      }\n\t    } else {\n\t      // click on a seq\n\t      return { seqId: seqId, rowPos: x, evt: e };\n\t    }\n\t  },\n\t\n\t  // checks whether the scrolling coordinates are valid\n\t  // @returns: [xScroll,yScroll] valid coordinates\n\t  _checkScrolling: function _checkScrolling(scrollObj) {\n\t\n\t    // 0: maxLeft, 1: maxTop\n\t    var max = [this.coordsCache.maxScrollWidth, this.coordsCache.maxScrollHeight];\n\t\n\t    for (var i = 0; i <= 1; i++) {\n\t      if (scrollObj[i] > max[i]) {\n\t        scrollObj[i] = max[i];\n\t      }\n\t\n\t      if (scrollObj[i] < 0) {\n\t        scrollObj[i] = 0;\n\t      }\n\t    }\n\t\n\t    return scrollObj;\n\t  }\n\t});\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar construc;\n\tvar _ = __webpack_require__(1);\n\t\n\tvar drawer = { drawLetters: function drawLetters() {\n\t\n\t    var rectHeight = this.rectHeight;\n\t\n\t    // rects\n\t    this.ctx.globalAlpha = this.g.colorscheme.get(\"opacity\");\n\t    this.drawSeqs(function (data) {\n\t      return this.drawSeq(data, this._drawRect);\n\t    });\n\t    this.ctx.globalAlpha = 1;\n\t\n\t    // letters\n\t    return this.drawSeqs(function (data) {\n\t      return this.drawSeq(data, this._drawLetter);\n\t    });\n\t  },\n\t\n\t  drawSeqs: function drawSeqs(callback, target) {\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t\n\t    target = target || this;\n\t\n\t    var _getStartSeq = this.getStartSeq(),\n\t        _getStartSeq2 = _slicedToArray(_getStartSeq, 2),\n\t        start = _getStartSeq2[0],\n\t        y = _getStartSeq2[1];\n\t\n\t    for (var i = start; i < this.model.length; i++) {\n\t      var seq = this.model.at(i);\n\t      if (seq.get('hidden')) {\n\t        continue;\n\t      }\n\t      callback.call(target, { model: seq, yPos: y, y: i, hidden: hidden });\n\t\n\t      var seqHeight = (seq.attributes.height || 1) * this.rectHeight;\n\t      y = y + seqHeight;\n\t\n\t      // out of viewport - stop\n\t      if (y > this.height) {\n\t        break;\n\t      }\n\t    }\n\t  },\n\t\n\t  // calls the callback for every drawable row\n\t  drawRows: function drawRows(callback, target) {\n\t    return this.drawSeqs(function (data) {\n\t      return this.drawRow(data, callback, target);\n\t    });\n\t  },\n\t\n\t  // draws a single row\n\t  drawRow: function drawRow(data, callback, target) {\n\t    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var start = Math.max(0, Math.abs(Math.ceil(-this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n\t    var x = -Math.abs(-this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\t\n\t    var xZero = x - start * rectWidth;\n\t    var yZero = data.yPos;\n\t    return callback.call(target, { model: data.model, xZero: xZero, yZero: yZero, hidden: data.hidden });\n\t  },\n\t\n\t  // returns first sequence in the viewport\n\t  // y is the position to start drawing\n\t  getStartSeq: function getStartSeq() {\n\t    var start = Math.max(0, Math.floor(this.g.zoomer.get('_alignmentScrollTop') / this.rectHeight)) + 1;\n\t    var counter = 0;\n\t    var i = 0;\n\t    while (counter < start && i < this.model.length) {\n\t      counter += this.model.at(i).attributes.height || 1;\n\t      i++;\n\t    }\n\t    var y = Math.max(0, this.g.zoomer.get('_alignmentScrollTop') - counter * this.rectHeight + (this.model.at(i - 1).attributes.height || 1) * this.rectHeight);\n\t    return [i - 1, -y];\n\t  },\n\t\n\t  // returns [the clicked seq for a viewport, row number]\n\t  _getSeqForYClick: function _getSeqForYClick(click) {\n\t    var _getStartSeq3 = this.getStartSeq(),\n\t        _getStartSeq4 = _slicedToArray(_getStartSeq3, 2),\n\t        start = _getStartSeq4[0],\n\t        yDiff = _getStartSeq4[1];\n\t\n\t    var yRel = yDiff % this.rectHeight;\n\t    var clickedRows = Math.max(0, Math.floor((click - yRel) / this.rectHeight)) + 1;\n\t    var counter = 0;\n\t    var i = start;\n\t    while (counter < clickedRows && i < this.model.length) {\n\t      counter += this.model.at(i).attributes.height || 1;\n\t      i++;\n\t    }\n\t    var rowNumber = Math.max(0, Math.floor(click / this.rectHeight) - counter + (this.model.at(i - 1).get(\"height\") || 1));\n\t    return [i - 1, rowNumber];\n\t  },\n\t\n\t  // TODO: very expensive method\n\t  drawSeq: function drawSeq(data, callback) {\n\t    var seq = data.model.get(\"seq\");\n\t    var y = data.yPos;\n\t    var rectWidth = this.rectWidth;\n\t    var rectHeight = this.rectHeight;\n\t\n\t    // skip unneeded blocks at the beginning\n\t    var start = Math.max(0, Math.abs(Math.ceil(-this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n\t    var x = -Math.abs(-this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\t\n\t    var res = { rectWidth: rectWidth, rectHeight: rectHeight, yPos: y, y: data.y };\n\t    var elWidth = this.width;\n\t\n\t    for (var j = start; j < seq.length; j++) {\n\t      var c = seq[j];\n\t      c = c.toUpperCase();\n\t\n\t      // call the custom function\n\t      res.x = j;\n\t      res.c = c;\n\t      res.xPos = x;\n\t\n\t      // local call is faster than apply\n\t      // http://jsperf.com/function-calls-direct-vs-apply-vs-call-vs-bind/6\n\t      if (data.hidden.indexOf(j) < 0) {\n\t        callback(this, res);\n\t      } else {\n\t        continue;\n\t      }\n\t\n\t      // move to the right\n\t      x = x + rectWidth;\n\t\n\t      // out of viewport - stop\n\t      if (x > elWidth) {\n\t        break;\n\t      }\n\t    }\n\t  },\n\t\n\t  _drawRect: function _drawRect(that, data) {\n\t    var color = that.color.getColor(data.c, { pos: data.x,\n\t      y: data.y\n\t    });\n\t    if (typeof color !== \"undefined\" && color !== null) {\n\t      that.ctx.fillStyle = color;\n\t      return that.ctx.fillRect(data.xPos, data.yPos, data.rectWidth, data.rectHeight);\n\t    }\n\t  },\n\t\n\t  // REALLY expensive call on FF\n\t  // Performance:\n\t  // chrome: 2000ms drawLetter - 1000ms drawRect\n\t  // FF: 1700ms drawLetter - 300ms drawRect\n\t  _drawLetter: function _drawLetter(that, data) {\n\t    return that.ctx.drawImage(that.cache.getFontTile(data.c, data.rectWidth, data.rectHeight), data.xPos, data.yPos, data.rectWidth, data.rectHeight);\n\t  }\n\t};\n\t\n\tmodule.exports = construc = function construc(g, ctx, model, opts) {\n\t  this.g = g;\n\t  this.ctx = ctx;\n\t  this.model = model;\n\t  this.width = opts.width;\n\t  this.height = opts.height;\n\t  this.color = opts.color;\n\t  this.cache = opts.cache;\n\t  this.rectHeight = this.g.zoomer.get(\"rowHeight\");\n\t  this.rectWidth = this.g.zoomer.get(\"columnWidth\");\n\t  return this;\n\t};\n\t\n\t_.extend(construc.prototype, drawer);\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\tvar svg = __webpack_require__(10);\n\t\n\tvar ConservationView = view.extend({\n\t\n\t  className: \"biojs_msa_conserv\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:stepSize change:labelWidth change:columnWidth\", this.render);\n\t    this.listenTo(this.g.vis, \"change:labels change:metacell\", this.render);\n\t    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n\t    // we need to wait until stats gives us the ok\n\t    //@listenTo @model, \"reset\",@render\n\t    this.listenTo(this.g.stats, \"reset\", this.render);\n\t    return this.manageEvents();\n\t  },\n\t\n\t  render: function render() {\n\t    var conserv = this.g.stats.scale(this.g.stats.conservation());\n\t\n\t    dom.removeAllChilds(this.el);\n\t\n\t    var nMax = this.model.getMaxLength();\n\t    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var maxHeight = 20;\n\t    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\t\n\t    var s = svg.base({ height: maxHeight, width: width });\n\t    s.style.display = \"inline-block\";\n\t    s.style.cursor = \"pointer\";\n\t\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t    var x = 0;\n\t    var n = 0;\n\t    while (n < nMax) {\n\t      if (hidden.indexOf(n) >= 0) {\n\t        n += stepSize;\n\t        continue;\n\t      }\n\t      width = cellWidth * stepSize;\n\t      var avgHeight = 0;\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        avgHeight += conserv[n];\n\t      }\n\t      var height = maxHeight * (avgHeight / stepSize);\n\t\n\t      var rect = svg.rect({ x: x, y: maxHeight - height, width: width - cellWidth / 4, height: height, style: \"stroke:red;stroke-width:1;\"\n\t      });rect.rowPos = n;\n\t      s.appendChild(rect);\n\t      x += width;\n\t      n += stepSize;\n\t    }\n\t\n\t    this.el.appendChild(s);\n\t    return this;\n\t  },\n\t\n\t  //TODO: make more general with HeaderView\n\t  _onclick: function _onclick(evt) {\n\t    var _this = this;\n\t\n\t    var rowPos = evt.target.rowPos;\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    // simulate hidden columns\n\t    return function () {\n\t      var result = [];\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        result.push(_this.g.trigger(\"bar:click\", { rowPos: rowPos + i, evt: evt }));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"bar:mousein\", { rowPos: rowPos, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"bar:mouseout\", { rowPos: rowPos, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = ConservationView;\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\tvar svg = __webpack_require__(10);\n\t\n\t// TODO: merge this with the conservation view\n\tvar ConservationView = view.extend({\n\t\n\t  className: \"biojs_msa_gapview\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:stepSize change:labelWidth change:columnWidth\", this.render);\n\t    this.listenTo(this.g.vis, \"change:labels change:metacell\", this.render);\n\t    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n\t    // we need to wait until stats gives us the ok\n\t    this.listenTo(this.model, \"reset\", this.render);\n\t    return this.manageEvents();\n\t  },\n\t\n\t  render: function render() {\n\t    var gaps = this.g.stats.gaps();\n\t\n\t    dom.removeAllChilds(this.el);\n\t\n\t    var nMax = this.model.getMaxLength();\n\t    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var maxHeight = 20;\n\t    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\t\n\t    var s = svg.base({ height: maxHeight, width: width });\n\t    s.style.display = \"inline-block\";\n\t    s.style.cursor = \"pointer\";\n\t\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t    var x = 0;\n\t    var n = 0;\n\t    while (n < nMax) {\n\t      if (hidden.indexOf(n) >= 0) {\n\t        n += stepSize;\n\t        continue;\n\t      }\n\t      width = cellWidth * stepSize;\n\t      var avgHeight = 0;\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        avgHeight += gaps[n];\n\t      }\n\t      var height = maxHeight * (avgHeight / stepSize);\n\t\n\t      var rect = svg.rect({ x: x, y: maxHeight - height, width: width - cellWidth / 4, height: height, style: \"stroke:red;stroke-width:1;\"\n\t      });rect.rowPos = n;\n\t      s.appendChild(rect);\n\t      x += width;\n\t      n += stepSize;\n\t    }\n\t\n\t    this.el.appendChild(s);\n\t    return this;\n\t  },\n\t\n\t  //TODO: make more general with HeaderView\n\t  _onclick: function _onclick(evt) {\n\t    var _this = this;\n\t\n\t    var rowPos = evt.target.rowPos;\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    // simulate hidden columns\n\t    return function () {\n\t      var result = [];\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        result.push(_this.g.trigger(\"gap:click\", { rowPos: rowPos + i, evt: evt }));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"gap:mousein\", { rowPos: rowPos, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"gap:mouseout\", { rowPos: rowPos, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = ConservationView;\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar LabelHeader = __webpack_require__(80);\n\tvar RightLabelHeader = __webpack_require__(82);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    var _this = this;\n\t\n\t    this.g = data.g;\n\t    this.draw();\n\t    return this.listenTo(this.g.vis, \"change:labels change:metacell change:leftHeader\", function () {\n\t      _this.draw();\n\t      return _this.render();\n\t    });\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t\n\t    if (this.g.vis.get(\"leftHeader\") && (this.g.vis.get(\"labels\") || this.g.vis.get(\"metacell\"))) {\n\t      var lHeader = new LabelHeader({ model: this.model, g: this.g });\n\t      lHeader.ordering = -50;\n\t      this.addView(\"lHeader\", lHeader);\n\t    }\n\t\n\t    var rHeader = new RightLabelHeader({ model: this.model, g: this.g });\n\t    rHeader.ordering = 0;\n\t    return this.addView(\"rHeader\", rHeader);\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    return this.el.className = \"biojs_msa_header\";\n\t  }\n\t});\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar LabelHeader;\n\tvar k = __webpack_require__(20);\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\t\n\tmodule.exports = LabelHeader = view.extend({\n\t\n\t  className: \"biojs_msa_headers\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.listenTo(this.g.vis, \"change:metacell change:labels\", this.render);\n\t    return this.listenTo(this.g.zoomer, \"change:labelWidth change:metaWidth\", this.render);\n\t  },\n\t\n\t  render: function render() {\n\t\n\t    dom.removeAllChilds(this.el);\n\t\n\t    var width = 0;\n\t    width += this.g.zoomer.getLeftBlockWidth();\n\t    this.el.style.width = width + \"px\";\n\t\n\t    if (this.g.vis.get(\"labels\")) {\n\t      this.el.appendChild(this.labelDOM());\n\t    }\n\t\n\t    if (this.g.vis.get(\"metacell\")) {\n\t      this.el.appendChild(this.metaDOM());\n\t    }\n\t\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n\t    return this;\n\t  },\n\t\n\t  labelDOM: function labelDOM() {\n\t    var labelHeader = k.mk(\"div\");\n\t    labelHeader.style.width = this.g.zoomer.getLabelWidth();\n\t    labelHeader.style.display = \"inline-block\";\n\t\n\t    if (this.g.vis.get(\"labelCheckbox\")) {\n\t      labelHeader.appendChild(this.addEl(\".\", 10));\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelId\")) {\n\t      labelHeader.appendChild(this.addEl(\"ID\", this.g.zoomer.get(\"labelIdLength\")));\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelPartition\")) {\n\t      labelHeader.appendChild(this.addEl(\"part\", 15));\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelName\")) {\n\t      var name = this.addEl(\"Label\");\n\t      //name.style.marginLeft = \"50px\"\n\t      labelHeader.appendChild(name);\n\t    }\n\t\n\t    return labelHeader;\n\t  },\n\t\n\t  addEl: function addEl(content, width) {\n\t    var id = document.createElement(\"span\");\n\t    id.textContent = content;\n\t    if (typeof width !== \"undefined\" && width !== null) {\n\t      id.style.width = width + \"px\";\n\t    }\n\t    id.style.display = \"inline-block\";\n\t    return id;\n\t  },\n\t\n\t  metaDOM: function metaDOM() {\n\t    var metaHeader = k.mk(\"div\");\n\t    metaHeader.style.width = this.g.zoomer.getMetaWidth();\n\t    metaHeader.style.display = \"inline-block\";\n\t\n\t    if (this.g.vis.get(\"metaGaps\")) {\n\t      metaHeader.appendChild(this.addEl(\"Gaps\", this.g.zoomer.get('metaGapWidth')));\n\t    }\n\t    if (this.g.vis.get(\"metaIdentity\")) {\n\t      metaHeader.appendChild(this.addEl(\"Ident\", this.g.zoomer.get('metaIdentWidth')));\n\t    }\n\t    // if @.g.vis.get \"metaLinks\"\n\t    //   metaHeader.appendChild @addEl(\"Links\")\n\t\n\t    return metaHeader;\n\t  }\n\t});\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\tvar svg = __webpack_require__(10);\n\tvar jbone = __webpack_require__(7);\n\t\n\tvar HeaderView = view.extend({\n\t\n\t  className: \"biojs_msa_marker\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize\", this.render);\n\t    this.listenTo(this.g.vis, \"change:labels change:metacell\", this.render);\n\t    return this.manageEvents();\n\t  },\n\t\n\t  render: function render() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n\t\n\t    var container = document.createElement(\"span\");\n\t    var n = 0;\n\t    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\t\n\t    var nMax = this.model.getMaxLength();\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t\n\t    while (n < nMax) {\n\t      if (hidden.indexOf(n) >= 0) {\n\t        this.markerHidden(span, n, stepSize);\n\t        n += stepSize;\n\t        continue;\n\t      }\n\t      var span = document.createElement(\"span\");\n\t      span.style.width = cellWidth * stepSize + \"px\";\n\t      span.style.display = \"inline-block\";\n\t      // TODO: this doesn't work for a larger stepSize\n\t      if ((n + 1) % this.g.zoomer.get('markerStepSize') === 0) {\n\t        span.textContent = n + 1;\n\t      } else {\n\t        span.textContent = \".\";\n\t      }\n\t      span.rowPos = n;\n\t\n\t      n += stepSize;\n\t      container.appendChild(span);\n\t    }\n\t\n\t    this.el.appendChild(container);\n\t    return this;\n\t  },\n\t\n\t  markerHidden: function markerHidden(span, n, stepSize) {\n\t    var _this = this;\n\t\n\t    var hidden = this.g.columns.get(\"hidden\").slice(0);\n\t\n\t    var min = Math.max(0, n - stepSize);\n\t    var prevHidden = true;\n\t    for (var j = min; min < n ? j <= n : j >= n; min < n ? j++ : j--) {\n\t      prevHidden &= hidden.indexOf(j) >= 0;\n\t    }\n\t\n\t    // filter duplicates\n\t    if (prevHidden) {\n\t      return;\n\t    }\n\t\n\t    var nMax = this.model.getMaxLength();\n\t\n\t    var length = 0;\n\t    var index = -1;\n\t    // accumlate multiple rows\n\t    for (var n = n; n < nMax ? n <= nMax : n >= nMax; n < nMax ? n++ : n--) {\n\t      if (!(index >= 0)) {\n\t        index = hidden.indexOf(n);\n\t      } // sets the first index\n\t      if (hidden.indexOf(n) >= 0) {\n\t        length++;\n\t      } else {\n\t        break;\n\t      }\n\t    }\n\t\n\t    var s = svg.base({ height: 10, width: 10 });\n\t    s.style.position = \"relative\";\n\t    var triangle = svg.polygon({ points: \"0,0 5,5 10,0\", style: \"fill:lime;stroke:purple;stroke-width:1\"\n\t    });jbone(triangle).on(\"click\", function (evt) {\n\t      hidden.splice(index, length);\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    s.appendChild(triangle);\n\t    span.appendChild(s);\n\t    return s;\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t  },\n\t\n\t  _onclick: function _onclick(evt) {\n\t    var rowPos = evt.target.rowPos;\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    return this.g.trigger(\"column:click\", { rowPos: rowPos, stepSize: stepSize, evt: evt });\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    return this.g.trigger(\"column:mousein\", { rowPos: rowPos, stepSize: stepSize, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    return this.g.trigger(\"column:mouseout\", { rowPos: rowPos, stepSize: stepSize, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = HeaderView;\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MarkerView = __webpack_require__(81);\n\tvar ConservationView = __webpack_require__(77);\n\tvar boneView = __webpack_require__(5);\n\tvar _ = __webpack_require__(1);\n\tvar SeqLogoWrapper = __webpack_require__(83);\n\tvar GapView = __webpack_require__(78);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.blockEvents = false;\n\t\n\t    this.listenTo(this.g.vis, \"change:header\", function () {\n\t      this.draw();\n\t      return this.render();\n\t    });\n\t    this.listenTo(this.g.vis, \"change\", this._setSpacer);\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this._setWidth);\n\t    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft\", this._adjustScrollingLeft);\n\t\n\t    // TODO: duplicate rendering\n\t    this.listenTo(this.g.columns, \"change:hidden\", function () {\n\t      this.draw();\n\t      return this.render();\n\t    });\n\t\n\t    this.draw();\n\t\n\t    return this.g.vis.once('change:loaded', this._adjustScrollingLeft, this);\n\t  },\n\t\n\t  events: { \"scroll\": \"_sendScrollEvent\" },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t\n\t    if (this.g.vis.get(\"conserv\")) {\n\t      var conserv = new ConservationView({ model: this.model, g: this.g });\n\t      conserv.ordering = -20;\n\t      this.addView(\"conserv\", conserv);\n\t    }\n\t\n\t    if (this.g.vis.get(\"markers\")) {\n\t      var marker = new MarkerView({ model: this.model, g: this.g });\n\t      marker.ordering = -10;\n\t      this.addView(\"marker\", marker);\n\t    }\n\t\n\t    if (this.g.vis.get(\"seqlogo\")) {\n\t      var seqlogo = new SeqLogoWrapper({ model: this.model, g: this.g });\n\t      seqlogo.ordering = -30;\n\t      this.addView(\"seqlogo\", seqlogo);\n\t    }\n\t\n\t    if (this.g.vis.get(\"gapHeader\")) {\n\t      var gapview = new GapView({ model: this.model, g: this.g });\n\t      gapview.ordering = -25;\n\t      return this.addView(\"gapview\", gapview);\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    this._setSpacer();\n\t\n\t    this.el.className = \"biojs_msa_rheader\";\n\t    this.el.style.overflowX = \"auto\";\n\t    this.el.style.display = \"inline-block\";\n\t    //@el.style.height = @g.zoomer.get(\"markerHeight\") + \"px\"\n\t    this._setWidth();\n\t    this._adjustScrollingLeft();\n\t    return this;\n\t  },\n\t\n\t  // scrollLeft triggers a reflow of the whole area (even only get)\n\t  _sendScrollEvent: function _sendScrollEvent() {\n\t    if (!this.blockEvents) {\n\t      this.g.zoomer.set(\"_alignmentScrollLeft\", this.el.scrollLeft, { origin: \"header\" });\n\t    }\n\t    return this.blockEvents = false;\n\t  },\n\t\n\t  _adjustScrollingLeft: function _adjustScrollingLeft(model, value, options) {\n\t    if (!((typeof options !== \"undefined\" && options !== null ? options.origin : undefined) != null) || options.origin !== \"header\") {\n\t      var scrollLeft = this.g.zoomer.get(\"_alignmentScrollLeft\");\n\t      this.blockEvents = true;\n\t      return this.el.scrollLeft = scrollLeft;\n\t    }\n\t  },\n\t\n\t  _setSpacer: function _setSpacer() {\n\t    // spacer / padding element\n\t    return this.el.style.marginLeft = this._getLabelWidth() + \"px\";\n\t  },\n\t\n\t  _getLabelWidth: function _getLabelWidth() {\n\t    var paddingLeft = 0;\n\t    if (!this.g.vis.get(\"leftHeader\")) {\n\t      paddingLeft += this.g.zoomer.getLeftBlockWidth();\n\t    }\n\t    return paddingLeft;\n\t  },\n\t\n\t  _setWidth: function _setWidth() {\n\t    return this.el.style.width = this.g.zoomer.getAlignmentWidth() + \"px\";\n\t  }\n\t});\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SeqLogoView = __webpack_require__(96);\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\t\n\t// this is a bridge between the MSA and the seqlogo viewer\n\tmodule.exports = view.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.render);\n\t    this.listenTo(this.g.colorscheme, \"change\", function () {\n\t      var colors = this.g.colorscheme.getSelectedScheme();\n\t      this.seqlogo.changeColors(colors);\n\t      return this.render();\n\t    });\n\t\n\t    this.listenTo(this.g.zoomer, \"change:columnWidth\", function () {\n\t      this.seqlogo.column_width = this.g.zoomer.get('columnWidth');\n\t      return this.render();\n\t    });\n\t\n\t    //@listenTo @g.zoomer,\"change:columnWidth change:rowHeight\", ->\n\t\n\t    this.listenTo(this.g.stats, \"reset\", function () {\n\t      this.draw();\n\t      return this.render();\n\t    });\n\t\n\t    return this.draw();\n\t  },\n\t\n\t  draw: function draw() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    console.log(\"redraw seqlogo\");\n\t    var arr = this.g.stats.conservResidue({ scaled: true });\n\t    arr = _.map(arr, function (el) {\n\t      return _.pick(el, function (e, k) {\n\t        return k !== \"-\";\n\t      });\n\t    });\n\t    var data = { alphabet: \"aa\",\n\t      heightArr: arr\n\t    };\n\t\n\t    var colors = this.g.colorscheme.getSelectedScheme();\n\t    // TODO: seqlogo might have problems with true dynamic schemes\n\t    return this.seqlogo = new SeqLogoView({ model: this.model, g: this.g, data: data, yaxis: false, scroller: false, xaxis: false, height: 100, column_width: this.g.zoomer.get('columnWidth'), positionMarker: false, zoom: 1, el: this.el, colors: colors });\n\t  },\n\t\n\t  render: function render() {\n\t    return this.seqlogo.render();\n\t  }\n\t});\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar LabelRowView = __webpack_require__(85);\n\tvar boneView = __webpack_require__(5);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    var _this = this;\n\t\n\t    this.g = data.g;\n\t    this.draw();\n\t    this.listenTo(this.g.zoomer, \"change:_alignmentScrollTop\", this._adjustScrollingTop);\n\t    this.g.vis.once('change:loaded', this._adjustScrollingTop, this);\n\t\n\t    this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this._setHeight);\n\t    this.listenTo(this.model, \"change:reference\", this.draw);\n\t\n\t    return this.listenTo(this.model, \"reset add remove\", function () {\n\t      _this.draw();\n\t      return _this.render();\n\t    });\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t    console.log(\"redraw columns\", this.model.length);\n\t    for (var i = 0; i < this.model.length; i++) {\n\t      if (this.model.at(i).get('hidden')) {\n\t        continue;\n\t      }\n\t      var view = new LabelRowView({ model: this.model.at(i), g: this.g });\n\t      view.ordering = i;\n\t      this.addView(\"row_\" + i, view);\n\t    }\n\t  },\n\t\n\t  events: { \"scroll\": \"_sendScrollEvent\" },\n\t\n\t  // broadcast the scrolling event (by the scrollbar)\n\t  _sendScrollEvent: function _sendScrollEvent() {\n\t    return this.g.zoomer.set(\"_alignmentScrollTop\", this.el.scrollTop, { origin: \"label\" });\n\t  },\n\t\n\t  // sets the scrolling property (from another event e.g. dragging)\n\t  _adjustScrollingTop: function _adjustScrollingTop() {\n\t    return this.el.scrollTop = this.g.zoomer.get(\"_alignmentScrollTop\");\n\t  },\n\t\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    this.el.className = \"biojs_msa_labelblock\";\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.style.verticalAlign = \"top\";\n\t    this.el.style.overflowY = \"auto\";\n\t    this.el.style.overflowX = \"hidden\";\n\t    this.el.style.fontSize = this.g.zoomer.get('labelFontsize') + \"px\";\n\t    this.el.style.lineHeight = \"\" + this.g.zoomer.get(\"labelLineHeight\");\n\t    this._setHeight();\n\t    return this;\n\t  },\n\t\n\t  _setHeight: function _setHeight() {\n\t    return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\") + \"px\";\n\t  }\n\t});\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar LabelView = __webpack_require__(86);\n\tvar MetaView = __webpack_require__(87);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.draw();\n\t\n\t    this.listenTo(this.g.vis, \"change:labels\", this.drawR);\n\t    this.listenTo(this.g.vis, \"change:metacell\", this.drawR);\n\t    this.listenTo(this.g.zoomer, \"change:rowHeight\", function () {\n\t      return this.el.style.height = this.g.zoomer.get(\"rowHeight\") + \"px\";\n\t    });\n\t\n\t    return this.listenTo(this.g.selcol, \"change reset add\", this.setSelection);\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t    if (this.g.vis.get(\"labels\")) {\n\t      this.addView(\"labels\", new LabelView({ model: this.model, g: this.g }));\n\t    }\n\t    if (this.g.vis.get(\"metacell\")) {\n\t      var meta = new MetaView({ model: this.model, g: this.g });\n\t      return this.addView(\"metacell\", meta);\n\t    }\n\t  },\n\t\n\t  drawR: function drawR() {\n\t    this.draw();\n\t    return this.render();\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    this.el.setAttribute(\"class\", \"biojs_msa_labelrow\");\n\t    this.el.style.height = this.g.zoomer.get(\"rowHeight\") * (this.model.attributes.height || 1) + \"px\";\n\t\n\t    this.setSelection();\n\t    return this;\n\t  },\n\t\n\t  setSelection: function setSelection() {\n\t    var sel = this.g.selcol.getSelForRow(this.model.id);\n\t    if (sel.length > 0) {\n\t      return this.el.style.fontWeight = \"bold\";\n\t    } else {\n\t      return this.el.style.fontWeight = \"normal\";\n\t    }\n\t  }\n\t});\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\t\n\tvar LabelView = view.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.seq = data.seq;\n\t    this.g = data.g;\n\t\n\t    return this.manageEvents();\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t    this.listenTo(this.g.vis, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", this.render);\n\t    this.listenTo(this.g.zoomer, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", this.render);\n\t    return this.listenTo(this.g.zoomer, \"change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight\", this.render);\n\t  },\n\t\n\t  render: function render() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    this.el.style.width = this.g.zoomer.getLabelWidth() + \"px\";\n\t    //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n\t    this.el.setAttribute(\"class\", \"biojs_msa_labels\");\n\t\n\t    if (this.g.vis.get(\"labelCheckbox\")) {\n\t      var checkBox = document.createElement(\"input\");\n\t      checkBox.setAttribute(\"type\", \"checkbox\");\n\t      checkBox.value = this.model.get('id');\n\t      checkBox.name = \"seq\";\n\t      checkBox.style.width = this.g.zoomer.get(\"labelCheckLength\") + \"px\";\n\t      this.el.appendChild(checkBox);\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelId\")) {\n\t      var id = document.createElement(\"span\");\n\t      var val = this.model.get(\"id\");\n\t      if (!isNaN(val)) {\n\t        val++;\n\t      }\n\t      id.textContent = val;\n\t      id.style.width = this.g.zoomer.get(\"labelIdLength\") + \"px\";\n\t      id.style.display = \"inline-block\";\n\t      this.el.appendChild(id);\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelPartition\")) {\n\t      var part = document.createElement(\"span\");\n\t      part.style.width = this.g.zoomer.get(\"labelPartLength\") + \"px\";\n\t      part.textContent = this.model.get(\"partition\");\n\t      part.style.display = \"inline-block\";\n\t      this.el.appendChild(id);\n\t      this.el.appendChild(part);\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelName\")) {\n\t      var name = document.createElement(\"span\");\n\t      name.textContent = this.model.get(\"name\");\n\t      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n\t        name.style.fontWeight = \"bold\";\n\t      }\n\t      name.style.width = this.g.zoomer.get(\"labelNameLength\") + \"px\";\n\t      this.el.appendChild(name);\n\t    }\n\t\n\t    this.el.style.overflow = scroll;\n\t    this.el.style.fontSize = this.g.zoomer.get('labelFontsize') + \"px\";\n\t    return this;\n\t  },\n\t\n\t  _onclick: function _onclick(evt) {\n\t    var seqId = this.model.get(\"id\");\n\t    return this.g.trigger(\"row:click\", { seqId: seqId, evt: evt });\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var seqId = this.model.get(\"id\");\n\t    return this.g.trigger(\"row:mouseout\", { seqId: seqId, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var seqId = this.model.get(\"id\");\n\t    return this.g.trigger(\"row:mouseout\", { seqId: seqId, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = LabelView;\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MetaView;\n\tvar view = __webpack_require__(3);\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar _ = __webpack_require__(1);\n\tvar dom = __webpack_require__(6);\n\tvar st = __webpack_require__(39);\n\t\n\tmodule.exports = MetaView = view.extend({\n\t\n\t  className: \"biojs_msa_metaview\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.vis, \"change:metacell\", this.render);\n\t    return this.listenTo(this.g.zoomer, \"change:metaWidth\", this.render);\n\t  },\n\t\n\t  events: { click: \"_onclick\",\n\t    mousein: \"_onmousein\",\n\t    mouseout: \"_onmouseout\"\n\t  },\n\t\n\t  render: function render() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    this.el.style.display = \"inline-block\";\n\t\n\t    var width = this.g.zoomer.getMetaWidth();\n\t    this.el.style.width = width - 10;\n\t    this.el.style.paddingRight = 5;\n\t    this.el.style.paddingLeft = 5;\n\t    // TODO: why do we need to decrease the font size?\n\t    // otherwise we see a scrollbar\n\t    this.el.style.fontSize = this.g.zoomer.get('labelFontsize') - 2 + \"px\";\n\t\n\t    if (this.g.vis.get(\"metaGaps\")) {\n\t      // adds gaps\n\t      var seq = this.model.get('seq');\n\t      var gaps = _.reduce(seq, function (memo, c) {\n\t        return c === '-' ? ++memo : undefined;\n\t      }, 0);\n\t      // 2-place percentage , e.g. 42%\n\t      gaps = (gaps * 100 / seq.length).toFixed(0) + \"%\";\n\t\n\t      // append gap count\n\t      var gapSpan = document.createElement('span');\n\t      gapSpan.textContent = gaps;\n\t      gapSpan.style.display = \"inline-block\";\n\t      gapSpan.style.width = 35;\n\t      this.el.appendChild(gapSpan);\n\t    }\n\t\n\t    if (this.g.vis.get(\"metaIdentity\")) {\n\t      // identity\n\t      // TODO: there must be a better way to pass the id\n\t      var ident = this.g.stats.identity()[this.model.id];\n\t      var identSpan = document.createElement('span');\n\t\n\t      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n\t        identSpan.textContent = \"ref.\";\n\t      } else if (typeof ident !== \"undefined\" && ident !== null) {\n\t        identSpan.textContent = ident.toFixed(2);\n\t      }\n\t\n\t      identSpan.style.display = \"inline-block\";\n\t      identSpan.style.width = 40;\n\t      this.el.appendChild(identSpan);\n\t    }\n\t\n\t    if (this.g.vis.get(\"metaLinks\")) {\n\t      // TODO: this menu builder is just an example how one could customize this\n\t      // view\n\t      if (this.model.attributes.ids) {\n\t        var links = st.buildLinks(this.model.attributes.ids);\n\t        if (_.keys(links).length > 0) {\n\t          var menu = new MenuBuilder({ name: \"↗\" });\n\t          console.log(_.keys(links));\n\t          _.each(links, function (val, key) {\n\t            return menu.addNode(key, function (e) {\n\t              return window.open(val);\n\t            });\n\t          });\n\t\n\t          var linkEl = menu.buildDOM();\n\t          linkEl.style.cursor = \"pointer\";\n\t          return this.el.appendChild(linkEl);\n\t        }\n\t      }\n\t    }\n\t  },\n\t\n\t  //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n\t\n\t  _onclick: function _onclick(evt) {\n\t    return this.g.trigger(\"meta:click\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    return this.g.trigger(\"meta:mousein\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    return this.g.trigger(\"meta:mouseout\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  }\n\t});\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Standalone extraction of Backbone.Events, no external dependency required.\n\t * Degrades nicely when Backone/underscore are already available in the current\n\t * global context.\n\t *\n\t * Note that docs suggest to use underscore's `_.extend()` method to add Events\n\t * support to some given object. A `mixin()` method has been added to the Events\n\t * prototype to avoid using underscore for that sole purpose:\n\t *\n\t *     var myEventEmitter = BackboneEvents.mixin({});\n\t *\n\t * Or for a function constructor:\n\t *\n\t *     function MyConstructor(){}\n\t *     MyConstructor.prototype.foo = function(){}\n\t *     BackboneEvents.mixin(MyConstructor.prototype);\n\t *\n\t * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n\t * (c) 2013 Nicolas Perriault\n\t */\n\t/* global exports:true, define, module */\n\t(function() {\n\t  var root = this,\n\t      nativeForEach = Array.prototype.forEach,\n\t      hasOwnProperty = Object.prototype.hasOwnProperty,\n\t      slice = Array.prototype.slice,\n\t      idCounter = 0;\n\t\n\t  // Returns a partial implementation matching the minimal API subset required\n\t  // by Backbone.Events\n\t  function miniscore() {\n\t    return {\n\t      keys: Object.keys || function (obj) {\n\t        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n\t          throw new TypeError(\"keys() called on a non-object\");\n\t        }\n\t        var key, keys = [];\n\t        for (key in obj) {\n\t          if (obj.hasOwnProperty(key)) {\n\t            keys[keys.length] = key;\n\t          }\n\t        }\n\t        return keys;\n\t      },\n\t\n\t      uniqueId: function(prefix) {\n\t        var id = ++idCounter + '';\n\t        return prefix ? prefix + id : id;\n\t      },\n\t\n\t      has: function(obj, key) {\n\t        return hasOwnProperty.call(obj, key);\n\t      },\n\t\n\t      each: function(obj, iterator, context) {\n\t        if (obj == null) return;\n\t        if (nativeForEach && obj.forEach === nativeForEach) {\n\t          obj.forEach(iterator, context);\n\t        } else if (obj.length === +obj.length) {\n\t          for (var i = 0, l = obj.length; i < l; i++) {\n\t            iterator.call(context, obj[i], i, obj);\n\t          }\n\t        } else {\n\t          for (var key in obj) {\n\t            if (this.has(obj, key)) {\n\t              iterator.call(context, obj[key], key, obj);\n\t            }\n\t          }\n\t        }\n\t      },\n\t\n\t      once: function(func) {\n\t        var ran = false, memo;\n\t        return function() {\n\t          if (ran) return memo;\n\t          ran = true;\n\t          memo = func.apply(this, arguments);\n\t          func = null;\n\t          return memo;\n\t        };\n\t      }\n\t    };\n\t  }\n\t\n\t  var _ = miniscore(), Events;\n\t\n\t  // Backbone.Events\n\t  // ---------------\n\t\n\t  // A module that can be mixed in to *any object* in order to provide it with\n\t  // custom events. You may bind with `on` or remove with `off` callback\n\t  // functions to an event; `trigger`-ing an event fires all callbacks in\n\t  // succession.\n\t  //\n\t  //     var object = {};\n\t  //     _.extend(object, Backbone.Events);\n\t  //     object.on('expand', function(){ alert('expanded'); });\n\t  //     object.trigger('expand');\n\t  //\n\t  Events = {\n\t\n\t    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n\t    // the callback to all events fired.\n\t    on: function(name, callback, context) {\n\t      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n\t      this._events || (this._events = {});\n\t      var events = this._events[name] || (this._events[name] = []);\n\t      events.push({callback: callback, context: context, ctx: context || this});\n\t      return this;\n\t    },\n\t\n\t    // Bind an event to only be triggered a single time. After the first time\n\t    // the callback is invoked, it will be removed.\n\t    once: function(name, callback, context) {\n\t      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n\t      var self = this;\n\t      var once = _.once(function() {\n\t        self.off(name, once);\n\t        callback.apply(this, arguments);\n\t      });\n\t      once._callback = callback;\n\t      return this.on(name, once, context);\n\t    },\n\t\n\t    // Remove one or many callbacks. If `context` is null, removes all\n\t    // callbacks with that function. If `callback` is null, removes all\n\t    // callbacks for the event. If `name` is null, removes all bound\n\t    // callbacks for all events.\n\t    off: function(name, callback, context) {\n\t      var retain, ev, events, names, i, l, j, k;\n\t      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n\t      if (!name && !callback && !context) {\n\t        this._events = {};\n\t        return this;\n\t      }\n\t\n\t      names = name ? [name] : _.keys(this._events);\n\t      for (i = 0, l = names.length; i < l; i++) {\n\t        name = names[i];\n\t        if (events = this._events[name]) {\n\t          this._events[name] = retain = [];\n\t          if (callback || context) {\n\t            for (j = 0, k = events.length; j < k; j++) {\n\t              ev = events[j];\n\t              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n\t                  (context && context !== ev.context)) {\n\t                retain.push(ev);\n\t              }\n\t            }\n\t          }\n\t          if (!retain.length) delete this._events[name];\n\t        }\n\t      }\n\t\n\t      return this;\n\t    },\n\t\n\t    // Trigger one or many events, firing all bound callbacks. Callbacks are\n\t    // passed the same arguments as `trigger` is, apart from the event name\n\t    // (unless you're listening on `\"all\"`, which will cause your callback to\n\t    // receive the true name of the event as the first argument).\n\t    trigger: function(name) {\n\t      if (!this._events) return this;\n\t      var args = slice.call(arguments, 1);\n\t      if (!eventsApi(this, 'trigger', name, args)) return this;\n\t      var events = this._events[name];\n\t      var allEvents = this._events.all;\n\t      if (events) triggerEvents(events, args);\n\t      if (allEvents) triggerEvents(allEvents, arguments);\n\t      return this;\n\t    },\n\t\n\t    // Tell this object to stop listening to either specific events ... or\n\t    // to every object it's currently listening to.\n\t    stopListening: function(obj, name, callback) {\n\t      var listeners = this._listeners;\n\t      if (!listeners) return this;\n\t      var deleteListener = !name && !callback;\n\t      if (typeof name === 'object') callback = this;\n\t      if (obj) (listeners = {})[obj._listenerId] = obj;\n\t      for (var id in listeners) {\n\t        listeners[id].off(name, callback, this);\n\t        if (deleteListener) delete this._listeners[id];\n\t      }\n\t      return this;\n\t    }\n\t\n\t  };\n\t\n\t  // Regular expression used to split event strings.\n\t  var eventSplitter = /\\s+/;\n\t\n\t  // Implement fancy features of the Events API such as multiple event\n\t  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n\t  // in terms of the existing API.\n\t  var eventsApi = function(obj, action, name, rest) {\n\t    if (!name) return true;\n\t\n\t    // Handle event maps.\n\t    if (typeof name === 'object') {\n\t      for (var key in name) {\n\t        obj[action].apply(obj, [key, name[key]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    // Handle space separated event names.\n\t    if (eventSplitter.test(name)) {\n\t      var names = name.split(eventSplitter);\n\t      for (var i = 0, l = names.length; i < l; i++) {\n\t        obj[action].apply(obj, [names[i]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    return true;\n\t  };\n\t\n\t  // A difficult-to-believe, but optimized internal dispatch function for\n\t  // triggering events. Tries to keep the usual cases speedy (most internal\n\t  // Backbone events have 3 arguments).\n\t  var triggerEvents = function(events, args) {\n\t    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n\t    switch (args.length) {\n\t      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n\t      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n\t      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n\t      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n\t      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n\t    }\n\t  };\n\t\n\t  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\t\n\t  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n\t  // listen to an event in another object ... keeping track of what it's\n\t  // listening to.\n\t  _.each(listenMethods, function(implementation, method) {\n\t    Events[method] = function(obj, name, callback) {\n\t      var listeners = this._listeners || (this._listeners = {});\n\t      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n\t      listeners[id] = obj;\n\t      if (typeof name === 'object') callback = this;\n\t      obj[implementation](name, callback, this);\n\t      return this;\n\t    };\n\t  });\n\t\n\t  // Aliases for backwards compatibility.\n\t  Events.bind   = Events.on;\n\t  Events.unbind = Events.off;\n\t\n\t  // Mixin utility\n\t  Events.mixin = function(proto) {\n\t    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n\t                   'listenToOnce', 'bind', 'unbind'];\n\t    _.each(exports, function(name) {\n\t      proto[name] = this[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  // Export Events as BackboneEvents depending on current context\n\t  if (true) {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t      exports = module.exports = Events;\n\t    }\n\t    exports.BackboneEvents = Events;\n\t  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n\t    define(function() {\n\t      return Events;\n\t    });\n\t  } else {\n\t    root.BackboneEvents = Events;\n\t  }\n\t})(this);\n\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t//     Backbone.js 1.1.2\n\t\n\t//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t//     Backbone may be freely distributed under the MIT license.\n\t//     For all details and documentation:\n\t//     http://backbonejs.org\n\t\n\tvar Events = __webpack_require__(11);\n\tvar extend = __webpack_require__(17);\n\tvar _ = __webpack_require__(1);\n\tvar Model = __webpack_require__(43);\n\t\n\t// Create local references to array methods we'll want to use later.\n\tvar array = [];\n\tvar slice = array.slice;\n\t\n\t// Backbone.Collection\n\t// -------------------\n\t\n\t// If models tend to represent a single row of data, a Backbone Collection is\n\t// more analogous to a table full of data ... or a small slice or page of that\n\t// table, or a collection of rows that belong together for a particular reason\n\t// -- all of the messages in this particular folder, all of the documents\n\t// belonging to this particular author, and so on. Collections maintain\n\t// indexes of their models, both in order, and for lookup by `id`.\n\t\n\t// Create a new **Collection**, perhaps to contain a specific type of `model`.\n\t// If a `comparator` is specified, the Collection will maintain\n\t// its models in sort order, as they're added and removed.\n\tvar Collection = function(models, options) {\n\t  options || (options = {});\n\t  if (options.model) this.model = options.model;\n\t  if (options.comparator !== void 0) this.comparator = options.comparator;\n\t  this._reset();\n\t  this.initialize.apply(this, arguments);\n\t  if (models) this.reset(models, _.extend({silent: true}, options));\n\t};\n\t\n\t// Default options for `Collection#set`.\n\tvar setOptions = {add: true, remove: true, merge: true};\n\tvar addOptions = {add: true, remove: false};\n\t\n\t// Define the Collection's inheritable methods.\n\t_.extend(Collection.prototype, Events, {\n\t\n\t  // The default model for a collection is just a **Backbone.Model**.\n\t  // This should be overridden in most cases.\n\t  model: Model,\n\t\n\t  // Initialize is an empty function by default. Override it with your own\n\t  // initialization logic.\n\t  initialize: function(){},\n\t\n\t    // The JSON representation of a Collection is an array of the\n\t    // models' attributes.\n\t  toJSON: function(options) {\n\t    return this.map(function(model){ return model.toJSON(options); });\n\t  },\n\t\n\t    // Proxy `Backbone.sync` by default.\n\t  sync: function() {\n\t    return Backbone.sync.apply(this, arguments);\n\t  },\n\t\n\t    // Add a model, or list of models to the set.\n\t  add: function(models, options) {\n\t    return this.set(models, _.extend({merge: false}, options, addOptions));\n\t  },\n\t\n\t    // Remove a model, or a list of models from the set.\n\t  remove: function(models, options) {\n\t    var singular = !_.isArray(models);\n\t    models = singular ? [models] : _.clone(models);\n\t    options || (options = {});\n\t    for (var i = 0, length = models.length; i < length; i++) {\n\t      var model = models[i] = this.get(models[i]);\n\t      if (!model) continue;\n\t      var id = this.modelId(model.attributes);\n\t      if (id != null) delete this._byId[id];\n\t      delete this._byId[model.cid];\n\t      var index = this.indexOf(model);\n\t      this.models.splice(index, 1);\n\t      this.length--;\n\t      if (!options.silent) {\n\t        options.index = index;\n\t        model.trigger('remove', model, this, options);\n\t      }\n\t      this._removeReference(model, options);\n\t    }\n\t    return singular ? models[0] : models;\n\t  },\n\t\n\t    // Update a collection by `set`-ing a new list of models, adding new ones,\n\t    // removing models that are no longer present, and merging models that\n\t    // already exist in the collection, as necessary. Similar to **Model#set**,\n\t    // the core operation for updating the data contained by the collection.\n\t  set: function(models, options) {\n\t    options = _.defaults({}, options, setOptions);\n\t    if (options.parse) models = this.parse(models, options);\n\t    var singular = !_.isArray(models);\n\t    models = singular ? (models ? [models] : []) : models.slice();\n\t    var id, model, attrs, existing, sort;\n\t    var at = options.at;\n\t    var sortable = this.comparator && (at == null) && options.sort !== false;\n\t    var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\t    var toAdd = [], toRemove = [], modelMap = {};\n\t    var add = options.add, merge = options.merge, remove = options.remove;\n\t    var order = !sortable && add && remove ? [] : false;\n\t\n\t    // Turn bare objects into model references, and prevent invalid models\n\t    // from being added.\n\t    for (var i = 0, length = models.length; i < length; i++) {\n\t      attrs = models[i];\n\t\n\t      // If a duplicate is found, prevent it from being added and\n\t      // optionally merge it into the existing model.\n\t      if (existing = this.get(attrs)) {\n\t        if (remove) modelMap[existing.cid] = true;\n\t        if (merge && attrs !== existing) {\n\t          attrs = this._isModel(attrs) ? attrs.attributes : attrs;\n\t          if (options.parse) attrs = existing.parse(attrs, options);\n\t          existing.set(attrs, options);\n\t          if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;\n\t        }\n\t        models[i] = existing;\n\t\n\t        // If this is a new, valid model, push it to the `toAdd` list.\n\t      } else if (add) {\n\t        model = models[i] = this._prepareModel(attrs, options);\n\t        if (!model) continue;\n\t        toAdd.push(model);\n\t        this._addReference(model, options);\n\t      }\n\t\n\t      // Do not add multiple models with the same `id`.\n\t      model = existing || model;\n\t      if (!model) continue;\n\t      id = this.modelId(model.attributes);\n\t      if (order && (model.isNew() || !modelMap[id])) order.push(model);\n\t      modelMap[id] = true;\n\t    }\n\t\n\t    // Remove nonexistent models if appropriate.\n\t    if (remove) {\n\t      for (var i = 0, length = this.length; i < length; i++) {\n\t        if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);\n\t      }\n\t      if (toRemove.length) this.remove(toRemove, options);\n\t    }\n\t\n\t    // See if sorting is needed, update `length` and splice in new models.\n\t    if (toAdd.length || (order && order.length)) {\n\t      if (sortable) sort = true;\n\t      this.length += toAdd.length;\n\t      if (at != null) {\n\t        for (var i = 0, length = toAdd.length; i < length; i++) {\n\t          this.models.splice(at + i, 0, toAdd[i]);\n\t        }\n\t      } else {\n\t        if (order) this.models.length = 0;\n\t        var orderedModels = order || toAdd;\n\t        for (var i = 0, length = orderedModels.length; i < length; i++) {\n\t          this.models.push(orderedModels[i]);\n\t        }\n\t      }\n\t    }\n\t\n\t    // Silently sort the collection if appropriate.\n\t    if (sort) this.sort({silent: true});\n\t\n\t    // Unless silenced, it's time to fire all appropriate add/sort events.\n\t    if (!options.silent) {\n\t      var addOpts = at != null ? _.clone(options) : options;\n\t      for (var i = 0, length = toAdd.length; i < length; i++) {\n\t        if (at != null) addOpts.index = at + i;\n\t        (model = toAdd[i]).trigger('add', model, this, addOpts);\n\t      }\n\t      if (sort || (order && order.length)) this.trigger('sort', this, options);\n\t    }\n\t\n\t    // Return the added (or merged) model (or models).\n\t    return singular ? models[0] : models;\n\t  },\n\t\n\t    // When you have more items than you want to add or remove individually,\n\t    // you can reset the entire set with a new list of models, without firing\n\t    // any granular `add` or `remove` events. Fires `reset` when finished.\n\t    // Useful for bulk operations and optimizations.\n\t  reset: function(models, options) {\n\t    options || (options = {});\n\t    for (var i = 0, length = this.models.length; i < length; i++) {\n\t      this._removeReference(this.models[i], options);\n\t    }\n\t    options.previousModels = this.models;\n\t    this._reset();\n\t    models = this.add(models, _.extend({silent: true}, options));\n\t    if (!options.silent) this.trigger('reset', this, options);\n\t    return models;\n\t  },\n\t\n\t    // Add a model to the end of the collection.\n\t  push: function(model, options) {\n\t    return this.add(model, _.extend({at: this.length}, options));\n\t  },\n\t\n\t    // Remove a model from the end of the collection.\n\t  pop: function(options) {\n\t    var model = this.at(this.length - 1);\n\t    this.remove(model, options);\n\t    return model;\n\t  },\n\t\n\t    // Add a model to the beginning of the collection.\n\t  unshift: function(model, options) {\n\t    return this.add(model, _.extend({at: 0}, options));\n\t  },\n\t\n\t    // Remove a model from the beginning of the collection.\n\t  shift: function(options) {\n\t    var model = this.at(0);\n\t    this.remove(model, options);\n\t    return model;\n\t  },\n\t\n\t    // Slice out a sub-array of models from the collection.\n\t  slice: function() {\n\t    return slice.apply(this.models, arguments);\n\t  },\n\t\n\t    // Get a model from the set by id.\n\t  get: function(obj) {\n\t    if (obj == null) return void 0;\n\t    var id = this.modelId(this._isModel(obj) ? obj.attributes : obj);\n\t    return this._byId[obj] || this._byId[id] || this._byId[obj.cid];\n\t  },\n\t\n\t    // Get the model at the given index.\n\t  at: function(index) {\n\t    if (index < 0) index += this.length;\n\t    return this.models[index];\n\t  },\n\t\n\t    // Return models with matching attributes. Useful for simple cases of\n\t    // `filter`.\n\t  where: function(attrs, first) {\n\t    if (_.isEmpty(attrs)) return first ? void 0 : [];\n\t    return this[first ? 'find' : 'filter'](function(model) {\n\t      for (var key in attrs) {\n\t        if (attrs[key] !== model.get(key)) return false;\n\t      }\n\t      return true;\n\t    });\n\t  },\n\t\n\t    // Return the first model with matching attributes. Useful for simple cases\n\t    // of `find`.\n\t  findWhere: function(attrs) {\n\t    return this.where(attrs, true);\n\t  },\n\t\n\t    // Force the collection to re-sort itself. You don't need to call this under\n\t    // normal circumstances, as the set will maintain sort order as each item\n\t    // is added.\n\t  sort: function(options) {\n\t    if (!this.comparator) throw new Error('Cannot sort a set without a comparator');\n\t    options || (options = {});\n\t\n\t    // Run sort based on type of `comparator`.\n\t    if (_.isString(this.comparator) || this.comparator.length === 1) {\n\t      this.models = this.sortBy(this.comparator, this);\n\t    } else {\n\t      this.models.sort(_.bind(this.comparator, this));\n\t    }\n\t\n\t    if (!options.silent) this.trigger('sort', this, options);\n\t    return this;\n\t  },\n\t\n\t    // Pluck an attribute from each model in the collection.\n\t  pluck: function(attr) {\n\t    return _.invoke(this.models, 'get', attr);\n\t  },\n\t\n\t    // Fetch the default set of models for this collection, resetting the\n\t    // collection when they arrive. If `reset: true` is passed, the response\n\t    // data will be passed through the `reset` method instead of `set`.\n\t  fetch: function(options) {\n\t    options = options ? _.clone(options) : {};\n\t    if (options.parse === void 0) options.parse = true;\n\t    var success = options.success;\n\t    var collection = this;\n\t    options.success = function(resp) {\n\t      var method = options.reset ? 'reset' : 'set';\n\t      collection[method](resp, options);\n\t      if (success) success(collection, resp, options);\n\t      collection.trigger('sync', collection, resp, options);\n\t    };\n\t    wrapError(this, options);\n\t    return this.sync('read', this, options);\n\t  },\n\t\n\t    // Create a new instance of a model in this collection. Add the model to the\n\t    // collection immediately, unless `wait: true` is passed, in which case we\n\t    // wait for the server to agree.\n\t  create: function(model, options) {\n\t    options = options ? _.clone(options) : {};\n\t    if (!(model = this._prepareModel(model, options))) return false;\n\t    if (!options.wait) this.add(model, options);\n\t    var collection = this;\n\t    var success = options.success;\n\t    options.success = function(model, resp) {\n\t      if (options.wait) collection.add(model, options);\n\t      if (success) success(model, resp, options);\n\t    };\n\t    model.save(null, options);\n\t    return model;\n\t  },\n\t\n\t    // **parse** converts a response into a list of models to be added to the\n\t    // collection. The default implementation is just to pass it through.\n\t  parse: function(resp, options) {\n\t    return resp;\n\t  },\n\t\n\t    // Create a new collection with an identical list of models as this one.\n\t  clone: function() {\n\t    return new this.constructor(this.models, {\n\t      model: this.model,\n\t      comparator: this.comparator\n\t    });\n\t  },\n\t\n\t    // Define how to uniquely identify models in the collection.\n\t  modelId: function (attrs) {\n\t    return attrs[this.model.prototype.idAttribute || 'id'];\n\t  },\n\t\n\t    // Private method to reset all internal state. Called when the collection\n\t    // is first initialized or reset.\n\t  _reset: function() {\n\t    this.length = 0;\n\t    this.models = [];\n\t    this._byId  = {};\n\t  },\n\t\n\t    // Prepare a hash of attributes (or other model) to be added to this\n\t    // collection.\n\t  _prepareModel: function(attrs, options) {\n\t    if (this._isModel(attrs)) {\n\t      if (!attrs.collection) attrs.collection = this;\n\t      return attrs;\n\t    }\n\t    options = options ? _.clone(options) : {};\n\t    options.collection = this;\n\t    var model = new this.model(attrs, options);\n\t    if (!model.validationError) return model;\n\t    this.trigger('invalid', this, model.validationError, options);\n\t    return false;\n\t  },\n\t\n\t    // Method for checking whether an object should be considered a model for\n\t    // the purposes of adding to the collection.\n\t  _isModel: function (model) {\n\t    return model instanceof Model;\n\t  },\n\t\n\t    // Internal method to create a model's ties to a collection.\n\t  _addReference: function(model, options) {\n\t    this._byId[model.cid] = model;\n\t    var id = this.modelId(model.attributes);\n\t    if (id != null) this._byId[id] = model;\n\t    model.on('all', this._onModelEvent, this);\n\t  },\n\t\n\t    // Internal method to sever a model's ties to a collection.\n\t  _removeReference: function(model, options) {\n\t    if (this === model.collection) delete model.collection;\n\t    model.off('all', this._onModelEvent, this);\n\t  },\n\t\n\t    // Internal method called every time a model in the set fires an event.\n\t    // Sets need to update their indexes when models change ids. All other\n\t    // events simply proxy through. \"add\" and \"remove\" events that originate\n\t    // in other collections are ignored.\n\t  _onModelEvent: function(event, model, collection, options) {\n\t    if ((event === 'add' || event === 'remove') && collection !== this) return;\n\t    if (event === 'destroy') this.remove(model, options);\n\t    if (event === 'change') {\n\t      var prevId = this.modelId(model.previousAttributes());\n\t      var id = this.modelId(model.attributes);\n\t      if (prevId !== id) {\n\t        if (prevId != null) delete this._byId[prevId];\n\t        if (id != null) this._byId[id] = model;\n\t      }\n\t    }\n\t    this.trigger.apply(this, arguments);\n\t  }\n\t\n\t});\n\t\n\t// Underscore methods that we want to implement on the Collection.\n\t// 90% of the core usefulness of Backbone Collections is actually implemented\n\t// right here:\n\tvar methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',\n\t    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',\n\t    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',\n\t    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',\n\t    'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',\n\t    'lastIndexOf', 'isEmpty', 'chain', 'sample', 'partition'];\n\t\n\t// Mix in each Underscore method as a proxy to `Collection#models`.\n\t_.each(methods, function(method) {\n\t  if (!_[method]) return;\n\t  Collection.prototype[method] = function() {\n\t    var args = slice.call(arguments);\n\t    args.unshift(this.models);\n\t    return _[method].apply(_, args);\n\t  };\n\t});\n\t\n\t// Underscore methods that take a property name as an argument.\n\tvar attributeMethods = ['groupBy', 'countBy', 'sortBy', 'indexBy'];\n\t\n\t// Use attributes instead of properties.\n\t_.each(attributeMethods, function(method) {\n\t  if (!_[method]) return;\n\t  Collection.prototype[method] = function(value, context) {\n\t    var iterator = _.isFunction(value) ? value : function(model) {\n\t      return model.get(value);\n\t    };\n\t    return _[method](this.models, iterator, context);\n\t  };\n\t});\n\t\n\t// setup inheritance\n\tCollection.extend = extend;\n\tmodule.exports = Collection;\n\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\n\t// Generated by CoffeeScript 1.9.0\n\tmodule.exports = function(out) {\n\t  var i, key, _i, _j, _len, _ref, _ref1;\n\t  out = out || {};\n\t  for (i = _i = 0, _ref = arguments.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n\t    if (!arguments[i]) {\n\t      continue;\n\t    }\n\t    _ref1 = arguments[i];\n\t    for (_j = 0, _len = _ref1.length; _j < _len; _j++) {\n\t      key = _ref1[_j];\n\t      if (arguments[i].hasOwnProperty(key)) {\n\t        out[key] = arguments[i][key];\n\t      }\n\t    }\n\t  }\n\t  return out;\n\t};\n\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// Generated by CoffeeScript 1.9.0\n\tvar Fasta, extend, st;\n\t\n\tst = __webpack_require__(39);\n\t\n\textend = __webpack_require__(90);\n\t\n\tmodule.exports = Fasta = {\n\t  getMeta: st.getMeta,\n\t  extend: function(metaParser) {\n\t    var customFasta;\n\t    customFasta = extend(Fasta);\n\t    Fasta.getMeta = metaParser;\n\t    return customFasta;\n\t  },\n\t  parse: function(text) {\n\t    var currentSeq, getMeta, id, label, line, obj, seqs, _i, _len;\n\t    seqs = [];\n\t    if (!text || text.length === 0) {\n\t      return [];\n\t    }\n\t    if (Object.prototype.toString.call(text) !== '[object Array]') {\n\t      text = text.split(\"\\n\");\n\t    }\n\t    getMeta = Fasta.getMeta;\n\t    for (_i = 0, _len = text.length; _i < _len; _i++) {\n\t      line = text[_i];\n\t      if (line[0] === \">\" || line[0] === \";\") {\n\t        label = line.slice(1);\n\t        obj = getMeta(label);\n\t        label = obj.name;\n\t        id = obj.id || seqs.length;\n\t        currentSeq = new st.model(\"\", obj.name, id);\n\t        currentSeq.ids = obj.ids || {};\n\t        currentSeq.details = obj.details || {};\n\t        seqs.push(currentSeq);\n\t      } else {\n\t        currentSeq.seq += line;\n\t      }\n\t    }\n\t    return seqs;\n\t  },\n\t  write: function(seqs, access) {\n\t    var seq, text, _i, _len;\n\t    text = \"\";\n\t    for (_i = 0, _len = seqs.length; _i < _len; _i++) {\n\t      seq = seqs[_i];\n\t      if (access != null) {\n\t        seq = access(seq);\n\t      }\n\t      text += \">\" + seq.name + \"\\n\";\n\t      text += (st.splitNChars(seq.seq, 80)).join(\"\\n\");\n\t      text += \"\\n\";\n\t    }\n\t    return text;\n\t  }\n\t};\n\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar jalview = {};\n\tmodule.exports = jalview;\n\tvar utils = __webpack_require__(45);\n\t\n\t// http://www.jalview.org/help/html/features/featuresFormat.html\n\tjalview.readHeader = function(lines) {\n\t  var colors = {};\n\t  var i = 0;\n\t  var features = [];\n\t  var currentGroup;\n\t\n\t  for (; i < lines.length; i++) {\n\t    var line = lines[i];\n\t    if (line.indexOf(\"#\") >= 0) {\n\t      // no comments allowed -> stop\n\t      break;\n\t    }\n\t    var columns = line.split(/\\t/);\n\t    var firstCell = columns[0].trim();\n\t    if (firstCell === \"GFF\") {\n\t      // this symbolizes the end \n\t      break;\n\t    } else if (columns.length === 2) {\n\t      if (firstCell === \"startgroup\") {\n\t        currentGroup = columns[1].trim();\n\t      } else if (firstCell === \"endgroup\") {\n\t        currentGroup = \"\";\n\t        continue;\n\t      } else {\n\t        // parse color\n\t        colors[columns[0]] = jalview.parseColor(columns[1]);\n\t      }\n\t    } else if(columns.length >= 5){\n\t      var arr = jalview.parseLine(columns);\n\t      if (currentGroup) {\n\t        arr.attributes.Parent = currentGroup;\n\t      }\n\t      features.push(arr);\n\t    }\n\t  }\n\t\n\t  return {\n\t    offset: i,\n\t    colors: colors,\n\t    features: features\n\t  };\n\t};\n\t\n\tjalview.parseColor = function(cell) {\n\t  if (cell.indexOf(\",\") >= 0) {\n\t    // rgb code\n\t    return utils.rgbToHex(cell.split(\",\").map(function(el) {\n\t      return parseInt(el);\n\t    }));\n\t  }\n\t  // color names with length == 6\n\t  // 'bisque,maroon,orange,orchid,purple,salmon,sienna,tomato,violet,yellow'\n\t  if (cell.length === 6 && parseInt(cell.charAt(0), 16) <= 16 && cell !== 'bisque') {\n\t    // hex code\n\t    return \"#\" + cell;\n\t  }\n\t  // color name\n\t  return cell;\n\t};\n\t\n\t\n\tjalview.parseLine = function(columns) {\n\t  var obj = {\n\t    attributes: {}\n\t  };\n\t  obj.attributes.Name = columns[0].trim(); //desc\n\t  obj.seqname = columns[1].trim(); // id\n\t  obj.start = parseInt(columns[3]);\n\t  obj.end = parseInt(columns[4]);\n\t  obj.feature = columns[5].trim();\n\t  if (obj.seqname === \"ID_NOT_SPECIFIED\") {\n\t    obj.seqname = columns[2].trim(); // alternative id\n\t  }\n\t  return obj;\n\t};\n\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar window = __webpack_require__(112)\n\tvar isFunction = __webpack_require__(113)\n\tvar parseHeaders = __webpack_require__(50)\n\tvar xtend = __webpack_require__(140)\n\t\n\tmodule.exports = createXHR\n\t// Allow use of default import syntax in TypeScript\n\tmodule.exports.default = createXHR;\n\tcreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\n\tcreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\t\n\tforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n\t    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n\t        options = initParams(uri, options, callback)\n\t        options.method = method.toUpperCase()\n\t        return _createXHR(options)\n\t    }\n\t})\n\t\n\tfunction forEachArray(array, iterator) {\n\t    for (var i = 0; i < array.length; i++) {\n\t        iterator(array[i])\n\t    }\n\t}\n\t\n\tfunction isEmpty(obj){\n\t    for(var i in obj){\n\t        if(obj.hasOwnProperty(i)) return false\n\t    }\n\t    return true\n\t}\n\t\n\tfunction initParams(uri, options, callback) {\n\t    var params = uri\n\t\n\t    if (isFunction(options)) {\n\t        callback = options\n\t        if (typeof uri === \"string\") {\n\t            params = {uri:uri}\n\t        }\n\t    } else {\n\t        params = xtend(options, {uri: uri})\n\t    }\n\t\n\t    params.callback = callback\n\t    return params\n\t}\n\t\n\tfunction createXHR(uri, options, callback) {\n\t    options = initParams(uri, options, callback)\n\t    return _createXHR(options)\n\t}\n\t\n\tfunction _createXHR(options) {\n\t    if(typeof options.callback === \"undefined\"){\n\t        throw new Error(\"callback argument missing\")\n\t    }\n\t\n\t    var called = false\n\t    var callback = function cbOnce(err, response, body){\n\t        if(!called){\n\t            called = true\n\t            options.callback(err, response, body)\n\t        }\n\t    }\n\t\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            setTimeout(loadFunc, 0)\n\t        }\n\t    }\n\t\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = undefined\n\t\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else {\n\t            body = xhr.responseText || getXml(xhr)\n\t        }\n\t\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\t\n\t        return body\n\t    }\n\t\n\t    function errorFunc(evt) {\n\t        clearTimeout(timeoutTimer)\n\t        if(!(evt instanceof Error)){\n\t            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n\t        }\n\t        evt.statusCode = 0\n\t        return callback(evt, failureResponse)\n\t    }\n\t\n\t    // will load the data & process the response in a special response object\n\t    function loadFunc() {\n\t        if (aborted) return\n\t        var status\n\t        clearTimeout(timeoutTimer)\n\t        if(options.useXDR && xhr.status===undefined) {\n\t            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n\t            status = 200\n\t        } else {\n\t            status = (xhr.status === 1223 ? 204 : xhr.status)\n\t        }\n\t        var response = failureResponse\n\t        var err = null\n\t\n\t        if (status !== 0){\n\t            response = {\n\t                body: getBody(),\n\t                statusCode: status,\n\t                method: method,\n\t                headers: {},\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t            }\n\t        } else {\n\t            err = new Error(\"Internal XMLHttpRequest Error\")\n\t        }\n\t        return callback(err, response, response.body)\n\t    }\n\t\n\t    var xhr = options.xhr || null\n\t\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new createXHR.XDomainRequest()\n\t        }else{\n\t            xhr = new createXHR.XMLHttpRequest()\n\t        }\n\t    }\n\t\n\t    var key\n\t    var aborted\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var timeoutTimer\n\t    var failureResponse = {\n\t        body: undefined,\n\t        headers: {},\n\t        statusCode: 0,\n\t        method: method,\n\t        url: uri,\n\t        rawRequest: xhr\n\t    }\n\t\n\t    if (\"json\" in options && options.json !== false) {\n\t        isJson = true\n\t        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n\t            body = JSON.stringify(options.json === true ? body : options.json)\n\t        }\n\t    }\n\t\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = loadFunc\n\t    xhr.onerror = errorFunc\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    xhr.onabort = function(){\n\t        aborted = true;\n\t    }\n\t    xhr.ontimeout = errorFunc\n\t    xhr.open(method, uri, !sync, options.username, options.password)\n\t    //has to be after open\n\t    if(!sync) {\n\t        xhr.withCredentials = !!options.withCredentials\n\t    }\n\t    // Cannot set timeout with sync request\n\t    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n\t    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\t    if (!sync && options.timeout > 0 ) {\n\t        timeoutTimer = setTimeout(function(){\n\t            if (aborted) return\n\t            aborted = true//IE9 may still call readystatechange\n\t            xhr.abort(\"timeout\")\n\t            var e = new Error(\"XMLHttpRequest timeout\")\n\t            e.code = \"ETIMEDOUT\"\n\t            errorFunc(e)\n\t        }, options.timeout )\n\t    }\n\t\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers && !isEmpty(options.headers)) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\t\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\t\n\t    if (\"beforeSend\" in options &&\n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\t\n\t    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n\t    // XMLHttpRequest spec says to pass null as body to indicate no body\n\t    // See https://github.com/naugtur/xhr/issues/100.\n\t    xhr.send(body || null)\n\t\n\t    return xhr\n\t\n\t\n\t}\n\t\n\tfunction getXml(xhr) {\n\t    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n\t    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n\t    try {\n\t        if (xhr.responseType === \"document\") {\n\t            return xhr.responseXML\n\t        }\n\t        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n\t        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n\t            return xhr.responseXML\n\t        }\n\t    } catch (e) {}\n\t\n\t    return null\n\t}\n\t\n\tfunction noop() {}\n\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports.seq = __webpack_require__(95);\n\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(seq, name, id) {\n\t    this.seq = seq;\n\t    this.name = name;\n\t    this.id = id;\n\t    this.meta = {};\n\t};\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// this is a light-weight build without the scrolling module\n\tmodule.exports = __webpack_require__(102);\n\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t    render_x_axis_label: function () {\n\t      var label = \"Model Position\";\n\t      if (this.display_ali_map) {\n\t        label = \"Alignment Column\";\n\t      }\n\t      this.called_on.find('.logo_xaxis').remove();\n\t      this.called_on.prepend('<div class=\"logo_xaxis\" class=\"centered\" style=\"margin-left:40px\"><p class=\"xaxis_text\" style=\"width:10em;margin:1em auto\">' + label + '</p></div>');\n\t\n\t    },\n\t    render_y_axis_label: function () {\n\t      //attach a canvas for the y-axis\n\t      this.dom_element.parent().before('<canvas class=\"logo_yaxis\" height=\"'+this.options.height+'\" width=\"55\"></canvas>');\n\t      var canvas = this.called_on.find('.logo_yaxis'),\n\t      top_pix_height = 0,\n\t      bottom_pix_height = 0,\n\t      top_height = Math.abs(this.data.max_height),\n\t      bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n\t      context = null,\n\t      axis_label = \"Information Content (bits)\";\n\t\n\t      context = canvas[0].getContext('2d');\n\t      //draw min/max tick marks\n\t      context.beginPath();\n\t      context.moveTo(55, 1);\n\t      context.lineTo(40, 1);\n\t\n\t      context.moveTo(55, this.info_content_height);\n\t      context.lineTo(40, this.info_content_height);\n\t\n\t\n\t      context.moveTo(55, (this.info_content_height / 2));\n\t      context.lineTo(40, (this.info_content_height / 2));\n\t      context.lineWidth = 1;\n\t      context.strokeStyle = \"#666666\";\n\t      context.stroke();\n\t\n\t      //draw the label text\n\t      context.fillStyle = \"#666666\";\n\t      context.textAlign = \"right\";\n\t      context.font = \"bold 10px Arial\";\n\t\n\t      // draw the max label\n\t      context.textBaseline = \"top\";\n\t      context.fillText(parseFloat(this.data.max_height).toFixed(1), 38, 0);\n\t      context.textBaseline = \"middle\";\n\t\n\t      // draw the midpoint labels\n\t      context.fillText(parseFloat(this.data.max_height / 2).toFixed(1), 38, (this.info_content_height / 2));\n\t      // draw the min label\n\t      context.fillText('0', 38, this.info_content_height);\n\t\n\t      // draw the axis label\n\t      if (this.data.height_calc === 'score') {\n\t        axis_label = \"Score (bits)\";\n\t      }\n\t\n\t      context.save();\n\t      context.translate(5, this.height / 2 - 20);\n\t      context.rotate(-Math.PI / 2);\n\t      context.textAlign = \"center\";\n\t      context.font = \"normal 12px Arial\";\n\t      context.fillText(axis_label, 1, 0);\n\t      context.restore();\n\t\n\t      // draw the insert row labels\n\t      context.fillText('occupancy', 55, this.info_content_height + 7);\n\t      if (this.show_inserts) {\n\t        context.fillText('ins. prob.', 50, 280);\n\t        context.fillText('ins. len.', 46, 296);\n\t      }\n\t    }\n\t}; \n\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\n\tvar canv_support = null;\n\t\n\tmodule.exports = function canvasSupport() {\n\t  if (!canv_support) {\n\t    var elem = document.createElement('canvas');\n\t    canv_support = !!(elem.getContext && elem.getContext('2d'));\n\t  }\n\t  return canv_support;\n\t}\n\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  'A': '#FF9966',\n\t  'C': '#009999',\n\t  'D': '#FF0000',\n\t  'E': '#CC0033',\n\t  'F': '#00FF00',\n\t  'G': '#f2f20c',\n\t  'H': '#660033',\n\t  'I': '#CC9933',\n\t  'K': '#663300',\n\t  'L': '#FF9933',\n\t  'M': '#CC99CC',\n\t  'N': '#336666',\n\t  'P': '#0099FF',\n\t  'Q': '#6666CC',\n\t  'R': '#990000',\n\t  'S': '#0000FF',\n\t  'T': '#00FFFF',\n\t  'V': '#FFCC33',\n\t  'W': '#66CC66',\n\t  'Y': '#006600'\n\t};\n\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t    'A': '#cbf751',\n\t    'C': '#5ec0cc',\n\t    'G': '#ffdf59',\n\t    'T': '#b51f16',\n\t    'U': '#b51f16'\n\t  };\n\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(7);\n\t\n\tmodule.exports = function($el,logo, logo_graphic){\n\t\n\t  $el.find('.logo_settings_switch, .logo_settings .close').on('click', function (e) {\n\t    e.preventDefault();\n\t    $('.logo_settings').toggle();\n\t  });\n\t\n\t  $el.find('.logo_reset').on('click', function (e) {\n\t    e.preventDefault();\n\t    logo.changeZoom({'target': logo.default_zoom});\n\t  });\n\t\n\t  $el.find('.logo_change').on('click', function (e) {\n\t    e.preventDefault();\n\t  });\n\t\n\t  $el.find('.logo_zoomin').on('click', function (e) {\n\t    e.preventDefault();\n\t    logo.changeZoom({'distance': 0.1, 'direction': '+'});\n\t  });\n\t\n\t  $el.find('.logo_zoomout').on('click', function (e) {\n\t    e.preventDefault();\n\t    logo.changeZoom({'distance': 0.1, 'direction': '-'});\n\t  });\n\t\n\t  $el.find('.logo_scale').on('change', function (e) {\n\t    logo.toggleScale(this.value);\n\t  });\n\t\n\t  $el.find('.logo_color').on('change', function (e) {\n\t    logo.toggleColorscheme(this.value);\n\t  });\n\t\n\t  $el.find('.logo_ali_map').on('change', function (e) {\n\t    logo.toggleAliMap(this.value);\n\t  });\n\t\n\t  $el.find('.logo_position').on('change', function () {\n\t    if (!this.value.match(/^\\d+$/m)) {\n\t      return;\n\t    }\n\t    logo.scrollToColumn(this.value, 1);\n\t  });\n\t\n\t  logo_graphic.on('dblclick', function (e) {\n\t    // need to get coordinates of mouse click\n\t    console.log(\"dblclick\", logo);\n\t\n\t    offset = logo.logo_graphic.offset(),\n\t    x = parseInt((e.pageX - offset.left), 10),\n\t\n\t    // get mouse position in the window\n\t    window_position = e.pageX - $el.parent().offset().left,\n\t\n\t    // get column number\n\t    col = logo.columnFromCoordinates(x),\n\t\n\t    console.log(\"col\", col);\n\t\n\t    // choose new zoom level and zoom in.\n\t    current = logo.zoom;\n\t\n\t    if (current < 1) {\n\t      logo.changeZoom({'target': 1, offset: window_position, column: col});\n\t    } else {\n\t      logo.changeZoom({'target': 0.3, offset: window_position, column: col});\n\t    }\n\t\n\t    return;\n\t  });\n\t\n\t  $(document).on($el.attr('id') + \".scrolledTo\", function (e, left, top, zoom) {\n\t    logo.render({target: left});\n\t  });\n\t\n\t  $(document).on('keydown', function (e) {\n\t    if (!e.ctrlKey) {\n\t      if (e.which === 61 || e.which === 107) {\n\t        zoom += 0.1;\n\t        logo.changeZoom({'distance': 0.1, 'direction': '+'});\n\t      }\n\t      if (e.which === 109 || e.which === 0) {\n\t        zoom = zoom - 0.1;\n\t        logo.changeZoom({'distance': 0.1, 'direction': '-'});\n\t      }\n\t    }\n\t  });\n\t}\n\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t_ = __webpack_require__(1);\n\t\n\t//var ConsensusColors = require(\"./consensusColors.js\");\n\tvar canvasSupport = __webpack_require__(98);\n\tvar render = __webpack_require__(105);\n\tvar Letter = __webpack_require__(104);\n\tvar view = __webpack_require__(3);\n\tvar axis = __webpack_require__(97);\n\tvar eventListener = __webpack_require__(101);\n\tvar settings = __webpack_require__(103);\n\t\n\tvar jbone = __webpack_require__(7);\n\t\n\tmodule.exports = view.extend({\n\t\n\t  options: {\n\t    xaxis: true,\n\t    yaxis: true,\n\t    height: 300,\n\t    column_width: 34,\n\t    debug: true,\n\t    scale_height_enabled: true,\n\t    scaled_max: true,\n\t    zoom_buttons: true,\n\t    colorscheme: 'default',\n\t    data: undefined,\n\t    start: 1,\n\t    end: undefined,\n\t    zoom: 0.4,\n\t    colors: undefined,\n\t    divider: false,\n\t    show_probs: false,\n\t    divider_step: 5,\n\t    show_divider: false,\n\t    border: false,\n\t    settings: false,\n\t    scroller: true,\n\t    positionMarker: true\n\t  },\n\t\n\t  loadDefault: function(options){\n\t    this.data = options.data;\n\t\n\t    // never show the alignment coordinates by default as that would get\n\t    // really confusing.\n\t    this.display_ali_map = 0;\n\t\n\t    this.alphabet = options.data.alphabet || 'dna';\n\t\n\t    this.start = options.start;\n\t    //this.end = options.end || this.data.heightArr.length;\n\t    this.zoom = parseFloat(options.zoom) || 0.4;\n\t    this.default_zoom = this.zoom;\n\t\n\t    this.column_width = options.column_width;\n\t    this.height = options.height;\n\t    this.canvas_width = 5000;\n\t    this.scale_height_enabled = options.scale_height_enabled;\n\t\n\t    // this needs to be set to null here so that we can initialise it after\n\t    // the render function has fired and the width determined.\n\t    this.scrollme = null;\n\t\n\t    this.previous_target = 0;\n\t    // keeps track of which canvas elements have been drawn and which ones haven't.\n\t    this.rendered = [];\n\t    this.previous_zoom = 0;\n\t\n\t    if(this.data.max_height == undefined){\n\t      this.data.max_height = this.calcMaxHeight(this.data.heightArr); \n\t    }\n\t\n\t    // only show insert when we actually have the data\n\t    if(!this.data.insert_probs || !this.data.delete_probs){\n\t      this.options.show_probs = false;\n\t    }\n\t\n\t    if (options.scaled_max) {\n\t      this.data.max_height = options.data.max_height_obs || this.data.max_height || 2;\n\t    } else {\n\t      this.data.max_height = options.data.max_height_theory || this.data.max_height || 2;\n\t    }\n\t\n\t    if(options.colors){\n\t      this.changeColors(options.colors);\n\t    }else{\n\t      if (this.alphabet === 'aa') {\n\t        this.aa_colors = __webpack_require__(99);\n\t        this.changeColors(this.aa_colors);\n\t      }else{\n\t        this.dna_colors = __webpack_require__(100);\n\t        this.changeColors(this.dna_colors);\n\t      }\n\t    }\n\t  },\n\t  initialize: function(options) {\n\t    if (!canvasSupport()) {\n\t      this.el.textContent = \"Your browser doesn't support canvas.\";\n\t      return;\n\t    }\n\t    if(options.data == undefined){\n\t      this.el.textContent = \"No data added.\";\n\t    }\n\t\n\t    // load default settings\n\t    _.extend(this.options,options);\n\t    var opt = this.options;\n\t    this.loadDefault(opt);\n\t\n\t    if(!this.options.show_probs){\n\t      this.info_content_height = this.height;\n\t    }else{\n\t      // turn off the insert rows if the hmm used the observed or weighted processing flags.\n\t      if (this.data.processing && /^observed|weighted/.test(this.data.processing)) {\n\t        this.show_inserts = 0;\n\t        this.info_content_height = this.height - 14;\n\t      } else {\n\t        this.show_inserts = 1;\n\t        this.info_content_height = this.height - 44;\n\t      }\n\t    }\n\t    this.$el = jbone(this.el);\n\t\n\t    this.initDivs();\n\t\n\t    if(this.options.settings){\n\t      var form = settings(this,opt);\n\t      this.$el.append(form);\n\t    }\n\t\n\t    eventListener(this.$el,this, this.logo_graphic);\n\t    /*\n\t       if (opt.columnInfo) {\n\t       var columnInfo = require(\"./info/column_info.js\");\n\t       columnInfo(this);\n\t       }\n\t       */\n\t\n\t  },\n\t  initDivs: function(){\n\t    var logo_graphic = mk(\"div\");\n\t    logo_graphic.className = \"logo_graphic\";\n\t    this.logo_graphic = jbone(logo_graphic);\n\t\n\t    var container = mk(\"div\");\n\t    container.className = \"logo_container\";\n\t    container.style.height = this.height;\n\t    this.container = jbone(container);\n\t\n\t    this.container.append(logo_graphic);\n\t\n\t    // add some internal divs for scrolling etc.\n\t    this.$el.append(container);\n\t\n\t    if(this.options.divider){\n\t      var divider = mk(\"div\");\n\t      divider.className = \"logo_divider\";\n\t      this.$el.append(divider);\n\t    }\n\t\n\t    this.dom_element = jbone(logo_graphic);\n\t    this.called_on = this.$el;\n\t\n\t    if(this.options.xaxis){\n\t      axis.render_x_axis_label.call(this);\n\t    }\n\t    if(this.options.yaxis){\n\t      axis.render_y_axis_label.call(this);\n\t    }else{\n\t      this.container[0].style.marginLeft = \"0px\";\n\t    }\n\t\n\t  },\n\t\n\t  render: function(){\n\t    render.call(this); \n\t    return this;\n\t  },\n\t\n\t  changeColors: function(colors){\n\t    this.colors = colors;\n\t    var bUseColorObject = (colors != undefined && colors.type != undefined);\n\t    if(bUseColorObject){\n\t      this.colorscheme = \"dynamic\";\n\t    }\n\t    this.buildAlphabet();\n\t  },\n\t\n\t  buildAlphabet: function(){\n\t    /*\n\t       if (this.alphabet === 'aa') {\n\t       var probs_arr = this.data.probs_arr;\n\t       if (probs_arr) {\n\t       var cc = new ConsensusColors();\n\t       this.cmap = cc.color_map(probs_arr);\n\t       }\n\t       }\n\t       */\n\t\n\t    //build the letter canvases\n\t    this.letters = {};\n\t    var colors = this.colors;\n\t    if(this.colorscheme == \"dynamic\"){\n\t      var tColors = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\n\t      colors = {};\n\t      tColors.forEach(function(e){\n\t        colors[e] = \"\";\n\t      });\n\t    }\n\t    for (var letter in colors) {\n\t      if (colors.hasOwnProperty(letter)) {\n\t        var loptions = {color: colors[letter]};\n\t        this.letters[letter] = new Letter(letter, loptions);\n\t      }\n\t    }\n\t  },\n\t\n\t  toggleColorscheme: function (scheme) {\n\t    // work out the current column we are on so we can return there\n\t    var col_total = this.currentColumn();\n\t\n\t    if (scheme) {\n\t      if (scheme === 'default') {\n\t        this.colorscheme = 'default';\n\t      } else {\n\t        this.colorscheme = 'consensus';\n\t      }\n\t    } else {\n\t      if (this.colorscheme === 'default') {\n\t        this.colorscheme = 'consensus';\n\t      } else {\n\t        this.colorscheme = 'default';\n\t      }\n\t    }\n\t\n\t    // reset the rendered counter so that each section will re-render\n\t    // with the new heights\n\t    this.rendered = [];\n\t\n\t    // re-flow and re-render the content\n\t    this.scrollme.reflow();\n\t    //scroll off by one to force a render of the canvas.\n\t    this.scrollToColumn(col_total + 1);\n\t    //scroll back to the location we started at.\n\t    this.scrollToColumn(col_total);\n\t  },\n\t\n\t  toggleScale: function (scale) {\n\t    // work out the current column we are on so we can return there\n\t    var col_total = this.currentColumn();\n\t\n\t    if (scale) {\n\t      if (scale === 'obs') {\n\t        this.data.max_height = this.data.max_height_obs;\n\t      } else {\n\t        this.data.max_height = this.data.max_height_theory;\n\t      }\n\t    } else {\n\t      // toggle the max height\n\t      if (this.data.max_height === this.data.max_height_obs) {\n\t        this.data.max_height = this.data.max_height_theory;\n\t      } else {\n\t        this.data.max_height = this.data.max_height_obs;\n\t      }\n\t    }\n\t    // reset the rendered counter so that each section will re-render\n\t    // with the new heights\n\t    this.rendered = [];\n\t    //update the y-axis\n\t    if(this.logoYAxis){\n\t      this.logoYAxis.remove();\n\t      //this.called_on.find('.logo_yaxis').remove();\n\t    }\n\t    axis.render_y_axis_label.call(this);\n\t\n\t    // re-flow and re-render the content\n\t    this.scrollme.reflow();\n\t    //scroll off by one to force a render of the canvas.\n\t    this.scrollToColumn(col_total + 1);\n\t    //scroll back to the location we started at.\n\t    this.scrollToColumn(col_total);\n\t  },\n\t  toggleAliMap: function (coords) {\n\t    // work out the current column we are on so we can return there\n\t    var col_total = this.currentColumn();\n\t\n\t    if (coords) {\n\t      if (coords === 'model') {\n\t        this.display_ali_map = 0;\n\t      } else {\n\t        this.display_ali_map = 1;\n\t      }\n\t    } else {\n\t      // toggle the max height\n\t      if (this.display_ali_map === 1) {\n\t        this.display_ali_map = 0;\n\t      } else {\n\t        this.display_ali_map = 1;\n\t      }\n\t    }\n\t    axis.render_x_axis_label(this);\n\t\n\t    // reset the rendered counter so that each section will re-render\n\t    // with the new heights\n\t    this.rendered = [];\n\t\n\t    // re-flow and re-render the content\n\t    this.scrollme.reflow();\n\t    //scroll off by one to force a render of the canvas.\n\t    this.scrollToColumn(col_total + 1);\n\t    //scroll back to the location we started at.\n\t    this.scrollToColumn(col_total);\n\t  },\n\t\n\t  currentColumn: function () {\n\t    var before_left = this.scrollme.scroller.getValues().left,\n\t    col_width = (this.column_width * this.zoom),\n\t    col_count = before_left / col_width,\n\t    half_visible_columns = (this.container.width() / col_width) / 2,\n\t    col_total = Math.ceil(col_count + half_visible_columns);\n\t    return col_total;\n\t  },\n\t\n\t  changeZoom: function (options) {\n\t    var zoom_level = 0.3,\n\t    expected_width = null;\n\t    if (options.target) {\n\t      zoom_level = options.target;\n\t    } else if (options.distance) {\n\t      zoom_level = (parseFloat(this.zoom) - parseFloat(options.distance)).toFixed(1);\n\t      if (options.direction === '+') {\n\t        zoom_level = (parseFloat(this.zoom) + parseFloat(options.distance)).toFixed(1);\n\t      }\n\t    }\n\t\n\t    if (zoom_level > 1) {\n\t      zoom_level = 1;\n\t    } else if (zoom_level < 0.1) {\n\t      zoom_level = 0.1;\n\t    }\n\t\n\t    // see if we need to zoom or not\n\t    expected_width = (this.logo_graphic.width() * zoom_level) / this.zoom;\n\t    if (expected_width > this.container.width()) {\n\t      // if a center is not specified, then use the current center of the view\n\t      if (!options.column) {\n\t        //work out my current position\n\t        var col_total = this.currentColumn();\n\t\n\t        this.zoom = zoom_level;\n\t        this.render({zoom: this.zoom});\n\t        this.scrollme.reflow();\n\t\n\t        //scroll to previous position\n\t        this.scrollToColumn(col_total);\n\t      } else { // center around the mouse click position.\n\t        this.zoom = zoom_level;\n\t        this.render({zoom: this.zoom});\n\t        this.scrollme.reflow();\n\t\n\t        var coords = this.coordinatesFromColumn(options.column);\n\t        this.scrollme.scroller.scrollTo(coords - options.offset);\n\t      }\n\t    }\n\t    return this.zoom;\n\t\n\t  },\n\t\n\t  columnFromCoordinates: function (x) {\n\t    var column = Math.ceil(x / (this.column_width * this.zoom));\n\t    return column;\n\t  },\n\t\n\t  coordinatesFromColumn: function (col) {\n\t    var new_column = col - 1,\n\t    x = (new_column  * (this.column_width * this.zoom)) + ((this.column_width * this.zoom) / 2);\n\t    return x;\n\t  },\n\t\n\t  scrollToColumn: function (num, animate) {\n\t    var half_view = (this.logo_container.width() / 2),\n\t    new_left = this.coordinatesFromColumn(num);\n\t    this.scrollme.scroller.scrollTo(new_left - half_view, 0, animate);\n\t  },\n\t  calcMaxHeight: function(columns){\n\t    // loops over all columns and return the max height seen \n\t    return columns.reduce(function(m,c){\n\t      var col = 0;\n\t      for(var k in c){\n\t        col += c[k];\n\t      }\n\t      return col > m ? col : m;\n\t    },0);\n\t  }\n\t\n\t\n\t});\n\t\n\tvar mk = function(name){\n\t  return document.createElement(name);\n\t}\n\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(7);\n\t\n\tmodule.exports = function(logo,options){\n\t  var form = $('<form class=\"logo_form\"><fieldset><label for=\"position\">Column number</label>' +\n\t               '<input type=\"text\" name=\"position\" class=\"logo_position\"></input>' +\n\t               '<button class=\"button logo_change\">Go</button></fieldset>' +\n\t               '</form>');\n\t\n\t  var settings = $('<div class=\"logo_settings\"></div>');\n\t  settings.append('<span class=\"close\">x</span>');\n\t\n\t\n\t\n\t  /* we don't want to toggle if the max height_obs is greater than max theoretical\n\t   * as letters will fall off the top.\n\t   */\n\t  if (logo.scale_height_enabled && (logo.data.max_height_obs < logo.data.max_height_theory)) {\n\t    var obs_checked = '',\n\t    theory_checked = '',\n\t    theory_help = '',\n\t    obs_help = '';\n\t\n\t    if (logo.data.max_height_obs === logo.data.max_height) {\n\t      obs_checked = 'checked';\n\t    } else {\n\t      theory_checked = 'checked';\n\t    }\n\t  }\n\t\n\t\n\t\n\t  var scale_controls = '<fieldset><legend>Scale</legend>' +\n\t    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"obs\" ' + obs_checked +\n\t    '/>Maximum Observed ' + obs_help +\n\t    '</label></br>' +\n\t    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"theory\" ' + theory_checked +\n\t    '/>Maximum Theoretical ' + theory_help +\n\t    '</label>' +\n\t    '</fieldset>';\n\t\n\t  settings.append(scale_controls);\n\t\n\t  if (logo.data.height_calc !== 'score' && logo.data.alphabet === 'aa' && logo.data.probs_arr) {\n\t\n\t    var def_color = null,\n\t    con_color = null,\n\t    def_help = '',\n\t    con_help = '';\n\t\n\t    if (logo.colorscheme === 'default') {\n\t      def_color = 'checked';\n\t    } else {\n\t      con_color = 'checked';\n\t    };\n\t\n\t    if (options.help) {\n\t      def_help = '<a class=\"help\" href=\"/help#colors_default\" title=\"Each letter receives its own color.\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t      con_help = '<a class=\"help\" href=\"/help#colors_consensus\" title=\"Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column.\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t    }\n\t\n\t    var color_controls = '<fieldset><legend>Color Scheme</legend>' +\n\t      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"default\" ' + def_color +\n\t      '/>Default ' + def_help +\n\t      '</label></br>' +\n\t      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"consensus\" ' + con_color +\n\t      '/>Consensus Colors ' + con_help +\n\t      '</label>' +\n\t      '</fieldset>';\n\t    settings.append(color_controls);\n\t  }\n\t\n\t\n\t  if (logo.data.ali_map) {\n\t    var mod_checked = null,\n\t    ali_checked = null,\n\t    mod_help = '',\n\t    ali_help = '';\n\t\n\t    if (logo.display_ali_map === 0) {\n\t      mod_checked = 'checked';\n\t    } else {\n\t      ali_checked = 'checked';\n\t    }\n\t\n\t    if (options.help) {\n\t      mod_help = '<a class=\"help\" href=\"/help#coords_model\" title=\"The coordinates along the top of the plot show the model position.\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t      ali_help = '<a class=\"help\" href=\"/help#coords_ali\" title=\"The coordinates along the top of the plot show the column in the alignment associated with the model\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t    }\n\t\n\t    var ali_controls = '<fieldset><legend>Coordinates</legend>' +\n\t      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"model\" ' + mod_checked +\n\t      '/>Model ' + mod_help +\n\t      '</label></br>' +\n\t      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"alignment\" ' + ali_checked +\n\t      '/>Alignment ' + ali_help +\n\t      '</label>' +\n\t      '</fieldset>';\n\t    settings.append(ali_controls);\n\t  }\n\t\n\t\n\t  var controls = $('<div class=\"logo_controls\"></div>');\n\t  if (logo.zoom_enabled) {\n\t    controls.append('<button class=\"logo_zoomout button\">-</button>' +\n\t                    '<button class=\"logo_zoomin button\">+</button>');\n\t  }\n\t\n\t  if (settings.children().length > 0) {\n\t    controls.append('<button class=\"logo_settings_switch button\">Settings</button>');\n\t    controls.append(settings);\n\t  }\n\t\n\t  form.append(controls);\n\t\n\t  return form;\n\t}\n\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function Letter(letter, options) {\n\t  options = options || {};\n\t  this.value = letter;\n\t  this.width = parseInt(options.width, 10) || 100;\n\t\n\t  //W is 30% wider than the other letters, so need to make sure\n\t  //it gets modified accordingly.\n\t  if (this.value === 'W') {\n\t    this.width += (this.width * 30) / 100;\n\t  }\n\t\n\t  this.height = parseInt(options.height, 10) || 100;\n\t\n\t  this.color = options.color || '#000000';\n\t  // if the height and width are changed from the default, then\n\t  // this will also need to be changed as it cant be calculated\n\t  // dynamically.\n\t  this.fontSize = options.fontSize || 138;\n\t\n\t  this.scaled = function () { };\n\t\n\t  this.draw = function (ext_ctx, target_height, target_width, x, y, color) {\n\t    var h_ratio = target_height / this.height,\n\t    w_ratio = target_width / this.width,\n\t    prev_font = ext_ctx.font;\n\t    ext_ctx.transform(w_ratio, 0, 0, h_ratio, x, y);\n\t    ext_ctx.fillStyle = color || this.color;\n\t    ext_ctx.textAlign = \"center\";\n\t    ext_ctx.font = \"bold \" + this.fontSize + \"px Arial\";\n\t\n\t    ext_ctx.fillText(this.value, 0, 0);\n\t    //restore the canvas settings\n\t    ext_ctx.setTransform(1, 0, 0, 1, 0, 0);\n\t    ext_ctx.fillStyle = '#000000';\n\t    ext_ctx.font = prev_font;\n\t  };\n\t\n\t}\n\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar renderWithText = __webpack_require__(107);\n\tvar renderWithRect = __webpack_require__(106);\n\tvar jbone = __webpack_require__(7);\n\t\n\t// the main render function that draws the logo based on the provided options.\n\tmodule.exports = function (options) {\n\t  if (!this.data) {\n\t    return;\n\t  }\n\t  options    = options || {};\n\t  var zoom   = options.zoom || this.zoom,\n\t  target = options.target || 1,\n\t  scaled = options.scaled || null;\n\t  var parent_width = this.dom_element.parent().attr('width'),\n\t  max_canvas_width = 1,\n\t  end = null,\n\t  start = null,\n\t  i = 0;\n\t\n\t  /*\n\t  if (target === this.previous_target) {\n\t    return;\n\t  }\n\t  */\n\t\n\t  this.previous_target = target;\n\t\n\t\n\t  if (options.start) {\n\t    this.start = options.start;\n\t  }\n\t  if (options.end) {\n\t    this.end = options.end;\n\t  }\n\t\n\t  if (zoom <= 0.1) {\n\t    zoom = 0.1;\n\t  } else if (zoom >= 1) {\n\t    zoom = 1;\n\t  }\n\t\n\t  this.zoom = zoom;\n\t\n\t  end = this.end || this.data.heightArr.length;\n\t  start = this.start || 1;\n\t  end     = (end > this.data.heightArr.length) ? this.data.heightArr.length : end;\n\t  end     = (end < start) ? start : end;\n\t\n\t  start     = (start > end) ? end : start;\n\t  start     = (start > 1) ? start : 1;\n\t\n\t  this.y = this.height - 20;\n\t  // Check to see if the logo will fit on the screen at full zoom.\n\t  this.max_width = this.column_width * ((end - start) + 1);\n\t  // If it fits then zoom out and disable zooming.\n\t  if (parent_width > this.max_width) {\n\t    zoom = 1;\n\t    this.zoom_enabled = false;\n\t  }\n\t  this.zoom = zoom;\n\t\n\t  this.zoomed_column = this.column_width * zoom;\n\t  this.total_width = this.zoomed_column * ((end - start) + 1);\n\t\n\t  // If zoom is not maxed and we still aren't filling the window\n\t  // then ramp up the zoom level until it fits, then disable zooming.\n\t  // Then we get a decent logo with out needing to zoom in or out.\n\t  if (zoom < 1) {\n\t    while (this.total_width < parent_width) {\n\t      this.zoom += 0.1;\n\t      this.zoomed_column = this.column_width * this.zoom;\n\t      this.total_width = this.zoomed_column * ((end - start) + 1);\n\t      this.zoom_enabled = false;\n\t      if (zoom >= 1) {\n\t        break;\n\t      }\n\t    }\n\t  }\n\t\n\t  if (target > this.total_width) {\n\t    target = this.total_width;\n\t  }\n\t  this.dom_element.attr({'width': this.total_width + 'px'}).css({width: this.total_width + 'px'});\n\t\n\t  this.canvas_width = this.total_width;\n\t  var canvas_count = Math.ceil(this.total_width / this.canvas_width);\n\t  this.columns_per_canvas = Math.ceil(this.canvas_width / this.zoomed_column);\n\t\n\t\n\t  if (this.previous_zoom !== this.zoom) {\n\t    this.dom_element.find('canvas').remove();\n\t    this.previous_zoom = this.zoom;\n\t    this.rendered = [];\n\t  }\n\t\n\t  this.canvases = [];\n\t  this.contexts = [];\n\t\n\t\n\t  for (i = 0; i < canvas_count; i++) {\n\t\n\t    var split_start = (this.columns_per_canvas * i) + start,\n\t    split_end   = split_start + this.columns_per_canvas - 1;\n\t    if (split_end > end) {\n\t      split_end = end;\n\t    }\n\t\n\t    var adjusted_width = ((split_end - split_start) + 1) * this.zoomed_column;\n\t\n\t    if (adjusted_width > max_canvas_width) {\n\t      max_canvas_width = adjusted_width;\n\t    }\n\t\n\t    var canv_start = max_canvas_width * i,\n\t    canv_end = canv_start + adjusted_width;\n\t\n\t    if (target < canv_end + (canv_end / 2) && target > canv_start - (canv_start / 2)) {\n\t      // Check that we aren't redrawing the canvas and if not, then attach it and draw.\n\t      //if (this.rendered[i] !== 1) {\n\t\n\t        this.canvases[i] = attach_canvas(this.dom_element, this.height, adjusted_width, i, max_canvas_width);\n\t        this.contexts[i] = this.canvases[i].getContext('2d');\n\t        this.contexts[i].setTransform(1, 0, 0, 1, 0, 0);\n\t        this.contexts[i].clearRect(0, 0, adjusted_width, this.height);\n\t        this.contexts[i].fillStyle = \"#ffffff\";\n\t        this.contexts[i].fillRect(0, 0, canv_end, this.height);\n\t\n\t\n\t        if (this.zoomed_column > 12) {\n\t          var fontsize = parseInt(10 * zoom, 10);\n\t          fontsize = (fontsize > 10) ? 10 : fontsize;\n\t          if (this.debug) {\n\t            renderWithRect.call(this,split_start, split_end, i, 1);\n\t          }\n\t          renderWithText.call(this,split_start, split_end, i, fontsize);\n\t        } else {\n\t          renderWithRect.call(this,split_start, split_end, i);\n\t        }\n\t        //this.rendered[i] = 1;\n\t      //}\n\t    }\n\t\n\t  }\n\t\n\t  // check if the scroller object has been initialised and if not then do so.\n\t  // we do this here as opposed to at object creation, because we need to\n\t  // make sure the logo has been rendered and the width is correct, otherwise\n\t  // we get a weird initial state where the canvas will bounce back to the\n\t  // beginning the first time it is scrolled, because it thinks it has a\n\t  // width of 0.\n\t  if (!this.scrollme && this.options.scroller) {\n\t    this.scrollme = new EasyScroller(this.dom_element[0], {\n\t      scrollingX: 1,\n\t      scrollingY: 0,\n\t      eventTarget: this.called_on\n\t    });\n\t  }\n\t\n\t  if (target !== 1) {\n\t    this.scrollme.reflow();\n\t  }\n\t  return;\n\t};\n\t\n\t\n\tfunction attach_canvas(DOMid, height, width, id, canv_width) {\n\t  var canvas = jbone(DOMid).find('#canv_' + id);\n\t\n\t  if (!canvas.length) {\n\t    jbone(DOMid).append('<canvas class=\"canvas_logo\" id=\"canv_' + id + '\"  height=\"' + height + '\" width=\"' + width + '\" style=\"left:' + canv_width * id + 'px\"></canvas>');\n\t    canvas = jbone(DOMid).find('#canv_' + id);\n\t  }\n\t\n\t  jbone(canvas).attr('width', width).attr('height', height);\n\t\n\t  return canvas[0];\n\t}\n\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar draw_border = __webpack_require__(46);\n\tvar draw_ticks = __webpack_require__(48);\n\tvar draw_column_number = __webpack_require__(47);\n\t\n\tmodule.exports = function (start, end, context_num, borders) {\n\t  var x = 0,\n\t  column_num = start,\n\t  column_label = null,\n\t  i = 0,\n\t  top_height = Math.abs(this.data.max_height),\n\t  bottom_height = Math.abs(this.data.min_height_obs),\n\t  total_height = top_height + bottom_height,\n\t  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n\t  //convert % to pixels\n\t  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n\t  bottom_pix_height = this.info_content_height - top_pix_height,\n\t  mod = 10;\n\t\n\t\n\t  for (i = start; i <= end; i++) {\n\t    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n\t      this.contexts[context_num].fillStyle = '#cccccc';\n\t      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n\t    } else {\n\t      var column = this.data.heightArr[i - 1],\n\t      previous_height = 0,\n\t      previous_neg_height = top_pix_height,\n\t      letters = column.length,\n\t      j = 0;\n\t      for(var j in column){\n\t        values = [j,column[j]];\n\t        if (values[1] > 0.01) {\n\t          var letter_height = parseFloat(values[1]) / this.data.max_height,\n\t          x_pos = x,\n\t          glyph_height = (this.info_content_height - 2) * letter_height,\n\t          y_pos = (this.info_content_height - 2) - previous_height - glyph_height,\n\t          color = null;\n\t\n\t\n\t          if(this.colorscheme === 'dynamic'){\n\t            color = this.colors.getColor(values[0], {pos: i - 1} )\n\t          }else{\n\t            if(this.colorscheme === 'consensus') {\n\t              color = this.cmap[i - 1][values[0]] || \"#7a7a7a\";\n\t            } else {\n\t              color = this.colors[values[0]];\n\t            }\n\t          }\n\t\n\t          if (borders) {\n\t            this.contexts[context_num].strokeStyle = color;\n\t            this.contexts[context_num].strokeRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n\t          } else {\n\t            this.contexts[context_num].fillStyle = color;\n\t            this.contexts[context_num].fillRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n\t          }\n\t\n\t          previous_height = previous_height + glyph_height;\n\t        }\n\t      }\n\t    }\n\t\n\t\n\t    if (this.zoom < 0.2) {\n\t      mod = 20;\n\t    } else if (this.zoom < 0.3) {\n\t      mod = 10;\n\t    }\n\t\n\t    if(this.options.positionMarker){\n\t      if (i % mod === 0) {\n\t        // draw column dividers\n\t        if(this.options.show_probs){\n\t          draw_ticks(this.contexts[context_num], x + this.zoomed_column, this.height - 30, parseFloat(this.height), '#dddddd');\n\t        }\n\t        // draw top ticks\n\t        draw_ticks(this.contexts[context_num], x + this.zoomed_column, 0, 5);\n\t\n\t        // if ali_coordinates exist and toggle is set then display the\n\t        // alignment coordinates and not the model coordinates.\n\t        if (this.display_ali_map) {\n\t          column_label = this.data.ali_map[i - 1];\n\t        } else {\n\t          column_label = column_num;\n\t        }\n\t        // draw column numbers\n\t        draw_column_number(this.contexts[context_num], x - 2,  10, this.zoomed_column, column_label, 10, true);\n\t      }\n\t\n\t    }\n\t\n\t\n\t    // draw insert probabilities/lengths\n\t    if(this.options.show_probs){\n\t      draw_small_insert(\n\t        this.contexts[context_num],\n\t        x,\n\t        this.height - 42,\n\t        this.zoomed_column,\n\t        this.data.insert_probs[i - 1],\n\t        this.data.insert_lengths[i - 1],\n\t        this.data.delete_probs[i - 1],\n\t        this.show_inserts\n\t      );\n\t    }\n\t\n\t    if(this.options.show_probs){\n\t      // draw other dividers\n\t      if (this.show_inserts) {\n\t        draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n\t      } else {\n\t        draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n\t      }\n\t    }\n\t\n\t    if(this.options.border){\n\t      draw_border(this.contexts[context_num], 0, this.total_width);\n\t    }\n\t\n\t    x += this.zoomed_column;\n\t    column_num++;\n\t  }\n\t\n\t};\n\t\n\t\n\tfunction draw_small_insert(context, x, y, col_width, in_odds, in_length, del_odds, show_inserts) {\n\t  var fill = \"#ffffff\";\n\t  if (show_inserts) {\n\t    if (in_odds > 0.1) {\n\t      fill = '#d7301f';\n\t    } else if (in_odds > 0.05) {\n\t      fill = '#fc8d59';\n\t    } else if (in_odds > 0.03) {\n\t      fill = '#fdcc8a';\n\t    }\n\t    context.fillStyle = fill;\n\t    context.fillRect(x, y + 15, col_width, 10);\n\t\n\t    fill = \"#ffffff\";\n\t    // draw insert length\n\t    if (in_length > 9) {\n\t      fill = '#d7301f';\n\t    } else if (in_length > 7) {\n\t      fill = '#fc8d59';\n\t    } else if (in_length > 4) {\n\t      fill = '#fdcc8a';\n\t    }\n\t    context.fillStyle = fill;\n\t    context.fillRect(x, y + 30, col_width, 10);\n\t  } else {\n\t    y  = y + 30;\n\t  }\n\t\n\t  fill = \"#ffffff\";\n\t  // draw delete odds\n\t  if (del_odds < 0.75) {\n\t    fill = '#2171b5';\n\t  } else if (del_odds < 0.85) {\n\t    fill = '#6baed6';\n\t  } else if (del_odds < 0.95) {\n\t    fill = '#bdd7e7';\n\t  }\n\t  context.fillStyle = fill;\n\t  context.fillRect(x, y, col_width, 10);\n\t}\n\t\n\t\n\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar draw_border = __webpack_require__(46);\n\tvar draw_ticks = __webpack_require__(48);\n\tvar draw_column_number = __webpack_require__(47);\n\t\n\tmodule.exports = function (start, end, context_num, fontsize) {\n\t  var x = 0,\n\t  column_num = start,\n\t  column_label = null,\n\t  i = 0,\n\t  top_height = Math.abs(this.data.max_height),\n\t  bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n\t  total_height = top_height + Math.abs(bottom_height),\n\t  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n\t  //convert % to pixels\n\t  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n\t  bottom_pix_height = this.info_content_height - top_pix_height,\n\t  // this is used to transform the 256px high letters into the correct size\n\t  // when displaying negative values, so that they fit above the 0 line.\n\t  top_pix_conversion = top_pix_height / this.info_content_height,\n\t  bottom_pix_conversion = bottom_pix_height / this.info_content_height;\n\t\n\t  // add 3 extra columns so that numbers don't get clipped at the end of a canvas\n\t  // that ends before a large column. DF0000830 was suffering at zoom level 0.6,\n\t  // column 2215. This adds a little extra overhead, but is the easiest fix for now.\n\t  if (end + 3 <= this.end) {\n\t    end += 3;\n\t  }\n\t\n\t  for (i = start; i <= end; i++) {\n\t    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n\t      this.contexts[context_num].fillStyle = '#cccccc';\n\t      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n\t    } else {\n\t      var column = this.data.heightArr[i - 1],\n\t      col_positions = [];\n\t      if (column) {\n\t        var previous_height = 0,\n\t        letters = column.length,\n\t        previous_neg_height = top_pix_height,\n\t        j = 0,\n\t        color = null;\n\t\n\t        for(var j in column){\n\t          var letter = column[j],\n\t          values = [j,letter];\n\t          x_pos = x + (this.zoomed_column / 2),\n\t          letter_height = null;\n\t\n\t          // we don't render anything with a value between 0 and 0.01. These\n\t          // letters would be too small to be meaningful on any scale, so we\n\t          // just squash them out.\n\t          if (values[1] > 0.01) {\n\t            letter_height = parseFloat(values[1]) / this.data.max_height;\n\t            var y_pos = (this.info_content_height - 2) - previous_height,\n\t            glyph_height = (this.info_content_height - 2) * letter_height;\n\t\n\t            col_positions[j] = [glyph_height, this.zoomed_column, x_pos, y_pos];\n\t            previous_height = previous_height + glyph_height;\n\t          }\n\t        }\n\t\n\t        // render the letters in reverse order so that the larger letters on the top\n\t        // don't clobber the smaller letters below them.\n\t        //for (j = letters; j >= 0; j--) {\n\t        for(var j in column){\n\t          if (col_positions[j] && this.letters[j]) {\n\t\n\t            if(this.colorscheme === 'dynamic'){\n\t              color = this.colors.getColor(j, {pos: i - 1} );\n\t            }else{\n\t              if (this.colorscheme === 'consensus') {\n\t                color = this.cmap[i - 1][j] || \"#7a7a7a\";\n\t              } else {\n\t                color = null;\n\t              }\n\t            }\n\t            this.letters[j].draw(this.contexts[context_num], col_positions[j][0], col_positions[j][1], col_positions[j][2], col_positions[j][3], color);\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t\n\t    // if ali_coordinates exist and toggle is set then display the\n\t    // alignment coordinates and not the model coordinates.\n\t    if (this.display_ali_map) {\n\t      column_label = this.data.ali_map[i - 1];\n\t    } else {\n\t      column_label = column_num;\n\t    }\n\t\n\t    if(this.options.show_divider){\n\t      if (this.zoom < 0.7) {\n\t        if (i % this.options.divider_step === 0) {\n\t          draw_column_divider(this,{\n\t            context_num : context_num,\n\t            x : x,\n\t            fontsize: 10,\n\t            column_num: column_label,\n\t            ralign: true\n\t          });\n\t        }\n\t      } else {\n\t        draw_column_divider(this,{\n\t          context_num : context_num,\n\t          x : x,\n\t          fontsize: fontsize,\n\t          column_num: column_label\n\t        });\n\t      }\n\t    }\n\t\n\t    if(this.options.show_probs){\n\t      draw_delete_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.delete_probs[i - 1], fontsize, this.show_inserts);\n\t      //draw insert length ticks\n\t      draw_ticks(this.contexts[context_num], x, this.height - 15, 5);\n\t      if (this.show_inserts) {\n\t        draw_insert_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.insert_probs[i - 1], fontsize);\n\t        draw_insert_length(this.contexts[context_num], x, this.height - 5, this.zoomed_column, this.data.insert_lengths[i - 1], fontsize);\n\t\n\t        // draw delete probability ticks\n\t        draw_ticks(this.contexts[context_num], x, this.height - 45, 5);\n\t        // draw insert probability ticks\n\t        draw_ticks(this.contexts[context_num], x, this.height - 30, 5);\n\t      }\n\t\n\t    }\n\t\n\t    x += this.zoomed_column;\n\t    column_num++;\n\t  }\n\t\n\t\n\t  if(this.options.show_probs){\n\t    // draw other dividers\n\t    if (this.show_inserts) {\n\t      draw_border(this.contexts[context_num], this.height - 30, this.total_width);\n\t      draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n\t    }\n\t    draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n\t  }\n\t  if(this.options.border){\n\t    draw_border(this.contexts[context_num], 0, this.total_width);\n\t  }\n\t};\n\t\n\t\n\tfunction draw_delete_odds(context, x, height, col_width, text, fontsize, show_inserts) {\n\t  var y        = height - 4,\n\t  fill     = '#ffffff',\n\t  textfill = '#555555';\n\t\n\t  if (show_inserts) {\n\t    y = height - 35;\n\t  }\n\t\n\t  if (text < 0.75) {\n\t    fill     = '#2171b5';\n\t    textfill = '#ffffff';\n\t  } else if (text < 0.85) {\n\t    fill = '#6baed6';\n\t  } else if (text < 0.95) {\n\t    fill = '#bdd7e7';\n\t  }\n\t\n\t  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\t}\n\t\n\tfunction draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill) {\n\t  context.font = fontsize + \"px Arial\";\n\t  context.fillStyle = fill;\n\t  context.fillRect(x, y - 10, col_width, 14);\n\t  context.textAlign = \"center\";\n\t  context.fillStyle = textfill;\n\t  context.fillText(text, x + (col_width / 2), y);\n\t}\n\t\n\tfunction draw_column_divider(inst, opts) {\n\t  var div_x = opts.ralign ? opts.x + inst.zoomed_column : opts.x,\n\t  num_x = opts.ralign ? opts.x + 2 : opts.x;\n\t  // draw column dividers\n\t  draw_ticks(inst.contexts[opts.context_num], div_x, inst.height - 30, -30 - inst.height, '#dddddd');\n\t  // draw top ticks\n\t  draw_ticks(inst.contexts[opts.context_num], div_x, 0, 5);\n\t  // draw column numbers\n\t  draw_column_number(inst.contexts[opts.context_num], num_x, 10, inst.zoomed_column, opts.column_num, opts.fontsize, opts.ralign);\n\t};\n\t\n\t\n\t\n\tfunction draw_insert_odds(context, x, height, col_width, text, fontsize) {\n\t  var y        = height - 20,\n\t  fill     = '#ffffff',\n\t  textfill = '#555555';\n\t\n\t  if (text > 0.1) {\n\t    fill     = '#d7301f';\n\t    textfill = '#ffffff';\n\t  } else if (text > 0.05) {\n\t    fill = '#fc8d59';\n\t  } else if (text > 0.03) {\n\t    fill = '#fdcc8a';\n\t  }\n\t\n\t  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\t\n\t  //draw vertical line to indicate where the insert would occur\n\t  if (text > 0.03) {\n\t    draw_ticks(context, x + col_width, height - 30, -30 - height, fill);\n\t  }\n\t}\n\tfunction draw_insert_length(context, x, y, col_width, text, fontsize) {\n\t  var fill = '#ffffff',\n\t  textfill = '#555555';\n\t\n\t  if (text > 9) {\n\t    fill     = '#d7301f';\n\t    textfill = '#ffffff';\n\t  } else if (text > 7) {\n\t    fill = '#fc8d59';\n\t  } else if (text > 4) {\n\t    fill = '#fdcc8a';\n\t  }\n\t  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\t}\n\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports) {\n\n\t/*\n\t * JavaScript Canvas to Blob 2.0.5\n\t * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n\t *\n\t * Copyright 2012, Sebastian Tschan\n\t * https://blueimp.net\n\t *\n\t * Licensed under the MIT license:\n\t * http://www.opensource.org/licenses/MIT\n\t *\n\t * Based on stackoverflow user Stoive's code snippet:\n\t * http://stackoverflow.com/q/4998908\n\t */\n\tvar CanvasPrototype = window.HTMLCanvasElement &&\n\twindow.HTMLCanvasElement.prototype,\n\t  hasBlobConstructor = window.Blob && (function () {\n\t    try {\n\t      return Boolean(new Blob());\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }()),\n\t  hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&\n\t  (function () {\n\t    try {\n\t      return new Blob([new Uint8Array(100)]).size === 100;\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }()),\n\t  BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\n\t  window.MozBlobBuilder || window.MSBlobBuilder,\n\t  dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&\n\t  window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n\t    var byteString,\n\t    arrayBuffer,\n\t    intArray,\n\t      i,\n\t      mimeString,\n\t        bb;\n\t    if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n\t      // Convert base64 to raw binary data held in a string:\n\t      byteString = atob(dataURI.split(',')[1]);\n\t    } else {\n\t      // Convert base64/URLEncoded data component to raw binary data:\n\t      byteString = decodeURIComponent(dataURI.split(',')[1]);\n\t    }\n\t    // Write the bytes of the string to an ArrayBuffer:\n\t    arrayBuffer = new ArrayBuffer(byteString.length);\n\t    intArray = new Uint8Array(arrayBuffer);\n\t    for (i = 0; i < byteString.length; i += 1) {\n\t      intArray[i] = byteString.charCodeAt(i);\n\t    }\n\t    // Separate out the mime component:\n\t    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\t    // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n\t    if (hasBlobConstructor) {\n\t      return new Blob(\n\t          [hasArrayBufferViewSupport ? intArray : arrayBuffer],\n\t          {type: mimeString}\n\t          );\n\t    }\n\t    bb = new BlobBuilder();\n\t    bb.append(arrayBuffer);\n\t    return bb.getBlob(mimeString);\n\t  };\n\tif (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n\t  if (CanvasPrototype.mozGetAsFile) {\n\t    CanvasPrototype.toBlob = function (callback, type, quality) {\n\t      if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n\t        callback(dataURLtoBlob(this.toDataURL(type, quality)));\n\t      } else {\n\t        callback(this.mozGetAsFile('blob', type));\n\t      }\n\t    };\n\t  } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n\t    CanvasPrototype.toBlob = function (callback, type, quality) {\n\t      callback(dataURLtoBlob(this.toDataURL(type, quality)));\n\t    };\n\t  }\n\t}\n\t\n\tmodule.exports = dataURLtoBlob;\n\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* FileSaver.js\n\t *  A saveAs() FileSaver implementation.\n\t *  2014-05-27\n\t *\n\t *  By Eli Grey, http://eligrey.com\n\t *  License: X11/MIT\n\t *    See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n\t */\n\t\n\t/*global self */\n\t/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\t\n\t/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\t\n\tvar saveAs = saveAs\n\t  // IE 10+ (native saveAs)\n\t  || (typeof navigator !== \"undefined\" &&\n\t      navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator))\n\t  // Everyone else\n\t  || (function(view) {\n\t\t\"use strict\";\n\t\t// IE <10 is explicitly unsupported\n\t\tif (typeof navigator !== \"undefined\" &&\n\t\t    /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\t\treturn;\n\t\t}\n\t\tvar\n\t\t\t  doc = view.document\n\t\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t\t, get_URL = function() {\n\t\t\t\treturn view.URL || view.webkitURL || view;\n\t\t\t}\n\t\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t\t, can_use_save_link = !view.externalHost && \"download\" in save_link\n\t\t\t, click = function(node) {\n\t\t\t\tvar event = doc.createEvent(\"MouseEvents\");\n\t\t\t\tevent.initMouseEvent(\n\t\t\t\t\t\"click\", true, false, view, 0, 0, 0, 0, 0\n\t\t\t\t\t, false, false, false, false, 0, null\n\t\t\t\t);\n\t\t\t\tnode.dispatchEvent(event);\n\t\t\t}\n\t\t\t, webkit_req_fs = view.webkitRequestFileSystem\n\t\t\t, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n\t\t\t, throw_outside = function(ex) {\n\t\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\t\tthrow ex;\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t\t, fs_min_size = 0\n\t\t\t, deletion_queue = []\n\t\t\t, process_deletion_queue = function() {\n\t\t\t\tvar i = deletion_queue.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvar file = deletion_queue[i];\n\t\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t\t} else { // file is a File\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdeletion_queue.length = 0; // clear queue\n\t\t\t}\n\t\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\t\tevent_types = [].concat(event_types);\n\t\t\t\tvar i = event_types.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t, FileSaver = function(blob, name) {\n\t\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\t\tvar\n\t\t\t\t\t  filesaver = this\n\t\t\t\t\t, type = blob.type\n\t\t\t\t\t, blob_changed = false\n\t\t\t\t\t, object_url\n\t\t\t\t\t, target_view\n\t\t\t\t\t, get_object_url = function() {\n\t\t\t\t\t\tvar object_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t\tdeletion_queue.push(object_url);\n\t\t\t\t\t\treturn object_url;\n\t\t\t\t\t}\n\t\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t\t}\n\t\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t\t, fs_error = function() {\n\t\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\t\tif (blob_changed || !object_url) {\n\t\t\t\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (target_view) {\n\t\t\t\t\t\t\ttarget_view.location.href = object_url;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.open(object_url, \"_blank\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t}\n\t\t\t\t\t, abortable = function(func) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tif (filesaver.readyState !== filesaver.DONE) {\n\t\t\t\t\t\t\t\treturn func.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t, create_if_not_found = {create: true, exclusive: false}\n\t\t\t\t\t, slice\n\t\t\t\t;\n\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\tif (!name) {\n\t\t\t\t\tname = \"download\";\n\t\t\t\t}\n\t\t\t\tif (can_use_save_link) {\n\t\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Object and web filesystem URLs have a problem saving in Google Chrome when\n\t\t\t\t// viewed in a tab, so I force save with application/octet-stream\n\t\t\t\t// http://code.google.com/p/chromium/issues/detail?id=91158\n\t\t\t\tif (view.chrome && type && type !== force_saveable_type) {\n\t\t\t\t\tslice = blob.slice || blob.webkitSlice;\n\t\t\t\t\tblob = slice.call(blob, 0, blob.size, force_saveable_type);\n\t\t\t\t\tblob_changed = true;\n\t\t\t\t}\n\t\t\t\t// Since I can't be sure that the guessed media type will trigger a download\n\t\t\t\t// in WebKit, I append .download to the filename.\n\t\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=65440\n\t\t\t\tif (webkit_req_fs && name !== \"download\") {\n\t\t\t\t\tname += \".download\";\n\t\t\t\t}\n\t\t\t\tif (type === force_saveable_type || webkit_req_fs) {\n\t\t\t\t\ttarget_view = view;\n\t\t\t\t}\n\t\t\t\tif (!req_fs) {\n\t\t\t\t\tfs_error();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfs_min_size += blob.size;\n\t\t\t\treq_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n\t\t\t\t\tfs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n\t\t\t\t\t\tvar save = function() {\n\t\t\t\t\t\t\tdir.getFile(name, create_if_not_found, abortable(function(file) {\n\t\t\t\t\t\t\t\tfile.createWriter(abortable(function(writer) {\n\t\t\t\t\t\t\t\t\twriter.onwriteend = function(event) {\n\t\t\t\t\t\t\t\t\t\ttarget_view.location.href = file.toURL();\n\t\t\t\t\t\t\t\t\t\tdeletion_queue.push(file);\n\t\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\t\tdispatch(filesaver, \"writeend\", event);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\twriter.onerror = function() {\n\t\t\t\t\t\t\t\t\t\tvar error = writer.error;\n\t\t\t\t\t\t\t\t\t\tif (error.code !== error.ABORT_ERR) {\n\t\t\t\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\"writestart progress write abort\".split(\" \").forEach(function(event) {\n\t\t\t\t\t\t\t\t\t\twriter[\"on\" + event] = filesaver[\"on\" + event];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\twriter.write(blob);\n\t\t\t\t\t\t\t\t\tfilesaver.abort = function() {\n\t\t\t\t\t\t\t\t\t\twriter.abort();\n\t\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.WRITING;\n\t\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tdir.getFile(name, {create: false}, abortable(function(file) {\n\t\t\t\t\t\t\t// delete file if it already exists\n\t\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t}), abortable(function(ex) {\n\t\t\t\t\t\t\tif (ex.code === ex.NOT_FOUND_ERR) {\n\t\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}), fs_error);\n\t\t\t\t}), fs_error);\n\t\t\t}\n\t\t\t, FS_proto = FileSaver.prototype\n\t\t\t, saveAs = function(blob, name) {\n\t\t\t\treturn new FileSaver(blob, name);\n\t\t\t}\n\t\t;\n\t\tFS_proto.abort = function() {\n\t\t\tvar filesaver = this;\n\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\tdispatch(filesaver, \"abort\");\n\t\t};\n\t\tFS_proto.readyState = FS_proto.INIT = 0;\n\t\tFS_proto.WRITING = 1;\n\t\tFS_proto.DONE = 2;\n\t\n\t\tFS_proto.error =\n\t\tFS_proto.onwritestart =\n\t\tFS_proto.onprogress =\n\t\tFS_proto.onwrite =\n\t\tFS_proto.onabort =\n\t\tFS_proto.onerror =\n\t\tFS_proto.onwriteend =\n\t\t\tnull;\n\t\n\t\tview.addEventListener(\"unload\", process_deletion_queue, false);\n\t\tsaveAs.unload = function() {\n\t\t\tprocess_deletion_queue();\n\t\t\tview.removeEventListener(\"unload\", process_deletion_queue, false);\n\t\t};\n\t\treturn saveAs;\n\t}(\n\t\t   typeof self !== \"undefined\" && self\n\t\t|| typeof window !== \"undefined\" && window\n\t\t|| this.content\n\t));\n\t// `self` is undefined in Firefox for Android content script context\n\t// while `this` is nsIContentFrameMessageManager\n\t// with an attribute `content` that corresponds to the window\n\t\n\tvar amdDefine = window.define;\n\tif( typeof amdDefine === \"undefined\" && (typeof window.almond !== \"undefined\" \n\t    && \"define\" in window.almond )){\n\t  amdDefine = window.almond.define;\n\t}\n\t\n\tif (typeof module !== \"undefined\" && module !== null) {\n\t  module.exports = saveAs;\n\t} else if ((typeof amdDefine !== \"undefined\" && amdDefine !== null) && (amdDefine.amd != null)) {\n\t  amdDefine(\"saveAs\",[], function() {\n\t    return saveAs;\n\t  });\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40)(module)))\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(111)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".biojs_msa_stage{cursor:default;line-height:normal}.biojs_msa_seqblock{cursor:move}.biojs_msa_layer{display:block;white-space:nowrap}.biojs_msa_labels{color:#000;display:inline-block;cursor:pointer;vertical-align:middle;overflow:hidden;text-overflow:clip}.biojs_msa_header,.biojs_msa_labels{white-space:nowrap;text-align:left}.biojs_msa_labelrow:before{content:\\\"\\\";display:inline-block;width:0;height:100%;vertical-align:middle}.biojs_msa_labelrow{height:100%}.biojs_msa_labelblock::-webkit-scrollbar,.biojs_msa_rheader::-webkit-scrollbar{//:none;width:7px;height:7px}.biojs_msa_labelblock::-webkit-scrollbar-thumb,.biojs_msa_rheader::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px hsla(0,0%,100%,.5)}.biojs_msa_marker{color:grey;white-space:nowrap;cursor:pointer}.biojs_msa_marker span{text-align:center}.smenubar .smenubar_alink{background:#3498db;background-image:linear-gradient(180deg,#3498db,#2980b9);border-radius:28px;font-family:Arial;color:#fff;padding:3px 10px;margin-left:10px;text-decoration:none}.smenubar{display:inline-block}.smenubar .smenubar_alink:hover{cursor:pointer}.smenu-dropdown{position:absolute;z-index:9999999;display:none}.smenu-dropdown .smenu-dropdown-menu,.smenu-dropdown .smenu-dropdown-panel{min-width:160px;max-width:360px;list-style:none;background:#fff;border:1px solid #ddd;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 5px 10px rgba(0,0,0,.2);overflow:visible;padding:4px 0;margin:0}.smenu-dropdown .smenu-dropdown-panel{padding:10px}.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-menu,.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-panel{max-height:358px;overflow:auto}.smenu-dropdown .smenu-dropdown-menu LI{list-style:none;padding:0;margin:0;line-height:18px}.smenu-dropdown .smenu-dropdown-menu LABEL,.smenu-dropdown .smenu-dropdown-menu LI{display:block;color:#555;text-decoration:none;line-height:18px;padding:3px 15px;white-space:nowrap}.smenu-dropdown .smenu-dropdown-menu LABEL:hover,.smenu-dropdown .smenu-dropdown-menu LI:hover{background-color:#08c;color:#fff;cursor:pointer}.smenu-dropdown .smenu-dropdown-menu .smenu-dropdown-divider{font-size:1px;border-top:1px solid #e5e5e5;padding:0;margin:5px 0}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {var win;\n\t\n\tif (typeof window !== \"undefined\") {\n\t    win = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    win = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    win = self;\n\t} else {\n\t    win = {};\n\t}\n\t\n\tmodule.exports = win;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = isFunction\n\t\n\tvar toString = Object.prototype.toString\n\t\n\tfunction isFunction (fn) {\n\t  if (!fn) {\n\t    return false\n\t  }\n\t  var string = toString.call(fn)\n\t  return string === '[object Function]' ||\n\t    (typeof fn === 'function' && string !== '[object RegExp]') ||\n\t    (typeof window !== 'undefined' &&\n\t     // IE8 and below\n\t     (fn === window.setTimeout ||\n\t      fn === window.alert ||\n\t      fn === window.confirm ||\n\t      fn === window.prompt))\n\t};\n\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(115);\n\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar MenuBuilder, jbone, view;\n\t\n\tjbone = __webpack_require__(7);\n\tview = __webpack_require__(3);\n\t\n\tmodule.exports = MenuBuilder = view.extend({\n\t  initialize: function(opts) {\n\t    this._nodes = [];\n\t    this.name = opts.name || \"\";\n\t    this.el.className += \"smenubar\";\n\t  },\n\t  render: function() {\n\t\n\t    // remove all childs\n\t    var fc = this.el.firstChild;\n\t    while (fc) {\n\t      this.el.removeChild(fc);\n\t      fc = this.el.firstChild;\n\t    }\n\t\n\t    // replace child\n\t    this.el.appendChild(this.buildDOM());\n\t  },\n\t  setName: function(name) {\n\t    this.name = name;\n\t  },\n\t  addNode: function(label, callback, opts) {\n\t    var style;\n\t    if (opts != null) {\n\t      style = opts.style;\n\t    }\n\t    if (this._nodes == null) {\n\t      this._nodes = [];\n\t    }\n\t    this._nodes.push({\n\t      label: label,\n\t      callback: callback,\n\t      style: style\n\t    });\n\t  },\n\t\n\t  getNode: function(label) {\n\t    var rNode = undefined;\n\t    this._nodes.forEach(function(el) {\n\t      if (el.label === label) {\n\t        rNode = el;\n\t      }\n\t    });\n\t    return rNode;\n\t  },\n\t\n\t  modifyNode: function(label, callback, opts) {\n\t    var node = this.getNode(label);\n\t    node.callback = callback || node.callback;\n\t    opts = opts || {};\n\t    node.style = opts.style || node.style;\n\t  },\n\t\n\t  renameNode: function(label, newLabel) {\n\t    var node = this.getNode(label);\n\t    node.label = newLabel || node.label;\n\t  },\n\t\n\t  removeNode: function(label) {\n\t    var node = this.getNode(label);\n\t    this._nodes.splice(this._nodes.indexOf(node), 1);\n\t  },\n\t\n\t  removeAllNodes: function() {\n\t    this._nodes = [];\n\t  },\n\t\n\t  buildDOM: function() {\n\t    var span = document.createElement(\"span\");\n\t    span.appendChild(this._buildM({\n\t      nodes: this._nodes,\n\t      name: this.name\n\t    }));\n\t    return span;\n\t  },\n\t  _buildM: function(data) {\n\t    var displayedButton, frag, key, li, node, style, _ref;\n\t    var nodes = data.nodes;\n\t    var name = data.name;\n\t    var menu = document.createElement(\"div\");\n\t    menu.className = \"smenu-dropdown smenu-dropdown-tip\";\n\t    menu.style.display = \"none\";\n\t\n\t    var menuUl = document.createElement(\"ul\");\n\t    menuUl.className = \"smenu-dropdown-menu\";\n\t\n\t    // currently we support one-level\n\t    for (var i = 0, _len = nodes.length; i < _len; i++) {\n\t      node = nodes[i];\n\t      li = document.createElement(\"li\");\n\t      li.textContent = node.label;\n\t      _ref = node.style;\n\t      for (key in _ref) {\n\t        style = _ref[key];\n\t        li.style[key] = style;\n\t      }\n\t      li.addEventListener(\"click\", node.callback);\n\t      this.trigger(\"new:node\", li);\n\t      menuUl.appendChild(li);\n\t    }\n\t    this.trigger(\"new:menu\", menuUl);\n\t    menu.appendChild(menuUl);\n\t\n\t    displayedButton = document.createElement(\"a\");\n\t    displayedButton.textContent = name;\n\t    displayedButton.className = \"smenubar_alink\";\n\t    this.trigger(\"new:button\", displayedButton);\n\t\n\t    // HACK to be able to hide the submenu\n\t    // listens globally for click events\n\t    jbone(displayedButton).on(\"click\", (function(_this) {\n\t      return function(e) {\n\t        _this._showMenu(e, menu, displayedButton);\n\t        return window.setTimeout(function() {\n\t          return jbone(document.body).one(\"click\", function(e) {\n\t            return menu.style.display = \"none\";\n\t          });\n\t        }, 5);\n\t      };\n\t    })(this));\n\t\n\t    frag = document.createDocumentFragment();\n\t    frag.appendChild(menu);\n\t    frag.appendChild(displayedButton);\n\t    return frag;\n\t  },\n\t\n\t  // internal method to display the lower menu on a click\n\t  _showMenu: function(e, menu, target) {\n\t    var rect;\n\t    menu.style.display = \"block\";\n\t    menu.style.position = \"absolute\";\n\t    rect = target.getBoundingClientRect();\n\t    menu.style.left = rect.left + \"px\";\n\t    menu.style.top = (rect.top + target.offsetHeight) + \"px\";\n\t  }\n\t});\n\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#00a35c\",\n\t  R: \"#00fc03\",\n\t  N: \"#00eb14\",\n\t  D: \"#00eb14\",\n\t  C: \"#0000ff\",\n\t  Q: \"#00f10e\",\n\t  E: \"#00f10e\",\n\t  G: \"#009d62\",\n\t  H: \"#00d52a\",\n\t  I: \"#0054ab\",\n\t  L: \"#007b84\",\n\t  K: \"#00ff00\",\n\t  M: \"#009768\",\n\t  F: \"#008778\",\n\t  P: \"#00e01f\",\n\t  S: \"#00d52a\",\n\t  T: \"#00db24\",\n\t  W: \"#00a857\",\n\t  Y: \"#00e619\",\n\t  V: \"#005fa0\",\n\t  B: \"#00eb14\",\n\t  X: \"#00b649\",\n\t  Z: \"#00f10e\"\n\t};\n\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#BBBBBB\",\n\t  B: \"grey\",\n\t  C: \"yellow\",\n\t  D: \"red\",\n\t  E: \"red\",\n\t  F: \"magenta\",\n\t  G: \"brown\",\n\t  H: \"#00FFFF\",\n\t  I: \"#BBBBBB\",\n\t  J: \"#fff\",\n\t  K: \"#00FFFF\",\n\t  L: \"#BBBBBB\",\n\t  M: \"#BBBBBB\",\n\t  N: \"green\",\n\t  O: \"#fff\",\n\t  P: \"brown\",\n\t  Q: \"green\",\n\t  R: \"#00FFFF\",\n\t  S: \"green\",\n\t  T: \"green\",\n\t  U: \"#fff\",\n\t  V: \"#BBBBBB\",\n\t  W: \"magenta\",\n\t  X: \"grey\",\n\t  Y: \"magenta\",\n\t  Z: \"grey\",\n\t  Gap: \"grey\"\n\t};\n\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"orange\",\n\t  B: \"#fff\",\n\t  C: \"green\",\n\t  D: \"red\",\n\t  E: \"red\",\n\t  F: \"blue\",\n\t  G: \"orange\",\n\t  H: \"red\",\n\t  I: \"green\",\n\t  J: \"#fff\",\n\t  K: \"red\",\n\t  L: \"green\",\n\t  M: \"green\",\n\t  N: \"#fff\",\n\t  O: \"#fff\",\n\t  P: \"orange\",\n\t  Q: \"#fff\",\n\t  R: \"red\",\n\t  S: \"orange\",\n\t  T: \"orange\",\n\t  U: \"#fff\",\n\t  V: \"green\",\n\t  W: \"blue\",\n\t  X: \"#fff\",\n\t  Y: \"blue\",\n\t  Z: \"#fff\",\n\t  Gap: \"#fff\"\n\t};\n\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#80a0f0\",\n\t  R: \"#f01505\",\n\t  N: \"#00ff00\",\n\t  D: \"#c048c0\",\n\t  C: \"#f08080\",\n\t  Q: \"#00ff00\",\n\t  E: \"#c048c0\",\n\t  G: \"#f09048\",\n\t  H: \"#15a4a4\",\n\t  I: \"#80a0f0\",\n\t  L: \"#80a0f0\",\n\t  K: \"#f01505\",\n\t  M: \"#80a0f0\",\n\t  F: \"#80a0f0\",\n\t  P: \"#ffff00\",\n\t  S: \"#00ff00\",\n\t  T: \"#00ff00\",\n\t  W: \"#80a0f0\",\n\t  Y: \"#15a4a4\",\n\t  V: \"#80a0f0\",\n\t  B: \"#fff\",\n\t  X: \"#fff\",\n\t  Z: \"#fff\"\n\t};\n\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#e718e7\",\n\t  R: \"#6f906f\",\n\t  N: \"#1be41b\",\n\t  D: \"#778877\",\n\t  C: \"#23dc23\",\n\t  Q: \"#926d92\",\n\t  E: \"#ff00ff\",\n\t  G: \"#00ff00\",\n\t  H: \"#758a75\",\n\t  I: \"#8a758a\",\n\t  L: \"#ae51ae\",\n\t  K: \"#a05fa0\",\n\t  M: \"#ef10ef\",\n\t  F: \"#986798\",\n\t  P: \"#00ff00\",\n\t  S: \"#36c936\",\n\t  T: \"#47b847\",\n\t  W: \"#8a758a\",\n\t  Y: \"#21de21\",\n\t  V: \"#857a85\",\n\t  B: \"#49b649\",\n\t  X: \"#758a75\",\n\t  Z: \"#c936c9\"\n\t};\n\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#ad0052\",\n\t  B: \"#0c00f3\",\n\t  C: \"#c2003d\",\n\t  D: \"#0c00f3\",\n\t  E: \"#0c00f3\",\n\t  F: \"#cb0034\",\n\t  G: \"#6a0095\",\n\t  H: \"#1500ea\",\n\t  I: \"#ff0000\",\n\t  J: \"#fff\",\n\t  K: \"#0000ff\",\n\t  L: \"#ea0015\",\n\t  M: \"#b0004f\",\n\t  N: \"#0c00f3\",\n\t  O: \"#fff\",\n\t  P: \"#4600b9\",\n\t  Q: \"#0c00f3\",\n\t  R: \"#0000ff\",\n\t  S: \"#5e00a1\",\n\t  T: \"#61009e\",\n\t  U: \"#fff\",\n\t  V: \"#f60009\",\n\t  W: \"#5b00a4\",\n\t  X: \"#680097\",\n\t  Y: \"#4f00b0\",\n\t  Z: \"#0c00f3\"\n\t};\n\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar schemes = __webpack_require__(128);\n\tvar StaticSchemeClass = schemes.stat;\n\tvar DynSchemeClass = schemes.dyn;\n\t\n\tvar Buried = __webpack_require__(116);\n\tvar Cinema = __webpack_require__(117);\n\tvar Clustal = __webpack_require__(118);\n\tvar Clustal2 = __webpack_require__(119);\n\tvar Helix = __webpack_require__(120);\n\tvar Hydro = __webpack_require__(121);\n\tvar Lesk = __webpack_require__(123);\n\tvar Mae = __webpack_require__(124);\n\tvar Nucleotide = __webpack_require__(125);\n\tvar Purine = __webpack_require__(127);\n\tvar Strand = __webpack_require__(129);\n\tvar Taylor = __webpack_require__(130);\n\tvar Turn = __webpack_require__(131);\n\tvar Zappo = __webpack_require__(132);\n\t\n\tvar staticSchemes = {\n\t  buried: Buried,\n\t  buried_index: Buried,\n\t  cinema: Cinema,\n\t  clustal2: Clustal2,\n\t  clustal: Clustal,\n\t  helix: Helix,\n\t  helix_propensity: Helix,\n\t  hydro: Hydro,\n\t  lesk: Lesk,\n\t  mae: Mae,\n\t  nucleotide: Nucleotide,\n\t  purine: Purine,\n\t  purine_pyrimidine: Purine,\n\t  strand: Strand,\n\t  strand_propensity: Strand,\n\t  taylor: Taylor,\n\t  turn: Turn,\n\t  turn_propensity: Turn,\n\t  zappo: Zappo\n\t};\n\t\n\tvar pid = __webpack_require__(126);\n\t\n\tvar dynSchemes = {\n\t  pid: pid\n\t};\n\t\n\tvar Colors = function(opt){\n\t  this.maps = clone(staticSchemes);\n\t  this.dyn = clone(dynSchemes);\n\t  this.opt = opt;\n\t}\n\tmodule.exports = Colors;\n\t\n\tColors.getScheme = function(scheme){\n\t  return staticSchemes[scheme];\n\t}\n\tColors.prototype.getScheme = function(scheme) {\n\t  var color = this.maps[scheme];\n\t  if (color === undefined) {\n\t    color = {};\n\t    if(this.dyn[scheme] != undefined){\n\t      return new DynSchemeClass(this.dyn[scheme],this.opt);\n\t    }\n\t  }\n\t  return new StaticSchemeClass(color);\n\t};\n\t\n\tColors.prototype.addStaticScheme = function(name,scheme) {\n\t  this.maps[name] = scheme;\n\t}\n\t\n\tColors.prototype.addDynScheme = function(name,scheme) {\n\t  this.dyn[name] = scheme;\n\t}\n\t\n\t// small helper to clone an object\n\tfunction clone(obj) {\n\t  if (null == obj || \"object\" != typeof obj) return obj;\n\t  var copy = obj.constructor();\n\t  for (var attr in obj) {\n\t    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n\t  }\n\t  return copy;\n\t}\n\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" orange\",\n\t  B: \" #fff\",\n\t  C: \" green\",\n\t  D: \" red\",\n\t  E: \" red\",\n\t  F: \" green\",\n\t  G: \" orange\",\n\t  H: \" magenta\",\n\t  I: \" green\",\n\t  J: \" #fff\",\n\t  K: \" red\",\n\t  L: \" green\",\n\t  M: \" green\",\n\t  N: \" magenta\",\n\t  O: \" #fff\",\n\t  P: \" green\",\n\t  Q: \" magenta\",\n\t  R: \" red\",\n\t  S: \" orange\",\n\t  T: \" orange\",\n\t  U: \" #fff\",\n\t  V: \" green\",\n\t  W: \" green\",\n\t  X: \" #fff\",\n\t  Y: \" green\",\n\t  Z: \" #fff\",\n\t  Gap: \" #fff\"\n\t};\n\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" #77dd88\",\n\t  B: \" #fff\",\n\t  C: \" #99ee66\",\n\t  D: \" #55bb33\",\n\t  E: \" #55bb33\",\n\t  F: \" #9999ff\",\n\t  G: \" #77dd88\",\n\t  H: \" #5555ff\",\n\t  I: \" #66bbff\",\n\t  J: \" #fff\",\n\t  K: \" #ffcc77\",\n\t  L: \" #66bbff\",\n\t  M: \" #66bbff\",\n\t  N: \" #55bb33\",\n\t  O: \" #fff\",\n\t  P: \" #eeaaaa\",\n\t  Q: \" #55bb33\",\n\t  R: \" #ffcc77\",\n\t  S: \" #ff4455\",\n\t  T: \" #ff4455\",\n\t  U: \" #fff\",\n\t  V: \" #66bbff\",\n\t  W: \" #9999ff\",\n\t  X: \" #fff\",\n\t  Y: \" #9999ff\",\n\t  Z: \" #fff\",\n\t  Gap: \" #fff\"\n\t};\n\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" #64F73F\",\n\t  C: \" #FFB340\",\n\t  G: \" #EB413C\",\n\t  T: \" #3C88EE\",\n\t  U: \" #3C88EE\"\n\t};\n\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports) {\n\n\tvar pid;\n\tmodule.exports = pid = {};\n\t\n\t// calculating the conservation is expensive \n\t// we only want to do it once\n\tpid.init = function(){\n\t  this.cons = this.opt.conservation();\n\t}\n\t\n\tpid.run = function(letter,opts){\n\t  var cons = this.cons[opts.pos];\n\t  if(cons > 0.8){\n\t    return \"#6464ff\";\n\t  }else if(cons > 0.6){\n\t    return \"#9da5ff\";\n\t  }else if(cons > 0.4){\n\t    return \"#cccccc\";\n\t  }else{\n\t    return \"#ffffff\";\n\t  }\n\t}\n\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" #FF83FA\",\n\t  C: \" #40E0D0\",\n\t  G: \" #FF83FA\",\n\t  R: \" #FF83FA\",\n\t  T: \" #40E0D0\",\n\t  U: \" #40E0D0\",\n\t  Y: \" #40E0D0\"\n\t};\n\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports) {\n\n\tvar StaticSchemeClass = function(map){\n\t  this.defaultColor = \"#ffffff\";\n\t  this.type = \"static\";\n\t  this.map = map;\n\t  this.getColor = function(letter){\n\t    if(this.map[letter] !== undefined){\n\t      return this.map[letter]; \n\t    }else{\n\t      return this.defaultColor;\n\t    }\n\t  };\n\t};\n\t\n\tvar DynSchemeClass = function(fun,opt){\n\t  this.type = \"dyn\";\n\t  this.opt = opt;\n\t  // init\n\t  if(fun.init !== undefined){\n\t    fun.init.call(this);\n\t    this.getColor = fun.run;\n\t    this.reset = fun.init;\n\t  }else{\n\t    this.getColor = fun;\n\t  }\n\t};\n\tmodule.exports.stat = StaticSchemeClass;\n\tmodule.exports.dyn = DynSchemeClass;\n\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#5858a7\",\n\t  R: \"#6b6b94\",\n\t  N: \"#64649b\",\n\t  D: \"#2121de\",\n\t  C: \"#9d9d62\",\n\t  Q: \"#8c8c73\",\n\t  E: \"#0000ff\",\n\t  G: \"#4949b6\",\n\t  H: \"#60609f\",\n\t  I: \"#ecec13\",\n\t  L: \"#b2b24d\",\n\t  K: \"#4747b8\",\n\t  M: \"#82827d\",\n\t  F: \"#c2c23d\",\n\t  P: \"#2323dc\",\n\t  S: \"#4949b6\",\n\t  T: \"#9d9d62\",\n\t  W: \"#c0c03f\",\n\t  Y: \"#d3d32c\",\n\t  V: \"#ffff00\",\n\t  B: \"#4343bc\",\n\t  X: \"#797986\",\n\t  Z: \"#4747b8\"\n\t};\n\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#ccff00\",\n\t  R: \"#0000ff\",\n\t  N: \"#cc00ff\",\n\t  D: \"#ff0000\",\n\t  C: \"#ffff00\",\n\t  Q: \"#ff00cc\",\n\t  E: \"#ff0066\",\n\t  G: \"#ff9900\",\n\t  H: \"#0066ff\",\n\t  I: \"#66ff00\",\n\t  L: \"#33ff00\",\n\t  K: \"#6600ff\",\n\t  M: \"#00ff00\",\n\t  F: \"#00ff66\",\n\t  P: \"#ffcc00\",\n\t  S: \"#ff3300\",\n\t  T: \"#ff6600\",\n\t  W: \"#00ccff\",\n\t  Y: \"#00ffcc\",\n\t  V: \"#99ff00\",\n\t  B: \"#fff\",\n\t  X: \"#fff\",\n\t  Z: \"#fff\"\n\t};\n\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#2cd3d3\",\n\t  R: \"#708f8f\",\n\t  N: \"#ff0000\",\n\t  D: \"#e81717\",\n\t  C: \"#a85757\",\n\t  Q: \"#3fc0c0\",\n\t  E: \"#778888\",\n\t  G: \"#ff0000\",\n\t  H: \"#708f8f\",\n\t  I: \"#00ffff\",\n\t  L: \"#1ce3e3\",\n\t  K: \"#7e8181\",\n\t  M: \"#1ee1e1\",\n\t  F: \"#1ee1e1\",\n\t  P: \"#f60909\",\n\t  S: \"#e11e1e\",\n\t  T: \"#738c8c\",\n\t  W: \"#738c8c\",\n\t  Y: \"#9d6262\",\n\t  V: \"#07f8f8\",\n\t  B: \"#f30c0c\",\n\t  X: \"#7c8383\",\n\t  Z: \"#5ba4a4\"\n\t};\n\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#ffafaf\",\n\t  R: \"#6464ff\",\n\t  N: \"#00ff00\",\n\t  D: \"#ff0000\",\n\t  C: \"#ffff00\",\n\t  Q: \"#00ff00\",\n\t  E: \"#ff0000\",\n\t  G: \"#ff00ff\",\n\t  H: \"#6464ff\",\n\t  I: \"#ffafaf\",\n\t  L: \"#ffafaf\",\n\t  K: \"#6464ff\",\n\t  M: \"#ffafaf\",\n\t  F: \"#ffc800\",\n\t  P: \"#ff00ff\",\n\t  S: \"#00ff00\",\n\t  T: \"#00ff00\",\n\t  W: \"#ffc800\",\n\t  Y: \"#ffc800\",\n\t  V: \"#ffafaf\",\n\t  B: \"#fff\",\n\t  X: \"#fff\",\n\t  Z: \"#fff\"\n\t};\n\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== \"undefined\" && global) ||\n\t            (typeof self !== \"undefined\" && self) ||\n\t            window;\n\tvar apply = Function.prototype.apply;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) {\n\t  if (timeout) {\n\t    timeout.close();\n\t  }\n\t};\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(scope, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// setimmediate attaches itself to the global object\n\t__webpack_require__(134);\n\t// On some exotic environments, it's not clear which object `setimmediate` was\n\t// able to install onto.  Search each possibility in the same order as the\n\t// `setimmediate` library.\n\texports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n\t                       (typeof global !== \"undefined\" && global.setImmediate) ||\n\t                       (this && this.setImmediate);\n\texports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n\t                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n\t                         (this && this.clearImmediate);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n\t    \"use strict\";\n\t\n\t    if (global.setImmediate) {\n\t        return;\n\t    }\n\t\n\t    var nextHandle = 1; // Spec says greater than zero\n\t    var tasksByHandle = {};\n\t    var currentlyRunningATask = false;\n\t    var doc = global.document;\n\t    var registerImmediate;\n\t\n\t    function setImmediate(callback) {\n\t      // Callback can either be a function or a string\n\t      if (typeof callback !== \"function\") {\n\t        callback = new Function(\"\" + callback);\n\t      }\n\t      // Copy function arguments\n\t      var args = new Array(arguments.length - 1);\n\t      for (var i = 0; i < args.length; i++) {\n\t          args[i] = arguments[i + 1];\n\t      }\n\t      // Store and register the task\n\t      var task = { callback: callback, args: args };\n\t      tasksByHandle[nextHandle] = task;\n\t      registerImmediate(nextHandle);\n\t      return nextHandle++;\n\t    }\n\t\n\t    function clearImmediate(handle) {\n\t        delete tasksByHandle[handle];\n\t    }\n\t\n\t    function run(task) {\n\t        var callback = task.callback;\n\t        var args = task.args;\n\t        switch (args.length) {\n\t        case 0:\n\t            callback();\n\t            break;\n\t        case 1:\n\t            callback(args[0]);\n\t            break;\n\t        case 2:\n\t            callback(args[0], args[1]);\n\t            break;\n\t        case 3:\n\t            callback(args[0], args[1], args[2]);\n\t            break;\n\t        default:\n\t            callback.apply(undefined, args);\n\t            break;\n\t        }\n\t    }\n\t\n\t    function runIfPresent(handle) {\n\t        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n\t        // So if we're currently running a task, we'll need to delay this invocation.\n\t        if (currentlyRunningATask) {\n\t            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n\t            // \"too much recursion\" error.\n\t            setTimeout(runIfPresent, 0, handle);\n\t        } else {\n\t            var task = tasksByHandle[handle];\n\t            if (task) {\n\t                currentlyRunningATask = true;\n\t                try {\n\t                    run(task);\n\t                } finally {\n\t                    clearImmediate(handle);\n\t                    currentlyRunningATask = false;\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    function installNextTickImplementation() {\n\t        registerImmediate = function(handle) {\n\t            process.nextTick(function () { runIfPresent(handle); });\n\t        };\n\t    }\n\t\n\t    function canUsePostMessage() {\n\t        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n\t        // where `global.postMessage` means something completely different and can't be used for this purpose.\n\t        if (global.postMessage && !global.importScripts) {\n\t            var postMessageIsAsynchronous = true;\n\t            var oldOnMessage = global.onmessage;\n\t            global.onmessage = function() {\n\t                postMessageIsAsynchronous = false;\n\t            };\n\t            global.postMessage(\"\", \"*\");\n\t            global.onmessage = oldOnMessage;\n\t            return postMessageIsAsynchronous;\n\t        }\n\t    }\n\t\n\t    function installPostMessageImplementation() {\n\t        // Installs an event handler on `global` for the `message` event: see\n\t        // * https://developer.mozilla.org/en/DOM/window.postMessage\n\t        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\t\n\t        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n\t        var onGlobalMessage = function(event) {\n\t            if (event.source === global &&\n\t                typeof event.data === \"string\" &&\n\t                event.data.indexOf(messagePrefix) === 0) {\n\t                runIfPresent(+event.data.slice(messagePrefix.length));\n\t            }\n\t        };\n\t\n\t        if (global.addEventListener) {\n\t            global.addEventListener(\"message\", onGlobalMessage, false);\n\t        } else {\n\t            global.attachEvent(\"onmessage\", onGlobalMessage);\n\t        }\n\t\n\t        registerImmediate = function(handle) {\n\t            global.postMessage(messagePrefix + handle, \"*\");\n\t        };\n\t    }\n\t\n\t    function installMessageChannelImplementation() {\n\t        var channel = new MessageChannel();\n\t        channel.port1.onmessage = function(event) {\n\t            var handle = event.data;\n\t            runIfPresent(handle);\n\t        };\n\t\n\t        registerImmediate = function(handle) {\n\t            channel.port2.postMessage(handle);\n\t        };\n\t    }\n\t\n\t    function installReadyStateChangeImplementation() {\n\t        var html = doc.documentElement;\n\t        registerImmediate = function(handle) {\n\t            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n\t            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n\t            var script = doc.createElement(\"script\");\n\t            script.onreadystatechange = function () {\n\t                runIfPresent(handle);\n\t                script.onreadystatechange = null;\n\t                html.removeChild(script);\n\t                script = null;\n\t            };\n\t            html.appendChild(script);\n\t        };\n\t    }\n\t\n\t    function installSetTimeoutImplementation() {\n\t        registerImmediate = function(handle) {\n\t            setTimeout(runIfPresent, 0, handle);\n\t        };\n\t    }\n\t\n\t    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n\t    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n\t    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\t\n\t    // Don't get fooled by e.g. browserify environments.\n\t    if ({}.toString.call(global.process) === \"[object process]\") {\n\t        // For Node.js before 0.9\n\t        installNextTickImplementation();\n\t\n\t    } else if (canUsePostMessage()) {\n\t        // For non-IE10 modern browsers\n\t        installPostMessageImplementation();\n\t\n\t    } else if (global.MessageChannel) {\n\t        // For web workers, where supported\n\t        installMessageChannelImplementation();\n\t\n\t    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n\t        // For IE 6–8\n\t        installReadyStateChangeImplementation();\n\t\n\t    } else {\n\t        // For older browsers\n\t        installSetTimeoutImplementation();\n\t    }\n\t\n\t    attachTo.setImmediate = setImmediate;\n\t    attachTo.clearImmediate = clearImmediate;\n\t}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(51)))\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\tvar stylesInDom = {},\n\t\tmemoize = function(fn) {\n\t\t\tvar memo;\n\t\t\treturn function () {\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\t\treturn memo;\n\t\t\t};\n\t\t},\n\t\tisOldIE = memoize(function() {\n\t\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t\t}),\n\t\tgetHeadElement = memoize(function () {\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t\t}),\n\t\tsingletonElement = null,\n\t\tsingletonCounter = 0,\n\t\tstyleElementsInsertedAtTop = [];\n\t\n\tmodule.exports = function(list, options) {\n\t\tif(false) {\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t\t}\n\t\n\t\toptions = options || {};\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t\t// tags it will allow on a page\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\t\n\t\t// By default, add <style> tags to the bottom of <head>.\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\t\n\t\tvar styles = listToStyles(list);\n\t\taddStylesToDom(styles, options);\n\t\n\t\treturn function update(newList) {\n\t\t\tvar mayRemove = [];\n\t\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\t\tvar item = styles[i];\n\t\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\t\tdomStyle.refs--;\n\t\t\t\tmayRemove.push(domStyle);\n\t\t\t}\n\t\t\tif(newList) {\n\t\t\t\tvar newStyles = listToStyles(newList);\n\t\t\t\taddStylesToDom(newStyles, options);\n\t\t\t}\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\t\tvar domStyle = mayRemove[i];\n\t\t\t\tif(domStyle.refs === 0) {\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t\n\tfunction addStylesToDom(styles, options) {\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tif(domStyle) {\n\t\t\t\tdomStyle.refs++;\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t\t}\n\t\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar parts = [];\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction listToStyles(list) {\n\t\tvar styles = [];\n\t\tvar newStyles = {};\n\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\tvar item = list[i];\n\t\t\tvar id = item[0];\n\t\t\tvar css = item[1];\n\t\t\tvar media = item[2];\n\t\t\tvar sourceMap = item[3];\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\t\tif(!newStyles[id])\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\t\telse\n\t\t\t\tnewStyles[id].parts.push(part);\n\t\t}\n\t\treturn styles;\n\t}\n\t\n\tfunction insertStyleElement(options, styleElement) {\n\t\tvar head = getHeadElement();\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\t\tif (options.insertAt === \"top\") {\n\t\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t\t} else {\n\t\t\t\thead.appendChild(styleElement);\n\t\t\t}\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t\t} else if (options.insertAt === \"bottom\") {\n\t\t\thead.appendChild(styleElement);\n\t\t} else {\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t\t}\n\t}\n\t\n\tfunction removeStyleElement(styleElement) {\n\t\tstyleElement.parentNode.removeChild(styleElement);\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\t\tif(idx >= 0) {\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t\t}\n\t}\n\t\n\tfunction createStyleElement(options) {\n\t\tvar styleElement = document.createElement(\"style\");\n\t\tstyleElement.type = \"text/css\";\n\t\tinsertStyleElement(options, styleElement);\n\t\treturn styleElement;\n\t}\n\t\n\tfunction createLinkElement(options) {\n\t\tvar linkElement = document.createElement(\"link\");\n\t\tlinkElement.rel = \"stylesheet\";\n\t\tinsertStyleElement(options, linkElement);\n\t\treturn linkElement;\n\t}\n\t\n\tfunction addStyle(obj, options) {\n\t\tvar styleElement, update, remove;\n\t\n\t\tif (options.singleton) {\n\t\t\tvar styleIndex = singletonCounter++;\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t\t} else if(obj.sourceMap &&\n\t\t\ttypeof URL === \"function\" &&\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\t\ttypeof Blob === \"function\" &&\n\t\t\ttypeof btoa === \"function\") {\n\t\t\tstyleElement = createLinkElement(options);\n\t\t\tupdate = updateLink.bind(null, styleElement);\n\t\t\tremove = function() {\n\t\t\t\tremoveStyleElement(styleElement);\n\t\t\t\tif(styleElement.href)\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t\t};\n\t\t} else {\n\t\t\tstyleElement = createStyleElement(options);\n\t\t\tupdate = applyToTag.bind(null, styleElement);\n\t\t\tremove = function() {\n\t\t\t\tremoveStyleElement(styleElement);\n\t\t\t};\n\t\t}\n\t\n\t\tupdate(obj);\n\t\n\t\treturn function updateStyle(newObj) {\n\t\t\tif(newObj) {\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\t\treturn;\n\t\t\t\tupdate(obj = newObj);\n\t\t\t} else {\n\t\t\t\tremove();\n\t\t\t}\n\t\t};\n\t}\n\t\n\tvar replaceText = (function () {\n\t\tvar textStore = [];\n\t\n\t\treturn function (index, replacement) {\n\t\t\ttextStore[index] = replacement;\n\t\t\treturn textStore.filter(Boolean).join('\\n');\n\t\t};\n\t})();\n\t\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\t\tvar css = remove ? \"\" : obj.css;\n\t\n\t\tif (styleElement.styleSheet) {\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t\t} else {\n\t\t\tvar cssNode = document.createTextNode(css);\n\t\t\tvar childNodes = styleElement.childNodes;\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\t\tif (childNodes.length) {\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t\t} else {\n\t\t\t\tstyleElement.appendChild(cssNode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction applyToTag(styleElement, obj) {\n\t\tvar css = obj.css;\n\t\tvar media = obj.media;\n\t\n\t\tif(media) {\n\t\t\tstyleElement.setAttribute(\"media\", media)\n\t\t}\n\t\n\t\tif(styleElement.styleSheet) {\n\t\t\tstyleElement.styleSheet.cssText = css;\n\t\t} else {\n\t\t\twhile(styleElement.firstChild) {\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t\t}\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\n\t\t}\n\t}\n\t\n\tfunction updateLink(linkElement, obj) {\n\t\tvar css = obj.css;\n\t\tvar sourceMap = obj.sourceMap;\n\t\n\t\tif(sourceMap) {\n\t\t\t// http://stackoverflow.com/a/26603875\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t\t}\n\t\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\n\t\n\t\tvar oldSrc = linkElement.href;\n\t\n\t\tlinkElement.href = URL.createObjectURL(blob);\n\t\n\t\tif(oldSrc)\n\t\t\tURL.revokeObjectURL(oldSrc);\n\t}\n\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(110);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(135)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!./msa.css\", function() {\n\t\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!./msa.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(global, process, setImmediate) {/**\n\t * @module vow\n\t * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n\t * @version 0.4.20\n\t * @license\n\t * Dual licensed under the MIT and GPL licenses:\n\t *   * http://www.opensource.org/licenses/mit-license.php\n\t *   * http://www.gnu.org/licenses/gpl.html\n\t */\n\t\n\t(function(global) {\n\t\n\tvar undef,\n\t    nextTick = (function() {\n\t        var fns = [],\n\t            enqueueFn = function(fn) {\n\t                fns.push(fn);\n\t                return fns.length === 1;\n\t            },\n\t            callFns = function() {\n\t                var fnsToCall = fns, i = 0, len = fns.length;\n\t                fns = [];\n\t                while(i < len) {\n\t                    fnsToCall[i++]();\n\t                }\n\t            };\n\t\n\t        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n\t        if(MutationObserver) {\n\t            var num = 1,\n\t                node = document.createTextNode('');\n\t\n\t            new MutationObserver(callFns).observe(node, { characterData : true });\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && (node.data = (num *= -1));\n\t            };\n\t        }\n\t\n\t        if(typeof process === 'object' && process.nextTick) {\n\t            return function(fn) {\n\t                enqueueFn(fn) && process.nextTick(callFns);\n\t            };\n\t        }\n\t\n\t        if(typeof setImmediate === 'function') {\n\t            return function(fn) {\n\t                enqueueFn(fn) && setImmediate(callFns);\n\t            };\n\t        }\n\t\n\t        if(global.postMessage) {\n\t            var isPostMessageAsync = true;\n\t            if(global.attachEvent) {\n\t                var checkAsync = function() {\n\t                        isPostMessageAsync = false;\n\t                    };\n\t                global.attachEvent('onmessage', checkAsync);\n\t                global.postMessage('__checkAsync', '*');\n\t                global.detachEvent('onmessage', checkAsync);\n\t            }\n\t\n\t            if(isPostMessageAsync) {\n\t                var msg = '__promise' + Math.random() + '_' +new Date,\n\t                    onMessage = function(e) {\n\t                        if(e.data === msg) {\n\t                            e.stopPropagation && e.stopPropagation();\n\t                            callFns();\n\t                        }\n\t                    };\n\t\n\t                global.addEventListener?\n\t                    global.addEventListener('message', onMessage, true) :\n\t                    global.attachEvent('onmessage', onMessage);\n\t\n\t                return function(fn) {\n\t                    enqueueFn(fn) && global.postMessage(msg, '*');\n\t                };\n\t            }\n\t        }\n\t\n\t        var doc = global.document;\n\t        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n\t            var createScript = function() {\n\t                    var script = doc.createElement('script');\n\t                    script.onreadystatechange = function() {\n\t                        script.parentNode.removeChild(script);\n\t                        script = script.onreadystatechange = null;\n\t                        callFns();\n\t                };\n\t                (doc.documentElement || doc.body).appendChild(script);\n\t            };\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && createScript();\n\t            };\n\t        }\n\t\n\t        return function(fn) { // old browsers\n\t            enqueueFn(fn) && setTimeout(callFns, 0);\n\t        };\n\t    })(),\n\t    throwException = function(e) {\n\t        nextTick(function() {\n\t            throw e;\n\t        });\n\t    },\n\t    isFunction = function(obj) {\n\t        return typeof obj === 'function';\n\t    },\n\t    isObject = function(obj) {\n\t        return obj !== null && typeof obj === 'object';\n\t    },\n\t    toStr = Object.prototype.toString,\n\t    isArray = Array.isArray || function(obj) {\n\t        return toStr.call(obj) === '[object Array]';\n\t    },\n\t    getArrayKeys = function(arr) {\n\t        var res = [],\n\t            i = 0, len = arr.length;\n\t        while(i < len) {\n\t            res.push(i++);\n\t        }\n\t        return res;\n\t    },\n\t    getObjectKeys = Object.keys || function(obj) {\n\t        var res = [];\n\t        for(var i in obj) {\n\t            obj.hasOwnProperty(i) && res.push(i);\n\t        }\n\t        return res;\n\t    },\n\t    defineCustomErrorType = function(name) {\n\t        var res = function(message) {\n\t            this.name = name;\n\t            this.message = message;\n\t        };\n\t\n\t        res.prototype = new Error();\n\t\n\t        return res;\n\t    },\n\t    wrapOnFulfilled = function(onFulfilled, idx) {\n\t        return function(val) {\n\t            onFulfilled.call(this, val, idx);\n\t        };\n\t    },\n\t    emitUnhandledRejection = global.PromiseRejectionEvent?\n\t        function(reason, promise) {\n\t            new global.PromiseRejectionEvent(\n\t                'unhandledrejection',\n\t                {\n\t                    promise : promise,\n\t                    reason : reason\n\t                });\n\t        } :\n\t        typeof process === 'object' && process.emit?\n\t            function(reason, promise) {\n\t                process.emit('unhandledRejection', reason, promise);\n\t            } :\n\t            function() {};\n\t\n\t/**\n\t * @class Deferred\n\t * @exports vow:Deferred\n\t * @description\n\t * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @description\n\t * You can use `vow.defer()` instead of using this constructor.\n\t *\n\t * `new vow.Deferred()` gives the same result as `vow.defer()`.\n\t */\n\tvar Deferred = function() {\n\t    this._promise = new Promise();\n\t};\n\t\n\tDeferred.prototype = /** @lends Deferred.prototype */{\n\t    /**\n\t     * Returns the corresponding promise.\n\t     *\n\t     * @returns {vow:Promise}\n\t     */\n\t    promise : function() {\n\t        return this._promise;\n\t    },\n\t\n\t    /**\n\t     * Resolves the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.then(function(value) {\n\t     *     // value is \"'success'\" here\n\t     * });\n\t     *\n\t     * defer.resolve('success');\n\t     * ```\n\t     */\n\t    resolve : function(value) {\n\t        this._promise.isResolved() || this._promise._resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Rejects the corresponding promise with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.fail(function(reason) {\n\t     *     // reason is \"'something is wrong'\" here\n\t     * });\n\t     *\n\t     * defer.reject('something is wrong');\n\t     * ```\n\t     */\n\t    reject : function(reason) {\n\t        if(this._promise.isResolved()) {\n\t            return;\n\t        }\n\t\n\t        if(vow.isPromise(reason)) {\n\t            reason = reason.then(function(val) {\n\t                var defer = vow.defer();\n\t                defer.reject(val);\n\t                return defer.promise();\n\t            });\n\t            this._promise._resolve(reason);\n\t        }\n\t        else {\n\t            this._promise._reject(reason);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Notifies the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.progress(function(value) {\n\t     *     // value is \"'20%'\", \"'40%'\" here\n\t     * });\n\t     *\n\t     * defer.notify('20%');\n\t     * defer.notify('40%');\n\t     * ```\n\t     */\n\t    notify : function(value) {\n\t        this._promise.isResolved() || this._promise._notify(value);\n\t    }\n\t};\n\t\n\tvar PROMISE_STATUS = {\n\t    PENDING   : 0,\n\t    RESOLVED  : 1,\n\t    FULFILLED : 2,\n\t    REJECTED  : 3\n\t};\n\t\n\t/**\n\t * @class Promise\n\t * @exports vow:Promise\n\t * @description\n\t * The `Promise` class is used when you want to give to the caller something to subscribe to,\n\t * but not the ability to resolve or reject the deferred.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n\t * @description\n\t * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n\t * In other case you should use `vow.defer()` and `defer.promise()` methods.\n\t * @example\n\t * ```js\n\t * function fetchJSON(url) {\n\t *     return new vow.Promise(function(resolve, reject, notify) {\n\t *         var xhr = new XMLHttpRequest();\n\t *         xhr.open('GET', url);\n\t *         xhr.responseType = 'json';\n\t *         xhr.send();\n\t *         xhr.onload = function() {\n\t *             if(xhr.response) {\n\t *                 resolve(xhr.response);\n\t *             }\n\t *             else {\n\t *                 reject(new TypeError());\n\t *             }\n\t *         };\n\t *     });\n\t * }\n\t * ```\n\t */\n\tvar Promise = function(resolver) {\n\t    this._value = undef;\n\t    this._status = PROMISE_STATUS.PENDING;\n\t    this._shouldEmitUnhandledRejection = true;\n\t\n\t    this._fulfilledCallbacks = [];\n\t    this._rejectedCallbacks = [];\n\t    this._progressCallbacks = [];\n\t\n\t    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n\t        var _this = this,\n\t            resolverFnLen = resolver.length;\n\t\n\t        try {\n\t            resolver(\n\t                function(val) {\n\t                    _this.isResolved() || _this._resolve(val);\n\t                },\n\t                resolverFnLen > 1?\n\t                    function(reason) {\n\t                        _this.isResolved() || _this._reject(reason);\n\t                    } :\n\t                    undef,\n\t                resolverFnLen > 2?\n\t                    function(val) {\n\t                        _this.isResolved() || _this._notify(val);\n\t                    } :\n\t                    undef);\n\t        }\n\t        catch(e) {\n\t            this._reject(e);\n\t        }\n\t    }\n\t};\n\t\n\tPromise.prototype = /** @lends Promise.prototype */ {\n\t    /**\n\t     * Returns the value of the fulfilled promise or the reason in case of rejection.\n\t     *\n\t     * @returns {*}\n\t     */\n\t    valueOf : function() {\n\t        return this._value;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is resolved.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function() {\n\t        return this._status !== PROMISE_STATUS.PENDING;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is fulfilled.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function() {\n\t        return this._status === PROMISE_STATUS.FULFILLED;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is rejected.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function() {\n\t        return this._status === PROMISE_STATUS.REJECTED;\n\t    },\n\t\n\t    /**\n\t     * Adds reactions to the promise.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n\t     */\n\t    then : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        this._shouldEmitUnhandledRejection = false;\n\t        var defer = new Deferred();\n\t        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n\t     *\n\t     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    'catch' : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n\t     *\n\t     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a resolving reaction (for both fulfillment and rejection).\n\t     *\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(onResolved, ctx) {\n\t        var _this = this,\n\t            cb = function() {\n\t                return onResolved.call(this, _this);\n\t            };\n\t\n\t        return this.then(cb, cb, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a resolving reaction (for both fulfillment and rejection). The returned promise will be fullfiled with the same value or rejected with the same reason as the original promise.\n\t     *\n\t     * @param {Function} onFinalized Callback that will be invoked after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    'finally' : function(onFinalized, ctx) {\n\t        var _this = this,\n\t            cb = function() {\n\t                return onFinalized.call(this);\n\t            };\n\t        return this\n\t            .then(cb, cb, ctx)\n\t            .then(function() {\n\t                return _this;\n\t            });\n\t    },\n\t\n\t    /**\n\t     * Adds a progress reaction.\n\t     *\n\t     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(onProgress, ctx) {\n\t        return this.then(undef, undef, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n\t     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n\t     *     // arg1 is \"1\", arg2 is \"'two'\" here\n\t     * });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve('two');\n\t     * ```\n\t     */\n\t    spread : function(onFulfilled, onRejected, ctx) {\n\t        return this.then(\n\t            function(val) {\n\t                return onFulfilled.apply(this, val);\n\t            },\n\t            onRejected,\n\t            ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `then`, but terminates a chain of promises.\n\t     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer();\n\t     * defer.reject(Error('Internal error'));\n\t     * defer.promise().done(); // exception to be thrown\n\t     * ```\n\t     */\n\t    done : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        this\n\t            .then(onFulfilled, onRejected, onProgress, ctx)\n\t            .fail(throwException);\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n\t     * or immediately rejected if the promise is rejected.\n\t     *\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(delay) {\n\t        var timer,\n\t            promise = this.then(function(val) {\n\t                var defer = new Deferred();\n\t                timer = setTimeout(\n\t                    function() {\n\t                        defer.resolve(val);\n\t                    },\n\t                    delay);\n\t\n\t                return defer.promise();\n\t            });\n\t\n\t        promise.always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return promise;\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be rejected in `timeout` milliseconds\n\t     * if the promise is not resolved beforehand.\n\t     *\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promiseWithTimeout1 = defer.promise().timeout(50),\n\t     *     promiseWithTimeout2 = defer.promise().timeout(200);\n\t     *\n\t     * setTimeout(\n\t     *     function() {\n\t     *         defer.resolve('ok');\n\t     *     },\n\t     *     100);\n\t     *\n\t     * promiseWithTimeout1.fail(function(reason) {\n\t     *     // promiseWithTimeout to be rejected in 50ms\n\t     * });\n\t     *\n\t     * promiseWithTimeout2.then(function(value) {\n\t     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n\t     * });\n\t     * ```\n\t     */\n\t    timeout : function(timeout) {\n\t        var defer = new Deferred(),\n\t            timer = setTimeout(\n\t                function() {\n\t                    defer.reject(new vow.TimedOutError('timed out'));\n\t                },\n\t                timeout);\n\t\n\t        this.then(\n\t            function(val) {\n\t                defer.resolve(val);\n\t            },\n\t            function(reason) {\n\t                defer.reject(reason);\n\t            });\n\t\n\t        defer.promise().always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    _vow : true,\n\t\n\t    _resolve : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        if(val === this) {\n\t            this._reject(TypeError('Can\\'t resolve promise with itself'));\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.RESOLVED;\n\t\n\t        if(val && !!val._vow) { // shortpath for vow.Promise\n\t            if(val.isFulfilled()) {\n\t                this._fulfill(val.valueOf());\n\t            }\n\t            else if(val.isRejected()) {\n\t                val._shouldEmitUnhandledRejection = false;\n\t                this._reject(val.valueOf());\n\t            }\n\t            else {\n\t                val.then(\n\t                    this._fulfill,\n\t                    this._reject,\n\t                    this._notify,\n\t                    this);\n\t            }\n\t\n\t            return;\n\t        }\n\t\n\t        if(isObject(val) || isFunction(val)) {\n\t            var then;\n\t            try {\n\t                then = val.then;\n\t            }\n\t            catch(e) {\n\t                this._reject(e);\n\t                return;\n\t            }\n\t\n\t            if(isFunction(then)) {\n\t                var _this = this,\n\t                    isResolved = false;\n\t\n\t                try {\n\t                    then.call(\n\t                        val,\n\t                        function(val) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._resolve(val);\n\t                        },\n\t                        function(err) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._reject(err);\n\t                        },\n\t                        function(val) {\n\t                            _this._notify(val);\n\t                        });\n\t                }\n\t                catch(e) {\n\t                    isResolved || this._reject(e);\n\t                }\n\t\n\t                return;\n\t            }\n\t        }\n\t\n\t        this._fulfill(val);\n\t    },\n\t\n\t    _fulfill : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.FULFILLED;\n\t        this._value = val;\n\t\n\t        this._callCallbacks(this._fulfilledCallbacks, val);\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _reject : function(reason) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.REJECTED;\n\t        this._value = reason;\n\t\n\t        this._callCallbacks(this._rejectedCallbacks, reason);\n\t\n\t        if(!this._rejectedCallbacks.length) {\n\t            var _this = this;\n\t            nextTick(function() {\n\t                if(_this._shouldEmitUnhandledRejection) {\n\t                    emitUnhandledRejection(reason, _this);\n\t                }\n\t            });\n\t        }\n\t\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _notify : function(val) {\n\t        this._callCallbacks(this._progressCallbacks, val);\n\t    },\n\t\n\t    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n\t        if(onRejected && !isFunction(onRejected)) {\n\t            ctx = onRejected;\n\t            onRejected = undef;\n\t        }\n\t        else if(onProgress && !isFunction(onProgress)) {\n\t            ctx = onProgress;\n\t            onProgress = undef;\n\t        }\n\t\n\t        if(onRejected) {\n\t            this._shouldEmitUnhandledRejection = false;\n\t        }\n\t\n\t        var cb;\n\t\n\t        if(!this.isRejected()) {\n\t            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n\t            this.isFulfilled()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._fulfilledCallbacks.push(cb);\n\t        }\n\t\n\t        if(!this.isFulfilled()) {\n\t            cb = { defer : defer, fn : onRejected, ctx : ctx };\n\t            this.isRejected()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._rejectedCallbacks.push(cb);\n\t        }\n\t\n\t        if(this._status <= PROMISE_STATUS.RESOLVED) {\n\t            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n\t        }\n\t    },\n\t\n\t    _callCallbacks : function(callbacks, arg) {\n\t        var len = callbacks.length;\n\t        if(!len) {\n\t            return;\n\t        }\n\t\n\t        var isResolved = this.isResolved(),\n\t            isFulfilled = this.isFulfilled(),\n\t            isRejected = this.isRejected();\n\t\n\t        nextTick(function() {\n\t            var i = 0, cb, defer, fn;\n\t            while(i < len) {\n\t                cb = callbacks[i++];\n\t                defer = cb.defer;\n\t                fn = cb.fn;\n\t\n\t                if(fn) {\n\t                    var ctx = cb.ctx,\n\t                        res;\n\t                    try {\n\t                        res = ctx? fn.call(ctx, arg) : fn(arg);\n\t                    }\n\t                    catch(e) {\n\t                        defer.reject(e);\n\t                        continue;\n\t                    }\n\t\n\t                    isFulfilled || isRejected?\n\t                        defer.resolve(res) :\n\t                        defer.notify(res);\n\t                }\n\t                else if(isFulfilled) {\n\t                    defer.resolve(arg);\n\t                }\n\t                else if(isRejected) {\n\t                    defer.reject(arg);\n\t                }\n\t                else {\n\t                    defer.notify(arg);\n\t                }\n\t            }\n\t        });\n\t    }\n\t};\n\t\n\t/** @lends Promise */\n\tvar staticMethods = {\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return vow.cast(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    all : function(iterable) {\n\t        return vow.all(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled or rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    allSettled : function(iterable) {\n\t        return vow.allSettled(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    race : function(iterable) {\n\t        return vow.anyResolved(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        return vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        return vow.reject(reason);\n\t    }\n\t};\n\t\n\tfor(var prop in staticMethods) {\n\t    staticMethods.hasOwnProperty(prop) &&\n\t        (Promise[prop] = staticMethods[prop]);\n\t}\n\t\n\tvar vow = /** @exports vow */ {\n\t    Deferred : Deferred,\n\t\n\t    Promise : Promise,\n\t\n\t    /**\n\t     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n\t     * It's equivalent to `new vow.Deferred()`.\n\t     *\n\t     * @returns {vow:Deferred}\n\t     */\n\t    defer : function() {\n\t        return new Deferred();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.then`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.fail`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(value, onRejected, ctx) {\n\t        return vow.when(value, undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.always`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(value, onResolved, ctx) {\n\t        return vow.when(value).always(onResolved, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.progress`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(value, onProgress, ctx) {\n\t        return vow.when(value).progress(onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.spread`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    spread : function(value, onFulfilled, onRejected, ctx) {\n\t        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.done`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     */\n\t    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Checks whether the given `value` is a promise-like object\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * vow.isPromise('something'); // returns false\n\t     * vow.isPromise(vow.defer().promise()); // returns true\n\t     * vow.isPromise({ then : function() { }); // returns true\n\t     * ```\n\t     */\n\t    isPromise : function(value) {\n\t        return isObject(value) && isFunction(value.then);\n\t    },\n\t\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return value && !!value._vow?\n\t            value :\n\t            vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.valueOf`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {*}\n\t     */\n\t    valueOf : function(value) {\n\t        return value && isFunction(value.valueOf)? value.valueOf() : value;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isFulfilled`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function(value) {\n\t        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isRejected`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function(value) {\n\t        return value && isFunction(value.isRejected)? value.isRejected() : false;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isResolved`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function(value) {\n\t        return value && isFunction(value.isResolved)? value.isResolved() : true;\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        var res = vow.defer();\n\t        res.resolve(value);\n\t        return res.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been fulfilled with the given `value`.\n\t     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    fulfill : function(value) {\n\t        var defer = vow.defer(),\n\t            promise = defer.promise();\n\t\n\t        defer.resolve(value);\n\t\n\t        return promise.isFulfilled()?\n\t            promise :\n\t            promise.then(null, function(reason) {\n\t                return reason;\n\t            });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        var defer = vow.defer();\n\t        defer.reject(reason);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Invokes the given function `fn` with arguments `args`\n\t     *\n\t     * @param {Function} fn\n\t     * @param {...*} [args]\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var promise1 = vow.invoke(function(value) {\n\t     *         return value;\n\t     *     }, 'ok'),\n\t     *     promise2 = vow.invoke(function() {\n\t     *         throw Error();\n\t     *     });\n\t     *\n\t     * promise1.isFulfilled(); // true\n\t     * promise1.valueOf(); // 'ok'\n\t     * promise2.isRejected(); // true\n\t     * promise2.valueOf(); // instance of Error\n\t     * ```\n\t     */\n\t    invoke : function(fn, args) {\n\t        var len = Math.max(arguments.length - 1, 0),\n\t            callArgs;\n\t        if(len) { // optimization for V8\n\t            callArgs = Array(len);\n\t            var i = 0;\n\t            while(i < len) {\n\t                callArgs[i++] = arguments[i];\n\t            }\n\t        }\n\t\n\t        try {\n\t            return vow.resolve(callArgs?\n\t                fn.apply(global, callArgs) :\n\t                fn.call(global));\n\t        }\n\t        catch(e) {\n\t            return vow.reject(e);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * with array:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise(), 3])\n\t     *     .then(function(value) {\n\t     *          // value is \"[1, 2, 3]\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     *\n\t     * @example\n\t     * with object:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n\t     *     .then(function(value) {\n\t     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     */\n\t    all : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            len = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!len) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = len;\n\t        vow._forEach(\n\t            iterable,\n\t            function(value, idx) {\n\t                res[keys[idx]] = value;\n\t                if(!--i) {\n\t                    defer.resolve(res);\n\t                }\n\t            },\n\t            defer.reject,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n\t     *     promise1.isRejected(); // returns true\n\t     *     promise1.valueOf(); // returns \"'error'\"\n\t     *     promise2.isFulfilled(); // returns true\n\t     *     promise2.valueOf(); // returns \"'ok'\"\n\t     * });\n\t     *\n\t     * defer1.reject('error');\n\t     * defer2.resolve('ok');\n\t     * ```\n\t     */\n\t    allResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            i = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!i) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var onResolved = function() {\n\t                --i || defer.resolve(iterable);\n\t            };\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            onResolved,\n\t            onResolved,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    allSettled : function(iterable) {\n\t        return vow.allResolved(iterable).then(function() {\n\t            var isPromisesArray = isArray(iterable),\n\t                keys = isPromisesArray?\n\t                    getArrayKeys(iterable) :\n\t                    getObjectKeys(iterable),\n\t                res = isPromisesArray? [] : {},\n\t                len = keys.length, i = 0, key, value, item;\n\t\n\t            while(i < len) {\n\t                key = keys[i++];\n\t                promise = iterable[key];\n\t                value = promise.valueOf();\n\t                item = promise.isRejected()?\n\t                    { status : 'rejected', reason : value } :\n\t                    { status : 'fulfilled', value : value };\n\t\n\t                isPromisesArray?\n\t                    res.push(item) :\n\t                    res[key] = item;\n\t            }\n\t\n\t            return res;\n\t        });\n\t    },\n\t\n\t    allPatiently : function(iterable) {\n\t        return vow.allResolved(iterable).then(function() {\n\t            var isPromisesArray = isArray(iterable),\n\t                keys = isPromisesArray?\n\t                    getArrayKeys(iterable) :\n\t                    getObjectKeys(iterable),\n\t                rejectedPromises, fulfilledPromises,\n\t                len = keys.length, i = 0, key, promise;\n\t\n\t            if(!len) {\n\t                return isPromisesArray? [] : {};\n\t            }\n\t\n\t            while(i < len) {\n\t                key = keys[i++];\n\t                promise = iterable[key];\n\t                if(vow.isRejected(promise)) {\n\t                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n\t                    isPromisesArray?\n\t                        rejectedPromises.push(promise.valueOf()) :\n\t                        rejectedPromises[key] = promise.valueOf();\n\t                }\n\t                else if(!rejectedPromises) {\n\t                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n\t                }\n\t            }\n\t\n\t            if(rejectedPromises) {\n\t                throw rejectedPromises;\n\t            }\n\t\n\t            return fulfilledPromises;\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n\t     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    any : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = 0, reason;\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            function(e) {\n\t                i || (reason = e);\n\t                ++i === len && defer.reject(reason);\n\t            },\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    anyResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            defer.reject,\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.delay`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(value, delay) {\n\t        return vow.resolve(value).delay(delay);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.timeout`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     */\n\t    timeout : function(value, timeout) {\n\t        return vow.resolve(value).timeout(timeout);\n\t    },\n\t\n\t    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n\t        var len = keys? keys.length : promises.length,\n\t            i = 0;\n\t\n\t        while(i < len) {\n\t            vow.when(\n\t                promises[keys? keys[i] : i],\n\t                wrapOnFulfilled(onFulfilled, i),\n\t                onRejected,\n\t                onProgress,\n\t                ctx);\n\t            ++i;\n\t        }\n\t    },\n\t\n\t    TimedOutError : defineCustomErrorType('TimedOut')\n\t};\n\t\n\tvar defineAsGlobal = true;\n\tif(typeof module === 'object' && typeof module.exports === 'object') {\n\t    module.exports = vow;\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(typeof modules === 'object' && isFunction(modules.define)) {\n\t    modules.define('vow', function(provide) {\n\t        provide(vow);\n\t    });\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(true) {\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t        module.exports = vow;\n\t    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    defineAsGlobal = false;\n\t}\n\t\n\tdefineAsGlobal && (global.vow = vow);\n\t\n\t})(typeof window !== 'undefined'? window : global);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(51), __webpack_require__(133).setImmediate))\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {var win;\n\t\n\tif (typeof window !== \"undefined\") {\n\t    win = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    win = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    win = self;\n\t} else {\n\t    win = {};\n\t}\n\t\n\tmodule.exports = win;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = once\n\t\n\tonce.proto = once(function () {\n\t  Object.defineProperty(Function.prototype, 'once', {\n\t    value: function () {\n\t      return once(this)\n\t    },\n\t    configurable: true\n\t  })\n\t})\n\t\n\tfunction once (fn) {\n\t  var called = false\n\t  return function () {\n\t    if (called) return\n\t    called = true\n\t    return fn.apply(this, arguments)\n\t  }\n\t}\n\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = extend\n\t\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\t\n\tfunction extend() {\n\t    var target = {}\n\t\n\t    for (var i = 0; i < arguments.length; i++) {\n\t        var source = arguments[i]\n\t\n\t        for (var key in source) {\n\t            if (hasOwnProperty.call(source, key)) {\n\t                target[key] = source[key]\n\t            }\n\t        }\n\t    }\n\t\n\t    return target\n\t}\n\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./colorscheme\": 22,\n\t\t\"./colorscheme.js\": 22,\n\t\t\"./columns\": 23,\n\t\t\"./columns.js\": 23,\n\t\t\"./config\": 24,\n\t\t\"./config.js\": 24,\n\t\t\"./package\": 25,\n\t\t\"./package.js\": 25,\n\t\t\"./selection/Selection\": 8,\n\t\t\"./selection/Selection.js\": 8,\n\t\t\"./selection/SelectionCol\": 9,\n\t\t\"./selection/SelectionCol.js\": 9,\n\t\t\"./selection/index\": 41,\n\t\t\"./selection/index.js\": 41,\n\t\t\"./user\": 26,\n\t\t\"./user.js\": 26,\n\t\t\"./visOrdering\": 27,\n\t\t\"./visOrdering.js\": 27,\n\t\t\"./visibility\": 28,\n\t\t\"./visibility.js\": 28,\n\t\t\"./zoomer\": 29,\n\t\t\"./zoomer.js\": 29\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 141;\n\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./bmath\": 12,\n\t\t\"./bmath.js\": 12,\n\t\t\"./export\": 13,\n\t\t\"./export.js\": 13,\n\t\t\"./file\": 14,\n\t\t\"./file.js\": 14,\n\t\t\"./index\": 34,\n\t\t\"./index.js\": 34,\n\t\t\"./loader\": 15,\n\t\t\"./loader.js\": 15,\n\t\t\"./proxy\": 16,\n\t\t\"./proxy.js\": 16,\n\t\t\"./seqgen\": 35,\n\t\t\"./seqgen.js\": 35,\n\t\t\"./svg\": 10,\n\t\t\"./svg.js\": 10,\n\t\t\"./tree\": 36,\n\t\t\"./tree.js\": 36\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 142;\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/msa.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f3f4a7b41fb26ac0ec31","// trick to bundle the css\nrequire('./../css/msa.css')\nmodule.exports = require('./index')\n\n\n\n// WEBPACK FOOTER //\n// ./src/index_webpack.js","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define('underscore', factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (function () {\n    var current = global._;\n    var exports = global._ = factory();\n    exports.noConflict = function () { global._ = current; return exports; };\n  }()));\n}(this, (function () {\n  //     Underscore.js 1.13.1\n  //     https://underscorejs.org\n  //     (c) 2009-2021 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n  //     Underscore may be freely distributed under the MIT license.\n\n  // Current version.\n  var VERSION = '1.13.1';\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            Function('return this')() ||\n            {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // Modern feature detection.\n  var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n      supportsDataView = typeof DataView !== 'undefined';\n\n  // All **ECMAScript 5+** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create,\n      nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n  // Create references to these builtin functions because we override them.\n  var _isNaN = isNaN,\n      _isFinite = isFinite;\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  // The largest integer that can be represented exactly.\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the function’s\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6’s \"rest parameter\".\n  function restArguments(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  }\n\n  // Is a given variable an object?\n  function isObject(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n  // Is a given value equal to null?\n  function isNull(obj) {\n    return obj === null;\n  }\n\n  // Is a given variable undefined?\n  function isUndefined(obj) {\n    return obj === void 0;\n  }\n\n  // Is a given value a boolean?\n  function isBoolean(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  }\n\n  // Is a given value a DOM element?\n  function isElement(obj) {\n    return !!(obj && obj.nodeType === 1);\n  }\n\n  // Internal function for creating a `toString`-based type tester.\n  function tagTester(name) {\n    var tag = '[object ' + name + ']';\n    return function(obj) {\n      return toString.call(obj) === tag;\n    };\n  }\n\n  var isString = tagTester('String');\n\n  var isNumber = tagTester('Number');\n\n  var isDate = tagTester('Date');\n\n  var isRegExp = tagTester('RegExp');\n\n  var isError = tagTester('Error');\n\n  var isSymbol = tagTester('Symbol');\n\n  var isArrayBuffer = tagTester('ArrayBuffer');\n\n  var isFunction = tagTester('Function');\n\n  // Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n  // v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  var isFunction$1 = isFunction;\n\n  var hasObjectTag = tagTester('Object');\n\n  // In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n  // In IE 11, the most common among them, this problem also applies to\n  // `Map`, `WeakMap` and `Set`.\n  var hasStringTagBug = (\n        supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n      ),\n      isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n\n  var isDataView = tagTester('DataView');\n\n  // In IE 10 - Edge 13, we need a different heuristic\n  // to determine whether an object is a `DataView`.\n  function ie10IsDataView(obj) {\n    return obj != null && isFunction$1(obj.getInt8) && isArrayBuffer(obj.buffer);\n  }\n\n  var isDataView$1 = (hasStringTagBug ? ie10IsDataView : isDataView);\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native `Array.isArray`.\n  var isArray = nativeIsArray || tagTester('Array');\n\n  // Internal function to check whether `key` is an own property name of `obj`.\n  function has$1(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  }\n\n  var isArguments = tagTester('Arguments');\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  (function() {\n    if (!isArguments(arguments)) {\n      isArguments = function(obj) {\n        return has$1(obj, 'callee');\n      };\n    }\n  }());\n\n  var isArguments$1 = isArguments;\n\n  // Is a given object a finite number?\n  function isFinite$1(obj) {\n    return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n  }\n\n  // Is the given value `NaN`?\n  function isNaN$1(obj) {\n    return isNumber(obj) && _isNaN(obj);\n  }\n\n  // Predicate-generating function. Often useful outside of Underscore.\n  function constant(value) {\n    return function() {\n      return value;\n    };\n  }\n\n  // Common internal logic for `isArrayLike` and `isBufferLike`.\n  function createSizePropertyCheck(getSizeProperty) {\n    return function(collection) {\n      var sizeProperty = getSizeProperty(collection);\n      return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n    }\n  }\n\n  // Internal helper to generate a function to obtain property `key` from `obj`.\n  function shallowProperty(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  }\n\n  // Internal helper to obtain the `byteLength` property of an object.\n  var getByteLength = shallowProperty('byteLength');\n\n  // Internal helper to determine whether we should spend extensive checks against\n  // `ArrayBuffer` et al.\n  var isBufferLike = createSizePropertyCheck(getByteLength);\n\n  // Is a given value a typed array?\n  var typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\n  function isTypedArray(obj) {\n    // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n    // Otherwise, fall back on the above regular expression.\n    return nativeIsView ? (nativeIsView(obj) && !isDataView$1(obj)) :\n                  isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n  }\n\n  var isTypedArray$1 = supportsArrayBuffer ? isTypedArray : constant(false);\n\n  // Internal helper to obtain the `length` property of an object.\n  var getLength = shallowProperty('length');\n\n  // Internal helper to create a simple lookup structure.\n  // `collectNonEnumProps` used to depend on `_.contains`, but this led to\n  // circular imports. `emulatedSet` is a one-off solution that only works for\n  // arrays of strings.\n  function emulatedSet(keys) {\n    var hash = {};\n    for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n    return {\n      contains: function(key) { return hash[key]; },\n      push: function(key) {\n        hash[key] = true;\n        return keys.push(key);\n      }\n    };\n  }\n\n  // Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n  // be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n  // needed.\n  function collectNonEnumProps(obj, keys) {\n    keys = emulatedSet(keys);\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = isFunction$1(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has$1(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  function keys(obj) {\n    if (!isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has$1(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  }\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  function isEmpty(obj) {\n    if (obj == null) return true;\n    // Skip the more expensive `toString`-based type checks if `obj` has no\n    // `.length`.\n    var length = getLength(obj);\n    if (typeof length == 'number' && (\n      isArray(obj) || isString(obj) || isArguments$1(obj)\n    )) return length === 0;\n    return getLength(keys(obj)) === 0;\n  }\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  function isMatch(object, attrs) {\n    var _keys = keys(attrs), length = _keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = _keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  }\n\n  // If Underscore is called as a function, it returns a wrapped object that can\n  // be used OO-style. This wrapper holds altered versions of all functions added\n  // through `_.mixin`. Wrapped objects may be chained.\n  function _$1(obj) {\n    if (obj instanceof _$1) return obj;\n    if (!(this instanceof _$1)) return new _$1(obj);\n    this._wrapped = obj;\n  }\n\n  _$1.VERSION = VERSION;\n\n  // Extracts the result from a wrapped and chained object.\n  _$1.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxies for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _$1.prototype.valueOf = _$1.prototype.toJSON = _$1.prototype.value;\n\n  _$1.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // Internal function to wrap or shallow-copy an ArrayBuffer,\n  // typed array or DataView to a new view, reusing the buffer.\n  function toBufferView(bufferSource) {\n    return new Uint8Array(\n      bufferSource.buffer || bufferSource,\n      bufferSource.byteOffset || 0,\n      getByteLength(bufferSource)\n    );\n  }\n\n  // We use this string twice, so give it a name for minification.\n  var tagDataView = '[object DataView]';\n\n  // Internal recursive comparison function for `_.isEqual`.\n  function eq(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  }\n\n  // Internal recursive comparison function for `_.isEqual`.\n  function deepEq(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _$1) a = a._wrapped;\n    if (b instanceof _$1) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    // Work around a bug in IE 10 - Edge 13.\n    if (hasStringTagBug && className == '[object Object]' && isDataView$1(a)) {\n      if (!isDataView$1(b)) return false;\n      className = tagDataView;\n    }\n    switch (className) {\n      // These types are compared by value.\n      case '[object RegExp]':\n        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n      case '[object ArrayBuffer]':\n      case tagDataView:\n        // Coerce to typed array so we can fall through.\n        return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays && isTypedArray$1(a)) {\n        var byteLength = getByteLength(a);\n        if (byteLength !== getByteLength(b)) return false;\n        if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n        areArrays = true;\n    }\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(isFunction$1(aCtor) && aCtor instanceof aCtor &&\n                               isFunction$1(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var _keys = keys(a), key;\n      length = _keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = _keys[length];\n        if (!(has$1(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  // Perform a deep comparison to check if two objects are equal.\n  function isEqual(a, b) {\n    return eq(a, b);\n  }\n\n  // Retrieve all the enumerable property names of an object.\n  function allKeys(obj) {\n    if (!isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  }\n\n  // Since the regular `Object.prototype.toString` type tests don't work for\n  // some types in IE 11, we use a fingerprinting heuristic instead, based\n  // on the methods. It's not great, but it's the best we got.\n  // The fingerprint method lists are defined below.\n  function ie11fingerprint(methods) {\n    var length = getLength(methods);\n    return function(obj) {\n      if (obj == null) return false;\n      // `Map`, `WeakMap` and `Set` have no enumerable keys.\n      var keys = allKeys(obj);\n      if (getLength(keys)) return false;\n      for (var i = 0; i < length; i++) {\n        if (!isFunction$1(obj[methods[i]])) return false;\n      }\n      // If we are testing against `WeakMap`, we need to ensure that\n      // `obj` doesn't have a `forEach` method in order to distinguish\n      // it from a regular `Map`.\n      return methods !== weakMapMethods || !isFunction$1(obj[forEachName]);\n    };\n  }\n\n  // In the interest of compact minification, we write\n  // each string in the fingerprints only once.\n  var forEachName = 'forEach',\n      hasName = 'has',\n      commonInit = ['clear', 'delete'],\n      mapTail = ['get', hasName, 'set'];\n\n  // `Map`, `WeakMap` and `Set` each have slightly different\n  // combinations of the above sublists.\n  var mapMethods = commonInit.concat(forEachName, mapTail),\n      weakMapMethods = commonInit.concat(mapTail),\n      setMethods = ['add'].concat(commonInit, forEachName, hasName);\n\n  var isMap = isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n\n  var isWeakMap = isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n\n  var isSet = isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n\n  var isWeakSet = tagTester('WeakSet');\n\n  // Retrieve the values of an object's properties.\n  function values(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[_keys[i]];\n    }\n    return values;\n  }\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of `_.object` with one argument.\n  function pairs(obj) {\n    var _keys = keys(obj);\n    var length = _keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [_keys[i], obj[_keys[i]]];\n    }\n    return pairs;\n  }\n\n  // Invert the keys and values of an object. The values must be serializable.\n  function invert(obj) {\n    var result = {};\n    var _keys = keys(obj);\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      result[obj[_keys[i]]] = _keys[i];\n    }\n    return result;\n  }\n\n  // Return a sorted list of the function names available on the object.\n  function functions(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (isFunction$1(obj[key])) names.push(key);\n    }\n    return names.sort();\n  }\n\n  // An internal function for creating assigner functions.\n  function createAssigner(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  }\n\n  // Extend a given object with all the properties in passed-in object(s).\n  var extend = createAssigner(allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in\n  // object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  var extendOwn = createAssigner(keys);\n\n  // Fill in a given object with default properties.\n  var defaults = createAssigner(allKeys, true);\n\n  // Create a naked function reference for surrogate-prototype-swapping.\n  function ctor() {\n    return function(){};\n  }\n\n  // An internal function for creating a new object that inherits from another.\n  function baseCreate(prototype) {\n    if (!isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    var Ctor = ctor();\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  }\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  function create(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) extendOwn(result, props);\n    return result;\n  }\n\n  // Create a (shallow-cloned) duplicate of an object.\n  function clone(obj) {\n    if (!isObject(obj)) return obj;\n    return isArray(obj) ? obj.slice() : extend({}, obj);\n  }\n\n  // Invokes `interceptor` with the `obj` and then returns `obj`.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  function tap(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  }\n\n  // Normalize a (deep) property `path` to array.\n  // Like `_.iteratee`, this function can be customized.\n  function toPath$1(path) {\n    return isArray(path) ? path : [path];\n  }\n  _$1.toPath = toPath$1;\n\n  // Internal wrapper for `_.toPath` to enable minification.\n  // Similar to `cb` for `_.iteratee`.\n  function toPath(path) {\n    return _$1.toPath(path);\n  }\n\n  // Internal function to obtain a nested property in `obj` along `path`.\n  function deepGet(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  }\n\n  // Get the value of the (deep) property on `path` from `object`.\n  // If any property in `path` does not exist or if the value is\n  // `undefined`, return `defaultValue` instead.\n  // The `path` is normalized through `_.toPath`.\n  function get(object, path, defaultValue) {\n    var value = deepGet(object, toPath(path));\n    return isUndefined(value) ? defaultValue : value;\n  }\n\n  // Shortcut function for checking if an object has a given property directly on\n  // itself (in other words, not on a prototype). Unlike the internal `has`\n  // function, this public version can also traverse nested properties.\n  function has(obj, path) {\n    path = toPath(path);\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (!has$1(obj, key)) return false;\n      obj = obj[key];\n    }\n    return !!length;\n  }\n\n  // Keep the identity function around for default iteratees.\n  function identity(value) {\n    return value;\n  }\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  function matcher(attrs) {\n    attrs = extendOwn({}, attrs);\n    return function(obj) {\n      return isMatch(obj, attrs);\n    };\n  }\n\n  // Creates a function that, when passed an object, will traverse that object’s\n  // properties down the given `path`, specified as an array of keys or indices.\n  function property(path) {\n    path = toPath(path);\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  }\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  function optimizeCb(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because we’re not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  }\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result — either `_.identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  function baseIteratee(value, context, argCount) {\n    if (value == null) return identity;\n    if (isFunction$1(value)) return optimizeCb(value, context, argCount);\n    if (isObject(value) && !isArray(value)) return matcher(value);\n    return property(value);\n  }\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only `argCount` argument.\n  function iteratee(value, context) {\n    return baseIteratee(value, context, Infinity);\n  }\n  _$1.iteratee = iteratee;\n\n  // The function we call internally to generate a callback. It invokes\n  // `_.iteratee` if overridden, otherwise `baseIteratee`.\n  function cb(value, context, argCount) {\n    if (_$1.iteratee !== iteratee) return _$1.iteratee(value, context);\n    return baseIteratee(value, context, argCount);\n  }\n\n  // Returns the results of applying the `iteratee` to each element of `obj`.\n  // In contrast to `_.map` it returns an object.\n  function mapObject(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = keys(obj),\n        length = _keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Predicate-generating function. Often useful outside of Underscore.\n  function noop(){}\n\n  // Generates a function for a given object that returns a given property.\n  function propertyOf(obj) {\n    if (obj == null) return noop;\n    return function(path) {\n      return get(obj, path);\n    };\n  }\n\n  // Run a function **n** times.\n  function times(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  }\n\n  // Return a random integer between `min` and `max` (inclusive).\n  function random(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  }\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  var now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // Internal helper to generate functions for escaping and unescaping strings\n  // to/from HTML interpolation.\n  function createEscaper(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  }\n\n  // Internal list of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n\n  // Function for escaping strings to HTML interpolation.\n  var _escape = createEscaper(escapeMap);\n\n  // Internal list of HTML entities for unescaping.\n  var unescapeMap = invert(escapeMap);\n\n  // Function for unescaping strings from HTML interpolation.\n  var _unescape = createEscaper(unescapeMap);\n\n  // By default, Underscore uses ERB-style template delimiters. Change the\n  // following template settings to use alternative delimiters.\n  var templateSettings = _$1.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `_.templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  function escapeChar(match) {\n    return '\\\\' + escapes[match];\n  }\n\n  // In order to prevent third-party code injection through\n  // `_.templateSettings.variable`, we test it against the following regular\n  // expression. It is intentionally a bit more liberal than just matching valid\n  // identifiers, but still prevents possible loopholes through defaults or\n  // destructuring assignment.\n  var bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  function template(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = defaults({}, settings, _$1.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    var argument = settings.variable;\n    if (argument) {\n      // Insure against third-party code injection. (CVE-2021-23358)\n      if (!bareIdentifier.test(argument)) throw new Error(\n        'variable is not a bare identifier: ' + argument\n      );\n    } else {\n      // If a variable is not specified, place data values in local scope.\n      source = 'with(obj||{}){\\n' + source + '}\\n';\n      argument = 'obj';\n    }\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(argument, '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _$1);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  }\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  function result(obj, path, fallback) {\n    path = toPath(path);\n    var length = path.length;\n    if (!length) {\n      return isFunction$1(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = isFunction$1(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  }\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  }\n\n  // Start chaining a wrapped Underscore object.\n  function chain(obj) {\n    var instance = _$1(obj);\n    instance._chain = true;\n    return instance;\n  }\n\n  // Internal function to execute `sourceFunc` bound to `context` with optional\n  // `args`. Determines whether to execute a function as a constructor or as a\n  // normal function.\n  function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (isObject(result)) return result;\n    return self;\n  }\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. `_` acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  var partial = restArguments(function(func, boundArgs) {\n    var placeholder = partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  partial.placeholder = _$1;\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally).\n  var bind = restArguments(function(func, context, args) {\n    if (!isFunction$1(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Internal helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var isArrayLike = createSizePropertyCheck(getLength);\n\n  // Internal implementation of a recursive `flatten` function.\n  function flatten$1(input, depth, strict, output) {\n    output = output || [];\n    if (!depth && depth !== 0) {\n      depth = Infinity;\n    } else if (depth <= 0) {\n      return output.concat(input);\n    }\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (isArray(value) || isArguments$1(value))) {\n        // Flatten current level of array or arguments object.\n        if (depth > 1) {\n          flatten$1(value, depth - 1, strict, output);\n          idx = output.length;\n        } else {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  }\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  var bindAll = restArguments(function(obj, keys) {\n    keys = flatten$1(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = bind(obj[key], obj);\n    }\n    return obj;\n  });\n\n  // Memoize an expensive function by storing its results.\n  function memoize(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has$1(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  }\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  var delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  var defer = partial(delay, _$1, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  function throttle(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var _now = now();\n      if (!previous && options.leading === false) previous = _now;\n      var remaining = wait - (_now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = _now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  }\n\n  // When a sequence of calls of the returned function ends, the argument\n  // function is triggered. The end of a sequence is defined by the `wait`\n  // parameter. If `immediate` is passed, the argument function will be\n  // triggered at the beginning of the sequence instead of at the end.\n  function debounce(func, wait, immediate) {\n    var timeout, previous, args, result, context;\n\n    var later = function() {\n      var passed = now() - previous;\n      if (wait > passed) {\n        timeout = setTimeout(later, wait - passed);\n      } else {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n        // This check is needed because `func` can recursively invoke `debounced`.\n        if (!timeout) args = context = null;\n      }\n    };\n\n    var debounced = restArguments(function(_args) {\n      context = this;\n      args = _args;\n      previous = now();\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n        if (immediate) result = func.apply(context, args);\n      }\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = args = context = null;\n    };\n\n    return debounced;\n  }\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  function wrap(func, wrapper) {\n    return partial(wrapper, func);\n  }\n\n  // Returns a negated version of the passed-in predicate.\n  function negate(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  function compose() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  }\n\n  // Returns a function that will only be executed on and after the Nth call.\n  function after(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  // Returns a function that will only be executed up to (but not including) the\n  // Nth call.\n  function before(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  }\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  var once = partial(before, 2);\n\n  // Returns the first key on an object that passes a truth test.\n  function findKey(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = keys(obj), key;\n    for (var i = 0, length = _keys.length; i < length; i++) {\n      key = _keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  }\n\n  // Internal function to generate `_.findIndex` and `_.findLastIndex`.\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a truth test.\n  var findIndex = createPredicateIndexFinder(1);\n\n  // Returns the last index on an array-like that passes a truth test.\n  var findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  function sortedIndex(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  }\n\n  // Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), isNaN$1);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  var indexOf = createIndexFinder(1, findIndex, sortedIndex);\n\n  // Return the position of the last occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  var lastIndexOf = createIndexFinder(-1, findLastIndex);\n\n  // Return the first value which passes a truth test.\n  function find(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  }\n\n  // Convenience version of a common use case of `_.find`: getting the first\n  // object containing specific `key:value` pairs.\n  function findWhere(obj, attrs) {\n    return find(obj, matcher(attrs));\n  }\n\n  // The cornerstone for collection functions, an `each`\n  // implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  function each(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var _keys = keys(obj);\n      for (i = 0, length = _keys.length; i < length; i++) {\n        iteratee(obj[_keys[i]], _keys[i], obj);\n      }\n    }\n    return obj;\n  }\n\n  // Return the results of applying the iteratee to each element.\n  function map(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  }\n\n  // Internal helper to create a reducing function, iterating left or right.\n  function createReduce(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var _keys = !isArrayLike(obj) && keys(obj),\n          length = (_keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[_keys ? _keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = _keys ? _keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  var reduce = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  var reduceRight = createReduce(-1);\n\n  // Return all the elements that pass a truth test.\n  function filter(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  }\n\n  // Return all the elements for which a truth test fails.\n  function reject(obj, predicate, context) {\n    return filter(obj, negate(cb(predicate)), context);\n  }\n\n  // Determine whether all of the elements pass a truth test.\n  function every(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  }\n\n  // Determine if at least one element in the object passes a truth test.\n  function some(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = _keys ? _keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  }\n\n  // Determine if the array or object contains a given item (using `===`).\n  function contains(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return indexOf(obj, item, fromIndex) >= 0;\n  }\n\n  // Invoke a method (with arguments) on every item in a collection.\n  var invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (isFunction$1(path)) {\n      func = path;\n    } else {\n      path = toPath(path);\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `_.map`: fetching a property.\n  function pluck(obj, key) {\n    return map(obj, property(key));\n  }\n\n  // Convenience version of a common use case of `_.filter`: selecting only\n  // objects containing specific `key:value` pairs.\n  function where(obj, attrs) {\n    return filter(obj, matcher(attrs));\n  }\n\n  // Return the maximum element (or element-based computation).\n  function max(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Return the minimum element (or element-based computation).\n  function min(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  }\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `_.map`.\n  function sample(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = values(obj);\n      return obj[random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? clone(obj) : values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  }\n\n  // Shuffle a collection.\n  function shuffle(obj) {\n    return sample(obj, Infinity);\n  }\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  function sortBy(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return pluck(map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  }\n\n  // An internal function used for aggregate \"group by\" operations.\n  function group(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  }\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  var groupBy = group(function(result, value, key) {\n    if (has$1(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n  // when you know that your index values will be unique.\n  var indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  var countBy = group(function(result, value, key) {\n    if (has$1(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Split a collection into two arrays: one whose elements all pass the given\n  // truth test, and one whose elements all do not pass the truth test.\n  var partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Safely create a real, live array from anything iterable.\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  function toArray(obj) {\n    if (!obj) return [];\n    if (isArray(obj)) return slice.call(obj);\n    if (isString(obj)) {\n      // Keep surrogate pair characters together.\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return map(obj, identity);\n    return values(obj);\n  }\n\n  // Return the number of elements in a collection.\n  function size(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : keys(obj).length;\n  }\n\n  // Internal `_.pick` helper function to determine whether `key` is an enumerable\n  // property name of `obj`.\n  function keyInObj(value, key, obj) {\n    return key in obj;\n  }\n\n  // Return a copy of the object only containing the allowed properties.\n  var pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (isFunction$1(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten$1(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the disallowed properties.\n  var omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (isFunction$1(iteratee)) {\n      iteratee = negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = map(flatten$1(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !contains(keys, key);\n      };\n    }\n    return pick(obj, iteratee, context);\n  });\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  function initial(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  }\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  function first(array, n, guard) {\n    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return initial(array, array.length - n);\n  }\n\n  // Returns everything but the first entry of the `array`. Especially useful on\n  // the `arguments` object. Passing an **n** will return the rest N values in the\n  // `array`.\n  function rest(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  }\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  function last(array, n, guard) {\n    if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return rest(array, Math.max(0, array.length - n));\n  }\n\n  // Trim out all falsy values from an array.\n  function compact(array) {\n    return filter(array, Boolean);\n  }\n\n  // Flatten out an array, either recursively (by default), or up to `depth`.\n  // Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\n  function flatten(array, depth) {\n    return flatten$1(array, depth, false);\n  }\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  var difference = restArguments(function(array, rest) {\n    rest = flatten$1(rest, true, true);\n    return filter(array, function(value){\n      return !contains(rest, value);\n    });\n  });\n\n  // Return a version of the array that does not contain the specified value(s).\n  var without = restArguments(function(array, otherArrays) {\n    return difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  function uniq(array, isSorted, iteratee, context) {\n    if (!isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  var union = restArguments(function(arrays) {\n    return uniq(flatten$1(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  function intersection(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  }\n\n  // Complement of zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  function unzip(array) {\n    var length = array && max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = pluck(array, index);\n    }\n    return result;\n  }\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  var zip = restArguments(unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of `_.pairs`.\n  function object(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  }\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](https://docs.python.org/library/functions.html#range).\n  function range(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  }\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  function chunk(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  }\n\n  // Helper function to continue chaining intermediate results.\n  function chainResult(instance, obj) {\n    return instance._chain ? _$1(obj).chain() : obj;\n  }\n\n  // Add your own custom functions to the Underscore object.\n  function mixin(obj) {\n    each(functions(obj), function(name) {\n      var func = _$1[name] = obj[name];\n      _$1.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_$1, args));\n      };\n    });\n    return _$1;\n  }\n\n  // Add all mutator `Array` functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _$1.prototype[name] = function() {\n      var obj = this._wrapped;\n      if (obj != null) {\n        method.apply(obj, arguments);\n        if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n          delete obj[0];\n        }\n      }\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor `Array` functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _$1.prototype[name] = function() {\n      var obj = this._wrapped;\n      if (obj != null) obj = method.apply(obj, arguments);\n      return chainResult(this, obj);\n    };\n  });\n\n  // Named Exports\n\n  var allExports = {\n    __proto__: null,\n    VERSION: VERSION,\n    restArguments: restArguments,\n    isObject: isObject,\n    isNull: isNull,\n    isUndefined: isUndefined,\n    isBoolean: isBoolean,\n    isElement: isElement,\n    isString: isString,\n    isNumber: isNumber,\n    isDate: isDate,\n    isRegExp: isRegExp,\n    isError: isError,\n    isSymbol: isSymbol,\n    isArrayBuffer: isArrayBuffer,\n    isDataView: isDataView$1,\n    isArray: isArray,\n    isFunction: isFunction$1,\n    isArguments: isArguments$1,\n    isFinite: isFinite$1,\n    isNaN: isNaN$1,\n    isTypedArray: isTypedArray$1,\n    isEmpty: isEmpty,\n    isMatch: isMatch,\n    isEqual: isEqual,\n    isMap: isMap,\n    isWeakMap: isWeakMap,\n    isSet: isSet,\n    isWeakSet: isWeakSet,\n    keys: keys,\n    allKeys: allKeys,\n    values: values,\n    pairs: pairs,\n    invert: invert,\n    functions: functions,\n    methods: functions,\n    extend: extend,\n    extendOwn: extendOwn,\n    assign: extendOwn,\n    defaults: defaults,\n    create: create,\n    clone: clone,\n    tap: tap,\n    get: get,\n    has: has,\n    mapObject: mapObject,\n    identity: identity,\n    constant: constant,\n    noop: noop,\n    toPath: toPath$1,\n    property: property,\n    propertyOf: propertyOf,\n    matcher: matcher,\n    matches: matcher,\n    times: times,\n    random: random,\n    now: now,\n    escape: _escape,\n    unescape: _unescape,\n    templateSettings: templateSettings,\n    template: template,\n    result: result,\n    uniqueId: uniqueId,\n    chain: chain,\n    iteratee: iteratee,\n    partial: partial,\n    bind: bind,\n    bindAll: bindAll,\n    memoize: memoize,\n    delay: delay,\n    defer: defer,\n    throttle: throttle,\n    debounce: debounce,\n    wrap: wrap,\n    negate: negate,\n    compose: compose,\n    after: after,\n    before: before,\n    once: once,\n    findKey: findKey,\n    findIndex: findIndex,\n    findLastIndex: findLastIndex,\n    sortedIndex: sortedIndex,\n    indexOf: indexOf,\n    lastIndexOf: lastIndexOf,\n    find: find,\n    detect: find,\n    findWhere: findWhere,\n    each: each,\n    forEach: each,\n    map: map,\n    collect: map,\n    reduce: reduce,\n    foldl: reduce,\n    inject: reduce,\n    reduceRight: reduceRight,\n    foldr: reduceRight,\n    filter: filter,\n    select: filter,\n    reject: reject,\n    every: every,\n    all: every,\n    some: some,\n    any: some,\n    contains: contains,\n    includes: contains,\n    include: contains,\n    invoke: invoke,\n    pluck: pluck,\n    where: where,\n    max: max,\n    min: min,\n    shuffle: shuffle,\n    sample: sample,\n    sortBy: sortBy,\n    groupBy: groupBy,\n    indexBy: indexBy,\n    countBy: countBy,\n    partition: partition,\n    toArray: toArray,\n    size: size,\n    pick: pick,\n    omit: omit,\n    first: first,\n    head: first,\n    take: first,\n    initial: initial,\n    last: last,\n    rest: rest,\n    tail: rest,\n    drop: rest,\n    compact: compact,\n    flatten: flatten,\n    without: without,\n    uniq: uniq,\n    unique: uniq,\n    union: union,\n    intersection: intersection,\n    difference: difference,\n    unzip: unzip,\n    transpose: unzip,\n    zip: zip,\n    object: object,\n    range: range,\n    chunk: chunk,\n    mixin: mixin,\n    'default': _$1\n  };\n\n  // Default Export\n\n  // Add all of the Underscore functions to the wrapper object.\n  var _ = mixin(allExports);\n  // Legacy Node.js API.\n  _._ = _;\n\n  return _;\n\n})));\n//# sourceMappingURL=underscore-umd.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/underscore/underscore-umd.js\n// module id = 1\n// module chunks = 0","module.exports.Model = require(\"./model\");\nmodule.exports.Collection = require(\"./collection\");\nmodule.exports.Events = require(\"backbone-events-standalone\");\nmodule.exports.extend = require(\"backbone-extend-standalone\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-thin/index.js\n// module id = 2\n// module chunks = 0","// this is the extracted view model from backbone\n// note that we inject jbone as jquery replacment\n// (and underscore directly)\n//\n// Views are almost more convention than they are actual code.\n//  MVC pattern\n// Backbone.View\n// -------------\n\nvar _ = require(\"underscore\");\nvar Events = require(\"backbone-events-standalone\");\nvar extend = require(\"backbone-extend-standalone\");\nvar $ = require('jbone');\n\n// Backbone Views are almost more convention than they are actual code. A View\n// is simply a JavaScript object that represents a logical chunk of UI in the\n// DOM. This might be a single item, an entire list, a sidebar or panel, or\n// even the surrounding frame which wraps your whole app. Defining a chunk of\n// UI as a **View** allows you to define your DOM events declaratively, without\n// having to worry about render order ... and makes it easy for the view to\n// react to specific changes in the state of your models.\n\n// Creating a Backbone.View creates its initial element outside of the DOM,\n// if an existing element is not provided...\nvar View =  function(options) {\n  this.cid = _.uniqueId('view');\n  options || (options = {});\n  _.extend(this, _.pick(options, viewOptions));\n  this._ensureElement();\n  this.initialize.apply(this, arguments);\n};\n\n// Cached regex to split keys for `delegate`.\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n// List of view options to be merged as properties.\nvar viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n// Set up all inheritable **Backbone.View** properties and methods.\n_.extend(View.prototype, Events, {\n\n  // The default `tagName` of a View's element is `\"div\"`.\n  tagName: 'div',\n\n  // jQuery delegate for element lookup, scoped to DOM elements within the\n  // current view. This should be preferred to global lookups where possible.\n  $: function(selector) {\n    return this.$el.find(selector);\n  },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n  initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n  render: function() {\n    return this;\n  },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n  remove: function() {\n    this._removeElement();\n    this.stopListening();\n    return this;\n  },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n  _removeElement: function() {\n    this.$el.remove();\n  },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n  setElement: function(element) {\n    this.undelegateEvents();\n    this._setElement(element);\n    this.delegateEvents();\n    return this;\n  },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n  _setElement: function(el) {\n    this.$el = el instanceof $ ? el : $(el);\n    this.el = this.$el[0];\n  },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n  delegateEvents: function(events) {\n    if (!(events || (events = _.result(this, 'events')))) return this;\n    this.undelegateEvents();\n    for (var key in events) {\n      var method = events[key];\n      if (!_.isFunction(method)) method = this[events[key]];\n      if (!method) continue;\n      var match = key.match(delegateEventSplitter);\n      this.delegate(match[1], match[2], _.bind(method, this));\n    }\n    return this;\n  },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n  delegate: function(eventName, selector, listener) {\n    this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n  },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n  undelegateEvents: function() {\n    if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n    return this;\n  },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n  undelegate: function(eventName, selector, listener) {\n    this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n  },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n  _createElement: function(tagName) {\n    return document.createElement(tagName);\n  },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n  _ensureElement: function() {\n    if (!this.el) {\n      var attrs = _.extend({}, _.result(this, 'attributes'));\n      if (this.id) attrs.id = _.result(this, 'id');\n      if (this.className) attrs['class'] = _.result(this, 'className');\n      this.setElement(this._createElement(_.result(this, 'tagName')));\n      this._setAttributes(attrs);\n    } else {\n      this.setElement(_.result(this, 'el'));\n    }\n  },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n  _setAttributes: function(attributes) {\n    this.$el.attr(attributes);\n  }\n\n});\n\n// setup inheritance\nView.extend = extend;\nmodule.exports = View;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-viewj/index.js\n// module id = 3\n// module chunks = 0","var MenuBuilder;\nvar builder = require(\"menu-builder\");\n\nmodule.exports = MenuBuilder = builder.extend({\n\n    buildDOM: function() {\n      this.on(\"new:node\", this.buildNode);\n      this.on(\"new:button\", this.buildButton);\n      this.on(\"new:menu\", this.buildMenu);\n      return builder.prototype.buildDOM.call(this);\n    },\n\n    buildNode: function(li) {\n      if ((this.g != null)) {\n        return li.style.lineHeight = this.g.menuconfig.get(\"menuItemLineHeight\");\n      }\n    },\n\n    buildButton: function(btn) {\n      if ((this.g != null)) {\n        btn.style.fontSize = this.g.menuconfig.get(\"menuFontsize\");\n        btn.style.marginLeft = this.g.menuconfig.get(\"menuMarginLeft\");\n        return btn.style.padding = this.g.menuconfig.get(\"menuPadding\");\n      }\n    },\n\n    buildMenu: function(menu) {\n      if ((this.g != null)) {\n        return menu.style.fontSize = this.g.menuconfig.get(\"menuItemFontsize\");\n      }\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/menubuilder.js","var _ = require('underscore');\nvar viewType = require(\"backbone-viewj\");\nvar pluginator;\n\n/**\n * Remove an element and provide a function that inserts it into its original position\n * @param element {Element} The element to be temporarily removed\n * @return {Function} A function that inserts the element into its original position\n **/\nfunction removeToInsertLater(element) {\n  var parentNode = element.parentNode;\n  var nextSibling = element.nextSibling;\n  parentNode.removeChild(element);\n  return function() {\n    if (nextSibling) {\n      parentNode.insertBefore(element, nextSibling);\n    } else {\n      parentNode.appendChild(element);\n    }\n  };\n}\n\nvar removeChilds = function (node) {\n    var last;\n    while (last = node.lastChild) node.removeChild(last);\n};\n\nmodule.exports = pluginator = viewType.extend({\n  renderSubviews: function() {\n    // it is faster to remove the entire element and replace it\n    // -> however this will lead to lost id,class and style props\n    var oldEl = this.el;\n\n    // it might be that the element is not on the DOM yet\n    var elOnDom = oldEl.parentNode != undefined;\n    if(elOnDom){\n      var insert = removeToInsertLater(oldEl)\n    }\n    removeChilds(oldEl);\n\n    var frag = document.createDocumentFragment();\n    var views = this._views();\n    var viewsSorted = _.sortBy(views, function(el) {\n      return el.ordering;\n    });\n    var view, node;\n    for (var i = 0; i <  viewsSorted.length; i++) {\n      view = viewsSorted[i];\n      view.render();\n      node = view.el;\n      if (node != null) {\n        frag.appendChild(node);\n      }\n    }\n\n    oldEl.appendChild(frag);\n    if(elOnDom){\n      insert();\n    }\n    return oldEl;\n  },\n  addView: function(key, view) {\n    var views = this._views();\n    if (view == null) {\n      throw \"Invalid plugin. \";\n    }\n    if (view.ordering == null) {\n      view.ordering = key;\n    }\n    return views[key] = view;\n  },\n  removeViews: function() {\n    var el, key;\n    var views = this._views();\n    for (key in views) {\n      el = views[key];\n      el.undelegateEvents();\n      el.unbind();\n      if (el.removeViews != null) {\n        el.removeViews();\n      }\n      el.remove();\n    }\n    return this.views = {};\n  },\n  removeView: function(key) {\n    var views = this._views();\n    views[key].remove();\n    return delete views[key];\n  },\n  getView: function(key) {\n    var views = this._views();\n    return views[key];\n  },\n  remove: function() {\n    this.removeViews();\n    return viewType.prototype.remove.apply(this);\n  },\n  _views: function() {\n    if (this.views == null) {\n      this.views = {};\n    }\n    return this.views;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-childs/index.js\n// module id = 5\n// module chunks = 0","var Utils = {};\n\n\n/*\nRemove an element and provide a function that inserts it into its original position\nhttps://developers.google.com/speed/articles/javascript-dom\n@param element {Element} The element to be temporarily removed\n@return {Function} A function that inserts the element into its original position\n */\n\nUtils.removeToInsertLater = function(element) {\n  var nextSibling, parentNode;\n  parentNode = element.parentNode;\n  nextSibling = element.nextSibling;\n  parentNode.removeChild(element);\n  return function() {\n    if (nextSibling) {\n      parentNode.insertBefore(element, nextSibling);\n    } else {\n      parentNode.appendChild(element);\n    }\n  };\n};\n\n\n/*\nfastest possible way to destroy all sub nodes (aka childs)\nhttp://jsperf.com/innerhtml-vs-removechild/15\n@param element {Element} The element for which all childs should be removed\n */\n\nUtils.removeAllChilds = function(element) {\n  var count;\n  count = 0;\n  while (element.firstChild) {\n    count++;\n    element.removeChild(element.firstChild);\n  }\n};\n\nmodule.exports = Utils;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dom-helper/index.js\n// module id = 6\n// module chunks = 0","/*!\n * jBone v1.2.1 - 2017-09-19 - Library for DOM manipulation\n *\n * http://jbone.js.org\n *\n * Copyright 2017 Alexey Kupriyanenko\n * Released under the MIT license.\n */\n\n(function (win) {\n\nvar\n// cache previous versions\n_$ = win.$,\n_jBone = win.jBone,\n\n// Quick match a standalone tag\nrquickSingleTag = /^<(\\w+)\\s*\\/?>$/,\n\n// A simple way to check for HTML strings\n// Prioritize #id over <tag> to avoid XSS via location.hash\nrquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,\n\n// Alias for function\nslice = [].slice,\nsplice = [].splice,\nkeys = Object.keys,\n\n// Alias for global variables\ndoc = win.document,\n\nisString = function(el) {\n    return typeof el === \"string\";\n},\nisObject = function(el) {\n    return el instanceof Object;\n},\nisFunction = function(el) {\n    return ({}).toString.call(el) === \"[object Function]\";\n},\nisArray = function(el) {\n    return Array.isArray(el);\n},\njBone = function(element, data) {\n    return new fn.init(element, data);\n},\nfn;\n\n// set previous values and return the instance upon calling the no-conflict mode\njBone.noConflict = function() {\n    win.$ = _$;\n    win.jBone = _jBone;\n\n    return jBone;\n};\n\nfn = jBone.fn = jBone.prototype = {\n    init: function(element, data) {\n        var elements, tag, wraper, fragment;\n\n        if (!element) {\n            return this;\n        }\n        if (isString(element)) {\n            // Create single DOM element\n            if (tag = rquickSingleTag.exec(element)) {\n                this[0] = doc.createElement(tag[1]);\n                this.length = 1;\n\n                if (isObject(data)) {\n                    this.attr(data);\n                }\n\n                return this;\n            }\n            // Create DOM collection\n            if ((tag = rquickExpr.exec(element)) && tag[1]) {\n                fragment = doc.createDocumentFragment();\n                wraper = doc.createElement(\"div\");\n                wraper.innerHTML = element;\n                while (wraper.lastChild) {\n                    fragment.appendChild(wraper.firstChild);\n                }\n                elements = slice.call(fragment.childNodes);\n\n                return jBone.merge(this, elements);\n            }\n            // Find DOM elements with querySelectorAll\n            if (jBone.isElement(data)) {\n                return jBone(data).find(element);\n            }\n\n            try {\n                elements = doc.querySelectorAll(element);\n\n                return jBone.merge(this, elements);\n            } catch (e) {\n                return this;\n            }\n        }\n        // Wrap DOMElement\n        if (element.nodeType) {\n            this[0] = element;\n            this.length = 1;\n\n            return this;\n        }\n        // Run function\n        if (isFunction(element)) {\n            return element();\n        }\n        // Return jBone element as is\n        if (element instanceof jBone) {\n            return element;\n        }\n\n        // Return element wrapped by jBone\n        return jBone.makeArray(element, this);\n    },\n\n    pop: [].pop,\n    push: [].push,\n    reverse: [].reverse,\n    shift: [].shift,\n    sort: [].sort,\n    splice: [].splice,\n    slice: [].slice,\n    indexOf: [].indexOf,\n    forEach: [].forEach,\n    unshift: [].unshift,\n    concat: [].concat,\n    join: [].join,\n    every: [].every,\n    some: [].some,\n    filter: [].filter,\n    map: [].map,\n    reduce: [].reduce,\n    reduceRight: [].reduceRight,\n    length: 0\n};\n\nfn.constructor = jBone;\n\nfn.init.prototype = fn;\n\njBone.setId = function(el) {\n    var jid = el.jid;\n\n    if (el === win) {\n        jid = \"window\";\n    } else if (el.jid === undefined) {\n        el.jid = jid = ++jBone._cache.jid;\n    }\n\n    if (!jBone._cache.events[jid]) {\n        jBone._cache.events[jid] = {};\n    }\n};\n\njBone.getData = function(el) {\n    el = el instanceof jBone ? el[0] : el;\n\n    var jid = el === win ? \"window\" : el.jid;\n\n    return {\n        jid: jid,\n        events: jBone._cache.events[jid]\n    };\n};\n\njBone.isElement = function(el) {\n    return el && el instanceof jBone || el instanceof HTMLElement || isString(el);\n};\n\njBone._cache = {\n    events: {},\n    jid: 0\n};\n\nfunction isArraylike(obj) {\n    var length = obj.length,\n        type = typeof obj;\n\n    if (isFunction(type) || obj === win) {\n        return false;\n    }\n\n    if (obj.nodeType === 1 && length) {\n        return true;\n    }\n\n    return isArray(type) || length === 0 ||\n        typeof length === \"number\" && length > 0 && (length - 1) in obj;\n}\n\nfn.pushStack = function(elems) {\n    var ret = jBone.merge(this.constructor(), elems);\n\n    return ret;\n};\n\njBone.merge = function(first, second) {\n    var l = second.length,\n        i = first.length,\n        j = 0;\n\n    while (j < l) {\n        first[i++] = second[j++];\n    }\n\n    first.length = i;\n\n    return first;\n};\n\njBone.contains = function(container, contained) {\n    return container.contains(contained);\n};\n\njBone.extend = function(target) {\n    var tg;\n\n    splice.call(arguments, 1).forEach(function(source) {\n        tg = target; //caching target for perf improvement\n\n        if (source) {\n            for (var prop in source) {\n                tg[prop] = source[prop];\n            }\n        }\n    });\n\n    return target;\n};\n\njBone.makeArray = function(arr, results) {\n    var ret = results || [];\n\n    if (arr !== null) {\n        if (isArraylike(arr)) {\n            jBone.merge(ret, isString(arr) ? [arr] : arr);\n        } else {\n            ret.push(arr);\n        }\n    }\n\n    return ret;\n};\n\njBone.unique = function(array) {\n    if (array == null) {\n        return [];\n    }\n\n    var result = [];\n\n    for (var i = 0, length = array.length; i < length; i++) {\n        var value = array[i];\n        if (result.indexOf(value) < 0) {\n            result.push(value);\n        }\n    }\n    return result;\n};\n\nfunction BoneEvent(e, data) {\n    var key, setter;\n\n    this.originalEvent = e;\n\n    setter = function(key, e) {\n        if (key === \"preventDefault\") {\n            this[key] = function() {\n                this.defaultPrevented = true;\n                return e[key]();\n            };\n        } else if (key === \"stopImmediatePropagation\") {\n            this[key] = function() {\n                this.immediatePropagationStopped = true;\n                return e[key]();\n            };\n        } else if (isFunction(e[key])) {\n            this[key] = function() {\n                return e[key]();\n            };\n        } else {\n            this[key] = e[key];\n        }\n    };\n\n    for (key in e) {\n        if (e[key] || typeof e[key] === \"function\") {\n            setter.call(this, key, e);\n        }\n    }\n\n    jBone.extend(this, data, {\n        isImmediatePropagationStopped: function() {\n            return !!this.immediatePropagationStopped;\n        }\n    });\n}\n\njBone.Event = function(event, data) {\n    var namespace, eventType;\n\n    if (event.type && !data) {\n        data = event;\n        event = event.type;\n    }\n\n    namespace = event.split(\".\").splice(1).join(\".\");\n    eventType = event.split(\".\")[0];\n\n    event = doc.createEvent(\"Event\");\n    event.initEvent(eventType, true, true);\n\n    return jBone.extend(event, {\n        namespace: namespace,\n        isDefaultPrevented: function() {\n            return event.defaultPrevented;\n        }\n    }, data);\n};\n\njBone.event = {\n\n    /**\n     * Attach a handler to an event for the elements\n     * @param {Node}        el         - Events will be attached to this DOM Node\n     * @param {String}      types      - One or more space-separated event types and optional namespaces\n     * @param {Function}    handler    - A function to execute when the event is triggered\n     * @param {Object}      [data]     - Data to be passed to the handler in event.data\n     * @param {String}      [selector] - A selector string to filter the descendants of the selected elements\n     */\n    add: function(el, types, handler, data, selector) {\n        jBone.setId(el);\n\n        var eventHandler = function(e) {\n                jBone.event.dispatch.call(el, e);\n            },\n            events = jBone.getData(el).events,\n            eventType, t, event;\n\n        types = types.split(\" \");\n        t = types.length;\n        while (t--) {\n            event = types[t];\n\n            eventType = event.split(\".\")[0];\n            events[eventType] = events[eventType] || [];\n\n            if (events[eventType].length) {\n                // override with previous event handler\n                eventHandler = events[eventType][0].fn;\n            } else {\n                el.addEventListener && el.addEventListener(eventType, eventHandler, false);\n            }\n\n            events[eventType].push({\n                namespace: event.split(\".\").splice(1).join(\".\"),\n                fn: eventHandler,\n                selector: selector,\n                data: data,\n                originfn: handler\n            });\n        }\n    },\n\n    /**\n     * Remove an event handler\n     * @param  {Node}       el        - Events will be deattached from this DOM Node\n     * @param  {String}     types     - One or more space-separated event types and optional namespaces\n     * @param  {Function}   handler   - A handler function previously attached for the event(s)\n     * @param  {String}     [selector] - A selector string to filter the descendants of the selected elements\n     */\n    remove: function(el, types, handler, selector) {\n        var removeListener = function(events, eventType, index, el, e) {\n                var callback;\n\n                // get callback\n                if ((handler && e.originfn === handler) || !handler) {\n                    callback = e.fn;\n                }\n\n                if (events[eventType][index].fn === callback) {\n                    // remove handler from cache\n                    events[eventType].splice(index, 1);\n\n                    if (!events[eventType].length) {\n                        el.removeEventListener(eventType, callback);\n                    }\n                }\n            },\n            events = jBone.getData(el).events,\n            l,\n            eventsByType;\n\n        if (!events) {\n            return;\n        }\n\n        // remove all events\n        if (!types && events) {\n            return keys(events).forEach(function(eventType) {\n                eventsByType = events[eventType];\n                l = eventsByType.length;\n\n                while(l--) {\n                    removeListener(events, eventType, l, el, eventsByType[l]);\n                }\n            });\n        }\n\n        types.split(\" \").forEach(function(eventName) {\n            var eventType = eventName.split(\".\")[0],\n                namespace = eventName.split(\".\").splice(1).join(\".\"),\n                e;\n\n            // remove named events\n            if (events[eventType]) {\n                eventsByType = events[eventType];\n                l = eventsByType.length;\n\n                while(l--) {\n                    e = eventsByType[l];\n                    if ((!namespace || (namespace && e.namespace === namespace)) &&\n                        (!selector  || (selector  && e.selector === selector))) {\n                        removeListener(events, eventType, l, el, e);\n                    }\n                }\n            }\n            // remove all namespaced events\n            else if (namespace) {\n                keys(events).forEach(function(eventType) {\n                    eventsByType = events[eventType];\n                    l = eventsByType.length;\n\n                    while(l--) {\n                        e = eventsByType[l];\n                        if (e.namespace.split(\".\")[0] === namespace.split(\".\")[0]) {\n                            removeListener(events, eventType, l, el, e);\n                        }\n                    }\n                });\n            }\n        });\n    },\n\n    /**\n     * Execute all handlers and behaviors attached to the matched elements for the given event type.\n     * @param  {Node}       el       - Events will be triggered for thie DOM Node\n     * @param  {String}     event    - One or more space-separated event types and optional namespaces\n     */\n    trigger: function(el, event) {\n        var events = [];\n\n        if (isString(event)) {\n            events = event.split(\" \").map(function(event) {\n                return jBone.Event(event);\n            });\n        } else {\n            event = event instanceof Event ? event : jBone.Event(event);\n            events = [event];\n        }\n\n        events.forEach(function(event) {\n            if (!event.type) {\n                return;\n            }\n\n            el.dispatchEvent && el.dispatchEvent(event);\n        });\n    },\n\n    dispatch: function(e) {\n        var i = 0,\n            j = 0,\n            el = this,\n            handlers = jBone.getData(el).events[e.type],\n            length = handlers.length,\n            handlerQueue = [],\n            targets = [],\n            l,\n            expectedTarget,\n            handler,\n            event,\n            eventOptions;\n\n        // cache all events handlers, fix issue with multiple handlers (issue #45)\n        for (; i < length; i++) {\n            handlerQueue.push(handlers[i]);\n        }\n\n        i = 0;\n        length = handlerQueue.length;\n\n        for (;\n            // if event exists\n            i < length &&\n            // if handler is not removed from stack\n            ~handlers.indexOf(handlerQueue[i]) &&\n            // if propagation is not stopped\n            !(event && event.isImmediatePropagationStopped());\n        i++) {\n            expectedTarget = null;\n            eventOptions = {};\n            handler = handlerQueue[i];\n            handler.data && (eventOptions.data = handler.data);\n\n            // event handler without selector\n            if (!handler.selector) {\n                event = new BoneEvent(e, eventOptions);\n\n                if (!(e.namespace && e.namespace !== handler.namespace)) {\n                    handler.originfn.call(el, event);\n                }\n            }\n            // event handler with selector\n            else if (\n                // if target and selected element the same\n                ~(targets = jBone(el).find(handler.selector)).indexOf(e.target) && (expectedTarget = e.target) ||\n                // if one of element matched with selector contains target\n                (el !== e.target && el.contains(e.target))\n            ) {\n                // get element matched with selector\n                if (!expectedTarget) {\n                    l = targets.length;\n                    j = 0;\n\n                    for (; j < l; j++) {\n                        if (targets[j] && targets[j].contains(e.target)) {\n                            expectedTarget = targets[j];\n                        }\n                    }\n                }\n\n                if (!expectedTarget) {\n                    continue;\n                }\n\n                eventOptions.currentTarget = expectedTarget;\n                event = new BoneEvent(e, eventOptions);\n\n                if (!(e.namespace && e.namespace !== handler.namespace)) {\n                    handler.originfn.call(expectedTarget, event);\n                }\n            }\n        }\n    }\n};\n\nfn.on = function(types, selector, data, fn) {\n    var length = this.length,\n        i = 0;\n\n    if (data == null && fn == null) {\n        // (types, fn)\n        fn = selector;\n        data = selector = undefined;\n    } else if (fn == null) {\n        if (typeof selector === \"string\") {\n            // (types, selector, fn)\n            fn = data;\n            data = undefined;\n        } else {\n            // (types, data, fn)\n            fn = data;\n            data = selector;\n            selector = undefined;\n        }\n    }\n\n    if (!fn) {\n        return this;\n    }\n\n    for (; i < length; i++) {\n        jBone.event.add(this[i], types, fn, data, selector);\n    }\n\n    return this;\n};\n\nfn.one = function(event) {\n    var args = arguments,\n        i = 0,\n        length = this.length,\n        oneArgs = slice.call(args, 1, args.length - 1),\n        callback = slice.call(args, -1)[0],\n        addListener;\n\n    addListener = function(el) {\n        var $el = jBone(el);\n\n        event.split(\" \").forEach(function(event) {\n            var fn = function(e) {\n                $el.off(event, fn);\n                callback.call(el, e);\n            };\n\n            $el.on.apply($el, [event].concat(oneArgs, fn));\n        });\n    };\n\n    for (; i < length; i++) {\n        addListener(this[i]);\n    }\n\n    return this;\n};\n\nfn.trigger = function(event) {\n    var i = 0,\n        length = this.length;\n\n    if (!event) {\n        return this;\n    }\n\n    for (; i < length; i++) {\n        jBone.event.trigger(this[i], event);\n    }\n\n    return this;\n};\n\nfn.off = function(types, selector, handler) {\n    var i = 0,\n        length = this.length;\n\n    if (isFunction(selector)) {\n        handler = selector;\n        selector = undefined;\n    }\n\n    for (; i < length; i++) {\n        jBone.event.remove(this[i], types, handler, selector);\n    }\n\n    return this;\n};\n\nfn.find = function(selector) {\n    var results = [],\n        i = 0,\n        length = this.length,\n        finder = function(el) {\n            if (isFunction(el.querySelectorAll)) {\n                [].forEach.call(el.querySelectorAll(selector), function(found) {\n                    results.push(found);\n                });\n            }\n        };\n\n    for (; i < length; i++) {\n        finder(this[i]);\n    }\n\n    return jBone(results);\n};\n\nfn.get = function(index) {\n    return index != null ?\n\n        // Return just one element from the set\n        (index < 0 ? this[index + this.length] : this[index]) :\n\n        // Return all the elements in a clean array\n        slice.call(this);\n};\n\nfn.eq = function(index) {\n    return jBone(this[index]);\n};\n\nfn.parent = function() {\n    var results = [],\n        parent,\n        i = 0,\n        length = this.length;\n\n    for (; i < length; i++) {\n        if (!~results.indexOf(parent = this[i].parentElement) && parent) {\n            results.push(parent);\n        }\n    }\n\n    return jBone(results);\n};\n\nfn.toArray = function() {\n    return slice.call(this);\n};\n\nfn.is = function() {\n    var args = arguments;\n\n    return this.some(function(el) {\n        return el.tagName.toLowerCase() === args[0];\n    });\n};\n\nfn.has = function() {\n    var args = arguments;\n\n    return this.some(function(el) {\n        return el.querySelectorAll(args[0]).length;\n    });\n};\n\nfn.add = function(selector, context) {\n    return this.pushStack(\n        jBone.unique(\n            jBone.merge(this.get(), jBone(selector, context))\n        )\n    );\n};\n\nfn.attr = function(key, value) {\n    var args = arguments,\n        i = 0,\n        length = this.length,\n        setter;\n\n    if (isString(key) && args.length === 1) {\n        return this[0] && this[0].getAttribute(key);\n    }\n\n    if (args.length === 2) {\n        setter = function(el) {\n            el.setAttribute(key, value);\n        };\n    } else if (isObject(key)) {\n        setter = function(el) {\n            keys(key).forEach(function(name) {\n                el.setAttribute(name, key[name]);\n            });\n        };\n    }\n\n    for (; i < length; i++) {\n        setter(this[i]);\n    }\n\n    return this;\n};\n\nfn.removeAttr = function(key) {\n    var i = 0,\n        length = this.length;\n\n    for (; i < length; i++) {\n        this[i].removeAttribute(key);\n    }\n\n    return this;\n};\n\nfn.val = function(value) {\n    var i = 0,\n        length = this.length;\n\n    if (arguments.length === 0) {\n        return this[0] && this[0].value;\n    }\n\n    for (; i < length; i++) {\n        this[i].value = value;\n    }\n\n    return this;\n};\n\nfn.css = function(key, value) {\n    var args = arguments,\n        i = 0,\n        length = this.length,\n        setter;\n\n    // Get attribute\n    if (isString(key) && args.length === 1) {\n        return this[0] && win.getComputedStyle(this[0])[key];\n    }\n\n    // Set attributes\n    if (args.length === 2) {\n        setter = function(el) {\n            el.style[key] = value;\n        };\n    } else if (isObject(key)) {\n        setter = function(el) {\n            keys(key).forEach(function(name) {\n                el.style[name] = key[name];\n            });\n        };\n    }\n\n    for (; i < length; i++) {\n        setter(this[i]);\n    }\n\n    return this;\n};\n\nfn.data = function(key, value) {\n    var args = arguments, data = {},\n        i = 0,\n        length = this.length,\n        setter,\n        setValue = function(el, key, value) {\n            if (isObject(value)) {\n                el.jdata = el.jdata || {};\n                el.jdata[key] = value;\n            } else {\n                el.dataset[key] = value;\n            }\n        },\n        getValue = function(value) {\n            if (value === \"true\") {\n                return true;\n            } else if (value === \"false\") {\n                return false;\n            } else {\n                return value;\n            }\n        };\n\n    // Get all data\n    if (args.length === 0) {\n        this[0].jdata && (data = this[0].jdata);\n\n        keys(this[0].dataset).forEach(function(key) {\n            data[key] = getValue(this[0].dataset[key]);\n        }, this);\n\n        return data;\n    }\n    // Get data by name\n    if (args.length === 1 && isString(key)) {\n        return this[0] && getValue(this[0].dataset[key] || this[0].jdata && this[0].jdata[key]);\n    }\n\n    // Set data\n    if (args.length === 1 && isObject(key)) {\n        setter = function(el) {\n            keys(key).forEach(function(name) {\n                setValue(el, name, key[name]);\n            });\n        };\n    } else if (args.length === 2) {\n        setter = function(el) {\n            setValue(el, key, value);\n        };\n    }\n\n    for (; i < length; i++) {\n        setter(this[i]);\n    }\n\n    return this;\n};\n\nfn.removeData = function(key) {\n    var i = 0,\n        length = this.length,\n        jdata, dataset;\n\n    for (; i < length; i++) {\n        jdata = this[i].jdata;\n        dataset = this[i].dataset;\n\n        if (key) {\n            jdata && jdata[key] && delete jdata[key];\n            delete dataset[key];\n        } else {\n            for (key in jdata) {\n                delete jdata[key];\n            }\n\n            for (key in dataset) {\n                delete dataset[key];\n            }\n        }\n    }\n\n    return this;\n};\n\nfn.addClass = function(className) {\n    var i = 0,\n        j = 0,\n        length = this.length,\n        classes = className ? className.trim().split(/\\s+/) : [];\n\n    for (; i < length; i++) {\n        j = 0;\n\n        for (j = 0; j < classes.length; j++) {\n            this[i].classList.add(classes[j]);\n        }\n    }\n\n    return this;\n};\n\nfn.removeClass = function(className) {\n    var i = 0,\n        j = 0,\n        length = this.length,\n        classes = className ? className.trim().split(/\\s+/) : [];\n\n    for (; i < length; i++) {\n        j = 0;\n\n        for (j = 0; j < classes.length; j++) {\n            this[i].classList.remove(classes[j]);\n        }\n    }\n\n    return this;\n};\n\nfn.toggleClass = function(className, force) {\n    var i = 0,\n        length = this.length,\n        method = \"toggle\";\n\n    force === true && (method = \"add\") || force === false && (method = \"remove\");\n\n    if (className) {\n        for (; i < length; i++) {\n            this[i].classList[method](className);\n        }\n    }\n\n    return this;\n};\n\nfn.hasClass = function(className) {\n    var i = 0, length = this.length;\n\n    if (className) {\n        for (; i < length; i++) {\n            if (this[i].classList.contains(className)) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nfn.html = function(value) {\n    var args = arguments,\n        el;\n\n    // add HTML into elements\n    if (args.length === 1 && value !== undefined) {\n        return this.empty().append(value);\n    }\n    // get HTML from element\n    else if (args.length === 0 && (el = this[0])) {\n        return el.innerHTML;\n    }\n\n    return this;\n};\n\nfn.append = function(appended) {\n    var i = 0,\n        length = this.length,\n        setter;\n\n    // create jBone object and then append\n    if (isString(appended) && rquickExpr.exec(appended)) {\n        appended = jBone(appended);\n    }\n    // create text node for insertion\n    else if (!isObject(appended)) {\n        appended = document.createTextNode(appended);\n    }\n\n    appended = appended instanceof jBone ? appended : jBone(appended);\n\n    setter = function(el, i) {\n        appended.forEach(function(node) {\n            if (i) {\n                el.appendChild(node.cloneNode(true));\n            } else {\n                el.appendChild(node);\n            }\n        });\n    };\n\n    for (; i < length; i++) {\n        setter(this[i], i);\n    }\n\n    return this;\n};\n\nfn.appendTo = function(to) {\n    jBone(to).append(this);\n\n    return this;\n};\n\nfn.empty = function() {\n    var i = 0,\n        length = this.length,\n        el;\n\n    for (; i < length; i++) {\n        el = this[i];\n\n        while (el.lastChild) {\n            el.removeChild(el.lastChild);\n        }\n    }\n\n    return this;\n};\n\nfn.remove = function() {\n    var i = 0,\n        length = this.length,\n        el;\n\n    // remove all listeners\n    this.off();\n\n    for (; i < length; i++) {\n        el = this[i];\n\n        // remove data and nodes\n        delete el.jdata;\n        el.parentNode && el.parentNode.removeChild(el);\n    }\n\n    return this;\n};\n\nif (typeof module === \"object\" && module && typeof module.exports === \"object\") {\n    // Expose jBone as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = jBone;\n}\n// Register as a AMD module\nelse if (typeof define === \"function\" && define.amd) {\n    define(function() {\n        return jBone;\n    });\n\n    win.jBone = win.$ = jBone;\n} else if (typeof win === \"object\" && typeof win.document === \"object\") {\n    win.jBone = win.$ = jBone;\n}\n\n}(typeof window !== \"undefined\" ? window : this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jbone/dist/jbone.js\n// module id = 7\n// module chunks = 0","var _ = require(\"underscore\");\nvar Model = require(\"backbone-thin\").Model;\n\n// holds the current user selection\nvar Selection = Model.extend({\n  defaults:\n    {type: \"super\"}\n\n\n});var RowSelection = Selection.extend({\n  defaults: _.extend( {}, Selection.prototype.defaults,\n    {type: \"row\",\n    seqId: \"\"\n  }),\n\n  inRow(seqId) {\n    return seqId === this.get(\"seqId\");\n  },\n\n  inColumn(rowPos) {\n    return true;\n  },\n\n  getLength() {\n    return 1;\n  }\n});\n\nvar ColumnSelection = Selection.extend({\n  defaults: _.extend( {}, Selection.prototype.defaults,\n    {type: \"column\",\n    xStart: -1,\n    xEnd: -1\n  }),\n\n  inRow() {\n    return true;\n  },\n\n  inColumn(rowPos) {\n    return xStart <= rowPos && rowPos <= xEnd;\n  },\n\n  getLength() {\n    return xEnd - xStart;\n  }\n});\n\n// pos is a mixin of column and row\n// start with Row and only overwrite \"inColumn\" from Column\nvar PosSelection = RowSelection.extend(_.extend( {},_.pick(ColumnSelection,\"inColumn\"),_.pick(ColumnSelection,\"getLength\"),\n\n  // merge both defaults\n  {defaults: _.extend( {}, ColumnSelection.prototype.defaults, RowSelection.prototype.defaults,\n    {type: \"pos\"\n  })\n}));\n\nmodule.exports.sel = Selection;\nmodule.exports.possel = PosSelection;\nmodule.exports.rowsel = RowSelection;\nmodule.exports.columnsel = ColumnSelection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/selection/Selection.js","var SelectionManager;\nvar sel = require(\"./Selection\");\nvar _ = require(\"underscore\");\nvar Collection = require(\"backbone-thin\").Collection;\n\n// holds the current user selection\nmodule.exports = SelectionManager = Collection.extend({\n\n  model: sel.sel,\n\n  initialize: function(data, opts) {\n    if ((typeof opts !== \"undefined\" && opts !== null)) {\n      this.g = opts.g;\n\n      this.listenTo(this.g, \"residue:click\", function(e) {\n        return this._handleE(e.evt, new sel.possel({\n          xStart: e.rowPos,\n          xEnd: e.rowPos,\n          seqId: e.seqId\n        }));\n      });\n\n      this.listenTo(this.g, \"row:click\", function(e) {\n        return this._handleE(e.evt, new sel.rowsel({\n          seqId: e.seqId\n        }));\n      });\n\n      return this.listenTo(this.g, \"column:click\", function(e) {\n        return this._handleE(e.evt, new sel.columnsel({\n          xStart: e.rowPos,\n          xEnd: e.rowPos + e.stepSize - 1\n        }));\n      });\n    }\n  },\n\n    //@listenTo @, \"add reset\", (e) ->\n      //@_reduceColumns()\n\n  getSelForRow: function(seqId) {\n    return this.filter(function(el) { return el.inRow(seqId); });\n  },\n\n  getSelForColumns: function(rowPos) {\n    return this.filter(function(el) { return el.inColumn(rowPos); });\n  },\n\n  addJSON: function(model) {\n    return this.add(this._fromJSON(model));\n  },\n\n  _fromJSON: function(model) {\n   switch (model.type) {\n     case \"column\":  return new sel.columnsel(model);\n     case \"row\":  return new sel.rowsel(model);\n     case \"pos\":  return new sel.possel(model);\n   }\n  },\n\n  // allows normal JSON input\n  resetJSON: function(arr) {\n    arr = _.map(arr, this._fromJSON);\n    return this.reset(arr);\n  },\n\n  // @returns array of all selected residues for a row\n  getBlocksForRow: function(seqId, maxLen) {\n    var selis = this.filter(function(el) { return el.inRow(seqId); });\n    var blocks = [];\n    for (var i = 0, seli; i < selis.length; i++) {\n      seli = selis[i];\n      if (seli.attributes.type === \"row\") {\n        blocks = ((function() {\n          var result = [];\n          var i1 = 0;\n          if (0 <= maxLen) {\n            while (i1 <= maxLen) {\n              result.push(i1++);\n            }\n          } else {\n            while (i1 >= maxLen) {\n              result.push(i1--);\n            }\n          }\n          return result;\n        })());\n        break;\n      } else {\n        blocks = blocks.concat(((function() {\n          var result = [];\n          var i1 = seli.attributes.xStart;\n          if (seli.attributes.xStart <= seli.attributes.xEnd) {\n            while (i1 <= seli.attributes.xEnd) {\n              result.push(i1++);\n            }\n          } else {\n            while (i1 >= seli.attributes.xEnd) {\n              result.push(i1--);\n            }\n          }\n          return result;\n        })()));\n      }\n    }\n    return blocks;\n  },\n\n  // @returns array with all columns being selected\n  // example: 0-4... 12-14 selected -> [0,1,2,3,4,12,13,14]\n  getAllColumnBlocks: function(conf) {\n    var maxLen = conf.maxLen;\n    var withPos = conf.withPos;\n    var blocks = [];\n    if (conf.withPos) {\n      var filtered = (this.filter(function(el) { return (el.get('xStart') != null); }) );\n    } else {\n      filtered = (this.filter(function(el) { return el.get('type') === \"column\"; }));\n    }\n    for (var i = 0, seli; i < filtered.length; i++) {\n      seli = filtered[i];\n      blocks = blocks.concat(((function() {\n        var result = [];\n        var i1 = seli.attributes.xStart;\n        if (seli.attributes.xStart <= seli.attributes.xEnd) {\n          while (i1 <= seli.attributes.xEnd) {\n            result.push(i1++);\n          }\n        } else {\n          while (i1 >= seli.attributes.xEnd) {\n            result.push(i1--);\n          }\n        }\n        return result;\n      })()));\n    }\n    blocks = _.uniq(blocks);\n    return blocks;\n  },\n\n  // inverts the current selection for columns\n  // @param rows [Array] all available seqId\n  invertRow: function(rows) {\n    var selRows = this.where({type:\"row\"});\n    selRows = _.map(selRows, function(el) { return el.attributes.seqId; });\n    var inverted = _.filter(rows, function(el) {\n      if (selRows.indexOf(el) >= 0) { return false; } // existing selection\n      return true;\n    });\n    // mass insert\n    var s = [];\n    for (var i = 0, el; i < inverted.length; i++) {\n      el = inverted[i];\n      s.push(new sel.rowsel({seqId:el}));\n    }\n    return this.reset(s);\n  },\n\n  // inverts the current selection for rows\n  // @param rows [Array] all available rows (0..max.length)\n  invertCol: function(columns) {\n    var xEnd;\n    var selColumns = this.where({type:\"column\"});\n    selColumns = _.reduce( selColumns, (function(memo,el) {\n      return memo.concat(((function() {\n        var result = [];\n        var i = el.attributes.xStart;\n        if (el.attributes.xStart <= el.attributes.xEnd) {\n          while (i <= el.attributes.xEnd) {\n            result.push(i++);\n          }\n        } else {\n          while (i >= el.attributes.xEnd) {\n            result.push(i--);\n          }\n        }\n        return result;\n      })()));\n    }\n    ), []\n    );\n    var inverted = _.filter(columns, function(el) {\n      if (selColumns.indexOf(el) >= 0) {\n        // existing selection\n        return false;\n      }\n      return true;\n    });\n    // mass insert\n    if (inverted.length === 0) { return; }\n    var s = [];\n    var xStart = xEnd = inverted[0];\n    for (var i = 0, el; i < inverted.length; i++) {\n      el = inverted[i];\n      if (xEnd + 1 === el) {\n        // contiguous\n        xEnd = el;\n      } else {\n        // gap between\n        s.push(new sel.columnsel({xStart:xStart, xEnd: xEnd}));\n        xStart = xEnd = el;\n      }\n    }\n    // check for last gap\n    if (xStart !== xEnd) { s.push(new sel.columnsel({xStart:xStart, xEnd: inverted[inverted.length - 1]})); }\n    return this.reset(s);\n  },\n\n  // method to decide whether to start a new selection\n  // or append to the old one (depending whether CTRL was pressed)\n  _handleE: function(e, selection) {\n    if (e.ctrlKey || e.metaKey) {\n      return this.add(selection);\n    } else {\n      return this.reset([selection]);\n    }\n  },\n\n  // experimental reduce method for columns\n  _reduceColumns: function() {\n    return this.each(function(el, index, arr) {\n      var cols = _.filter(arr, function(el) { return el.get('type') === 'column'; });\n      var xStart = el.get('xStart');\n      var xEnd = el.get('xEnd');\n\n      var lefts = _.filter(cols, function(el) { return el.get('xEnd') === (xStart - 1); });\n      for (var i = 0, left; i < lefts.length; i++) {\n        left = lefts[i];\n        left.set('xEnd', xStart);\n      }\n\n      var rights = _.filter(cols, function(el) { return el.get('xStart') === (xEnd + 1); });\n      for (var j = 0, right; j < rights.length; j++) {\n        right = rights[j];\n        right.set('xStart', xEnd);\n      }\n\n      if (lefts.length > 0 || rights.length > 0) {\n        console.log(\"removed el\");\n        return el.collection.remove(el);\n      }\n    });\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/selection/SelectionCol.js","// mini svg helper\n\nvar svgns = \"http://www.w3.org/2000/svg\";\n\nvar setAttr = function(obj,opts) {\n  for (var name in opts) {\n    var value = opts[name];\n    obj.setAttributeNS(null, name, value);\n  }\n  return obj;\n};\n\nvar Base = function(opts) {\n  var svg = document.createElementNS(svgns, 'svg');\n  svg.setAttribute(\"width\", opts.width);\n  svg.setAttribute(\"height\", opts.height);\n  return svg;\n};\n\nvar Rect = function(opts) {\n  var rect = document.createElementNS(svgns, 'rect');\n  return setAttr(rect,opts);\n};\n\nvar Line = function(opts) {\n  var line = document.createElementNS(svgns, 'line');\n  return setAttr(line,opts);\n};\n\nvar Polygon = function(opts) {\n  var line = document.createElementNS(svgns, 'polygon');\n  return setAttr(line,opts);\n};\n\nmodule.exports.rect = Rect;\nmodule.exports.line = Line;\nmodule.exports.polygon = Polygon;\nmodule.exports.base = Base;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/svg.js","module.exports = require('./backbone-events-standalone');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-events-standalone/index.js\n// module id = 11\n// module chunks = 0","module.exports =\n  // math utilities\n  class BMath {\n    static randomInt(lower, upper) {\n      // Called with one argument\n      if (!(typeof upper !== \"undefined\" && upper !== null)) { [lower, upper] = [0, lower]; }\n      // Lower must be less then upper\n      if (lower > upper) { [lower, upper] = [upper, lower]; }\n      // Last statement is a return value\n      return Math.floor(Math.random() * (upper - lower + 1) + lower);\n    }\n\n    // @return [Integer] random id\n    static uniqueId(length = 8) {\n      var id = \"\";\n      while (id.length < length) {\n        id += Math.random().toString(36).substr(2);\n      }\n      return id.substr(0, length);\n    }\n\n    // Returns a random integer between min (inclusive) and max (inclusive)\n    static getRandomInt(min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n  };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/bmath.js","var Exporter;\nvar Fasta = require(\"biojs-io-fasta\");\nvar GFF = require(\"biojs-io-gff\");\nvar xhr = require(\"xhr\");\nvar blobURL = require(\"blueimp_canvastoblob\");\nvar saveAs = require(\"browser-saveas\");\nvar _ = require(\"underscore\");\n\nmodule.exports = Exporter =\n\n  {openInJalview: function(url, colorscheme) {\n    if (url.charAt(0) === '.') {\n      // relative urls\n      url = document.URL.substr(0,document.URL.lastIndexOf('/')) + \"/\" + url;\n    }\n\n    // check whether this is a local url\n    if (url.indexOf(\"http\") < 0) {\n      // append host and hope for the best\n      var host = \"http://\" + window.location.hostname;\n      url = host + url;\n    }\n\n    url = encodeURIComponent(url);\n    var jalviewUrl = \"http://www.jalview.org/services/launchApp?open=\" + url;\n    jalviewUrl += \"&colour=\" + colorscheme;\n    return window.open(jalviewUrl, '_blank');\n  },\n\n  publishWeb: function(that, cb) {\n    var text = Fasta.write(that.seqs.toJSON());\n    text = encodeURIComponent(text);\n    var url = \"http://sprunge.biojs.net\";\n    return xhr({\n      method: \"POST\",\n      body: \"sprunge=\" + text,\n      uri: url,\n      headers:\n        {\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    }, function(err,rep,body) {\n      var link = body.trim();\n      return cb(link);\n    }\n    );\n  },\n\n\n  shareLink: function(that, cb) {\n    var url = that.g.config.get(\"importURL\");\n    var msaURL = \"http://msa.biojs.net/app/?seq=\";\n    var fCB = function(link) {\n      var fURL = msaURL + link;\n      if (cb) {\n        return cb(fURL);\n      }\n    };\n    if (!url) {\n      return Exporter.publishWeb(that, fCB);\n    } else {\n      return fCB(url);\n    }\n  },\n\n  saveAsFile: function(that,name) {\n    // limit at about 256k\n    var text = Fasta.write(that.seqs.toJSON());\n    var blob = new Blob([text], {type : 'text/plain'});\n    return saveAs(blob, name);\n  },\n\n  saveSelection: function(that,name) {\n    var selection = that.g.selcol.pluck(\"seqId\");\n    console.log(selection);\n    if (selection.length > 0) {\n      // filter those seqids\n      selection = that.seqs.filter(function(el) {\n        return _.contains(selection, el.get(\"id\"));\n      });\n      var end = selection.length - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        selection[i] = selection[i].toJSON();\n      }\n    } else {\n      selection = that.seqs.toJSON();\n      console.warn(\"no selection found\");\n    }\n    var text = Fasta.write(selection);\n    var blob = new Blob([text], {type : 'text/plain'});\n    return saveAs(blob, name);\n  },\n\n  saveAnnots: function(that,name) {\n    var features = that.seqs.map(function(el) {\n      features = el.get(\"features\");\n      if (features.length === 0) { return; }\n      var seqname = el.get(\"name\");\n      features.each(function(s) {\n        return s.set(\"seqname\", seqname);\n      });\n      return features.toJSON();\n    });\n    features = _.flatten(_.compact(features));\n    console.log(features);\n    var text = GFF.exportLines(features);\n    var blob = new Blob([text], {type : 'text/plain'});\n    return saveAs(blob, name);\n  },\n\n  saveAsImg: function(that,name) {\n      // TODO: this is very ugly\n      var canvas = that.getView('stage').getView('body').getView('seqblock').el;\n      if ((typeof canvas !== \"undefined\" && canvas !== null)) {\n        var url = canvas.toDataURL('image/png');\n        return saveAs(blobURL(url), name, \"image/png\");\n      }\n  }\n  };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/export.js","var FileHelper;\nvar FastaReader = require(\"biojs-io-fasta\");\nvar ClustalReader = require(\"biojs-io-clustal\");\nvar GffReader = require(\"biojs-io-gff\");\nvar _ = require(\"underscore\");\nvar xhr = require(\"xhr\");\n\nmodule.exports = FileHelper = function(msa) {\n  this.msa = msa;\n  return this;\n};\n\nvar funs =\n  {guessFileType: function(name) {\n    name = name.split(\".\");\n    var fileName = name[name.length(-1)];\n    switch (fileName) {\n      case \"aln\": case \"clustal\": return ClustalReader; break;\n      case \"fasta\": return FastaReader; break;\n      default:\n        return FastaReader;\n    }\n  },\n\n  guessFileFromText: function(text) {\n    if (!(typeof text !== \"undefined\" && text !== null)) {\n      console.warn(\"invalid file format\");\n      return [\"\", \"error\"];\n    }\n    if (text.substring(0,7) === \"CLUSTAL\") {\n      var reader = ClustalReader;\n      var type = \"seqs\";\n    } else if (text.substring(0,1) === \">\") {\n      reader = FastaReader;\n      type = \"seqs\";\n    } else if (text.substring(0,1) === \"(\") {\n      type = \"newick\";\n    } else {\n      reader = GffReader;\n      type = \"features\";\n    }\n      //console.warn \"Unknown format. Contact greenify\"\n    return [reader,type];\n  },\n\n  parseText: function(text) {\n    var [reader, type] = this.guessFileFromText(text);\n    if (type === \"seqs\") {\n      var seqs = reader.parse(text);\n      return [seqs,type];\n    } else if (type === \"features\") {\n      var features = reader.parseSeqs(text);\n      return [features,type];\n    } else {\n      return [text,type];\n    }\n  },\n\n  importFiles: function(files) {\n    return (() => {\n      var result = [];\n      var end = files.length - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        var file = files[i];\n        var reader = new FileReader();\n        reader.onload = (evt) => {\n          return this.importFile(evt.target.result);\n        };\n        result.push(reader.readAsText(file));\n      }\n      return result;\n    })();\n  },\n\n  importFile: function(file) {\n    var fileName;\n    var [objs, type] = this.parseText(file);\n    if (type === \"error\") {\n        return \"error\";\n    }\n    if (type === \"seqs\") {\n      this.msa.seqs.reset(objs);\n      this.msa.g.config.set(\"url\", \"userimport\");\n      this.msa.g.trigger(\"url:userImport\");\n    } else if (type === \"features\") {\n      this.msa.seqs.addFeatures(objs);\n    } else if (type === \"newick\") {\n      this.msa.u.tree.loadTree(() => {\n        return this.msa.u.tree.showTree(file);\n      });\n    }\n\n    return fileName = file.name;\n  },\n\n  importURL: function(url, cb) {\n    url = this.msa.u.proxy.corsURL(url);\n    this.msa.g.config.set(\"url\", url);\n    return xhr({\n        url: url,\n        timeout: 0\n    }, (err,status,body) => {\n      if (!err) {\n        var res = this.importFile(body);\n        if (res === \"error\") {\n          return;\n        }\n        this.msa.g.trigger(\"import:url\", url);\n        if (cb) {\n          return cb();\n        }\n      } else {\n        return console.log(err);\n      }\n    });\n  }\n  };\n\n_.extend(FileHelper.prototype, funs);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/file.js","var loader;\nvar k = require(\"koala-js\");\n\nmodule.exports = loader =\n\n  // asynchronously require a script\n  {loadScript: function(url, cb) {\n    var s = k.mk(\"script\");\n    s.type = \"text/javascript\";\n    s.src = url;\n    s.async = true;\n    s.onload = s.onreadystatechange = function() {\n      if (!r && (!this.readyState || this.readyState === \"complete\")) {\n        var r = true;\n        return cb();\n      }\n    };\n    var t = document.getElementsByTagName(\"script\")[0];\n    return t.parentNode.appendChild(s);\n  },\n\n  // joins multiple callbacks into one callback\n  // a bit like Promise.all - but for callbacks\n  joinCb: function(retCb, finalLength, finalScope) {\n    finalLength = finalLength || 1;\n    var cbsFinished = 0;\n\n    var callbackWrapper = function(cb, scope) {\n      if (!(typeof cb !== \"undefined\" && cb !== null)) {\n        // directly called (without cb)\n        return counter();\n      } else {\n        return (function() {\n          var ref;\n          if (ref = \"apply\", cb.indexOf(ref) >= 0) {\n            cb.apply(scope, arguments);\n          }\n          return counter();\n        });\n      }\n    };\n\n    var counter = function() {\n      cbsFinished++;\n      if (cbsFinished === finalLength) {\n        return retCb.call(finalScope);\n      }\n    };\n\n    return callbackWrapper;\n  }\n  };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/loader.js","var ProxyHelper;\nvar _ = require(\"underscore\");\n\nmodule.exports = ProxyHelper = function(opts) {\n  this.g = opts.g;\n  return this;\n};\n\nvar proxyFun =\n\n  {corsURL: function(url) {\n    // do not filter on localhost\n    if (document.URL.indexOf('localhost') >= 0 && url[0] === \"/\") { return url; }\n    if (url.charAt(0) === \".\" || url.charAt(0) === \"/\") { return url; }\n\n    // DEPRECATED as crossorigin.me requires http\n    // remove www + http\n    //url = url.replace(\"www\\.\", \"\");\n\n    if(this.g.config.get('importProxyStripHttp')){\n        url = url.replace(\"http://\", \"\");\n        url = url.replace(\"https://\", \"\");\n    }\n\n    // prepend proxy\n    url = this.g.config.get('importProxy') + url;\n    return url;\n  }\n  };\n\n_.extend(ProxyHelper.prototype, proxyFun);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/proxy.js","(function (definition) {\n  if (typeof exports === \"object\") {\n    module.exports = definition();\n  }\n  else if (typeof define === 'function' && define.amd) {\n    define(definition);\n  }\n  else {\n    window.BackboneExtend = definition();\n  }\n})(function () {\n  \"use strict\";\n  \n  // mini-underscore\n  var _ = {\n    has: function (obj, key) {\n      return Object.prototype.hasOwnProperty.call(obj, key);\n    },\n  \n    extend: function(obj) {\n      for (var i=1; i<arguments.length; ++i) {\n        var source = arguments[i];\n        if (source) {\n          for (var prop in source) {\n            obj[prop] = source[prop];\n          }\n        }\n      }\n      return obj;\n    }\n  };\n\n  /// Following code is pasted from Backbone.js ///\n\n  // Helper function to correctly set up the prototype chain, for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    var Surrogate = function(){ this.constructor = child; };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate();\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Expose the extend function\n  return extend;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-extend-standalone/backbone-extend-standalone.js\n// module id = 17\n// module chunks = 0","var events = require(\"backbone-events-standalone\");\n\nevents.onAll = function(callback,context){\n  this.on(\"all\", callback,context);\n  return this;\n};\n\n// Mixin utility\nevents.oldMixin = events.mixin;\nevents.mixin = function(proto) {\n  events.oldMixin(proto);\n  // add custom onAll\n  var exports = ['onAll'];\n  for(var i=0; i < exports.length;i++){\n    var name = exports[i];\n    proto[name] = this[name];\n  }\n  return proto;\n};\n\nmodule.exports = events;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-events/index.js\n// module id = 18\n// module chunks = 0","// Generated by CoffeeScript 1.9.0\nvar Fasta, GenericReader;\n\nGenericReader = require(\"biojs-io-parser\");\n\nFasta = require(\"./fasta\");\n\nmodule.exports = Fasta;\n\nGenericReader.mixin(Fasta);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-fasta/lib/index.js\n// module id = 19\n// module chunks = 0","var koalajs = {};\n\n// pass an alternative default value\nkoalajs.d = koalajs.defaultValue = function defaultValue(obj, defValue) {\n  if (obj === undefined) {\n    if (typeof obj === \"function\") {\n      return defValue();\n    }\n    return defValue;\n  }\n  return obj;\n};\n\n// alias for getElementById\nkoalajs.id = function mk(el) {\n  return document.getElementById(el);\n};\n\n// alias for createElement\nkoalajs.mk = function mk(el) {\n  return document.createElement(el);\n};\n\nif (module !== undefined && module.exports !== undefined) {\n  module.exports = koalajs;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/koala-js/index.js\n// module id = 20\n// module chunks = 0","var window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require('parse-headers')\n\nvar messages = {\n    \"0\": \"Internal XMLHttpRequest Error\",\n    \"4\": \"4xx Client Error\",\n    \"5\": \"5xx Server Error\"\n}\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var key\n    var load = options.response ? loadResponse : loadXhr\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] = \"application/json\"\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = load\n    xhr.onerror = error\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    // hate IE\n    xhr.ontimeout = noop\n    xhr.open(method, uri, !sync)\n                                    //backward compatibility\n    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n        xhr.withCredentials = true\n    }\n\n    // Cannot set timeout with sync request\n    if (!sync) {\n        xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            load()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = null\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === 'text' || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function getStatusCode() {\n        return xhr.status === 1223 ? 204 : xhr.status\n    }\n\n    // if we're getting a none-ok statusCode, build & return an error\n    function errorFromStatusCode(status, body) {\n        var error = null\n        if (status === 0 || (status >= 400 && status < 600)) {\n            var message = (typeof body === \"string\" ? body : false) ||\n                messages[String(status).charAt(0)]\n            error = new Error(message)\n            error.statusCode = status\n        }\n\n        return error\n    }\n\n    // will load the data & process the response in a special response object\n    function loadResponse() {\n        var status = getStatusCode()\n        var body = getBody()\n        var error = errorFromStatusCode(status, body)\n        var response = {\n            body: body,\n            statusCode: status,\n            statusText: xhr.statusText,\n            raw: xhr\n        }\n        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n            response.headers = parseHeaders(xhr.getAllResponseHeaders())\n        } else {\n            response.headers = {}\n        }\n\n        callback(error, response, response.body)\n    }\n\n    // will load the data and add some response properties to the source xhr\n    // and then respond with that\n    function loadXhr() {\n        var status = getStatusCode()\n        var error = errorFromStatusCode(status)\n\n        xhr.status = xhr.statusCode = status\n        xhr.body = getBody()\n        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())\n\n        callback(error, xhr, xhr.body)\n    }\n\n    function error(evt) {\n        callback(evt, xhr)\n    }\n}\n\n\nfunction noop() {}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xhr/index.js\n// module id = 21\n// module chunks = 0","var Colorscheme;\nvar Colors = require(\"msa-colorschemes\");\n\nvar Model = require(\"backbone-thin\").Model;\n\n// this is an example of how one could color the MSA\n// feel free to create your own color scheme in the /css/schemes folder\nmodule.exports = Colorscheme = Model.extend({\n\n  defaults: {\n    scheme: \"taylor\", // name of your color scheme\n    colorBackground: true, // otherwise only the text will be colored\n    showLowerCase: true, // used to hide and show lowercase chars in the overviewbox\n    opacity: 0.6, // opacity for the residues\n  },\n\n  initialize: function(data,seqs, stat) {\n    this.colors = new Colors(\n      {seqs: seqs,\n      conservation: function() {\n        return stat.scale(stat.conservation());\n      }}\n    );\n    // the stats module sends an event every time it is refreshed\n    return stat.on( \"reset\", (function() {\n      // some dynamic modules might require a redraw\n      if (this.getSelectedScheme().type === \"dyn\") {\n        var ref;\n        if (ref = \"reset\", this.getSelectedScheme().indexOf(ref) >= 0) {\n          return this.getSelectedScheme().reset();\n        }\n      }\n    }\n    ),this);\n  },\n\n  // You can enter your own color scheme here\n  addStaticScheme: function(name, dict) {\n    return this.colors.addStaticScheme(name,dict);\n  },\n\n  addDynScheme: function(name, fun) {\n    return this.colors.addDynScheme(name,fun);\n  },\n\n  getScheme: function(name) {\n    return this.colors.getScheme(name);\n  },\n\n  getSelectedScheme: function() {\n    return this.colors.getScheme(this.get(\"scheme\"));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/colorscheme.js","var Columns;\nvar Model = require(\"backbone-thin\").Model;\nvar _ = require(\"underscore\");\n\n// model for column properties (like their hidden state)\nmodule.exports = Columns = Model.extend({\n\n  initialize: function(o,stat) {\n    // hidden columns\n    if (!(this.get(\"hidden\") != null)) { this.set(\"hidden\", []); }\n    return this.stats = stat;\n  },\n\n  // assumes hidden columns are sorted\n  // @returns n [int] number of hidden columns until n\n  calcHiddenColumns: function(n) {\n    var hidden = this.get(\"hidden\");\n    var newX = n;\n    for (var j = 0, i; j < hidden.length; j++) {\n      i = hidden[j];\n      if (i <= newX) {\n        newX++;\n      }\n    }\n    return newX - n;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/columns.js","var Config;\nvar Model = require(\"backbone-thin\").Model;\n\n// simple user config\nmodule.exports = Config = Model.extend({\n\n  defaults:\n    {registerMouseHover: false,\n    registerMouseClicks: true,\n    importProxy: \"https://cors-anywhere.herokuapp.com/\",\n    importProxyStripHttp: true,\n    eventBus: true,\n    alphabetSize: 20,\n    dropImport: false,\n    debug: false,\n    hasRef: false, // hasReference\n    bootstrapMenu: false,\n    manualRendering: false // not recommended to turn on\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/config.js","var Package;\nvar Loader = require(\"../utils/loader\");\nvar Model = require(\"backbone-thin\").Model;\n\nmodule.exports = Package = Model.extend({\n\n  initialize: function(g) {\n    return this.g = g;\n  },\n\n  development:\n    {\"msa-tnt\": \"/node_modules/msa-tnt/build/bundle.js\",\n    \"biojs-io-newick\": \"/node_modules/biojs-io-newick/build/biojs-io-newick.min.js\"\n    },\n\n  // loads a package into the MSA component (if it is not available yet)\n  loadPackage: function(pkg, cb) {\n    try {\n      var p = require(pkg);\n      return cb(p);\n    } catch (error) {\n      return Loader.loadScript(this._pkgURL(pkg), cb);\n    }\n  },\n\n  // loads multiple packages and calls the cb if all packages are loaded\n  loadPackages: function(pkgs, cb) {\n      var cbs = Loader.joinCb( (function() {\n        return cb();\n      }\n      ), pkgs.length\n      );\n      return pkgs.forEach((pkg) => {\n        return this.loadPackage(pkg, cbs);\n      });\n  },\n\n  // internal method to get the URL for a package\n  _pkgURL: function(pkg) {\n\n    if (this.g.config.get(\"debug\")) {\n      var url = this.development[pkg];\n    } else {\n      url = `http://wzrd.in/bundle/${pkg}@latest`;\n    }\n\n    return url;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/package.js","var Config;\nvar Model = require(\"backbone-thin\").Model;\n\n// simple user config\nmodule.exports = Config = Model.extend({\n\n  defaults:\n    {searchText: \"\"}\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/g/user.js","var Visibility;\nvar Model = require(\"backbone-thin\").Model;\n\n// visible areas\nmodule.exports = Visibility = Model.extend({\n\n  defaults:\n\n    // for the Stage\n    {searchBox: -10,\n    overviewBox: 30,\n    headerBox: -1,\n    alignmentBody: 0\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/visOrdering.js","var Visibility;\nvar Model = require(\"backbone-thin\").Model;\n\n// visible areas\nmodule.exports = Visibility = Model.extend({\n\n  defaults: {sequences: true,\n    markers: true,\n    metacell: false,\n    conserv: false,\n    overviewbox: false,\n    seqlogo: false,\n    gapHeader: false,\n    leftHeader: true,\n\n    // about the labels\n    labels: true,\n    labelName: true,\n    labelId: true,\n    labelPartition: false,\n    labelCheckbox: false,\n\n    // meta stuff\n    metaGaps: true,\n    metaIdentity: true,\n    metaLinks: true\n    },\n\n  constructor: function(attributes,options) {\n    this.calcDefaults(options.model);\n    return Model.apply(this, arguments);\n  },\n\n  initialize: function() {\n\n    this.listenTo( this, \"change:metaLinks change:metaIdentity change:metaGaps\", (function() {\n      return this.trigger(\"change:metacell\");\n    }), this\n    );\n\n    this.listenTo( this, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", (function() {\n      return this.trigger(\"change:labels\");\n    }), this\n    );\n\n    return this.listenTo( this,\"change:markers change:conserv change:seqlogo change:gapHeader\", (function() {\n      return this.trigger(\"change:header\");\n    }), this\n    );\n  },\n\n  calcDefaults: function(seqs) {\n    if (seqs.length > 0) {\n      var seq = seqs.at(0);\n      var ids = seq.get(\"ids\");\n      if (ids !== undefined && Object.keys(ids).length === 0) {\n        return this.defaults.metaLinks = false;\n      }\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/visibility.js","var Zoomer;\nvar Model = require(\"backbone-thin\").Model;\n// pixel properties for some components\nmodule.exports = Zoomer = Model.extend({\n\n  constructor: function(attributes,options) {\n    this.calcDefaults(options.model);\n    Model.apply(this, arguments);\n    this.g = options.g;\n\n    // events\n    this.listenTo( this, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", (function() {\n      return this.trigger(\"change:labelWidth\", this.getLabelWidth());\n    }), this\n    );\n    this.listenTo( this, \"change:metaLinksWidth change:metaIdentWidth change:metaGapWidth\", (function() {\n      return this.trigger(\"change:metaWidth\", this.getMetaWidth());\n    }), this\n    );\n\n    return this;\n  },\n\n  defaults: {\n\n    // general\n    alignmentWidth: \"auto\",\n    alignmentHeight: 225,\n    columnWidth: 15,\n    rowHeight: 15,\n    autoResize: true, // only for the width\n\n    // labels\n    textVisible: true,\n    labelIdLength: 20,\n    labelNameLength: 100,\n    labelPartLength: 15,\n    labelCheckLength: 15,\n    labelFontsize: 13,\n    labelLineHeight: \"13px\",\n\n    // marker\n    markerFontsize: \"10px\",\n    stepSize: 1,\n    markerStepSize: 2,\n    markerHeight: 20,\n\n    // canvas\n    residueFont: \"13\", // in px\n    canvasEventScale: 1,\n\n    // overview box\n    boxRectHeight: 2,\n    boxRectWidth: 2,\n    overviewboxPaddingTop: 10,\n\n    // meta cell\n    metaGapWidth: 35,\n    metaIdentWidth: 40,\n    // metaLinksWidth: 25\n\n    // internal props\n    _alignmentScrollLeft: 0,\n    _alignmentScrollTop: 0\n    },\n\n  // sets some defaults, depending on the model\n  calcDefaults: function(model) {\n    var maxLen = model.getMaxLength();\n    if (maxLen < 200 && model.length < 30) {\n      return this.defaults.boxRectWidth = this.defaults.boxRectHeight = 5;\n    }\n  },\n\n  // @param n [int] maxLength of all seqs\n  getAlignmentWidth: function(n) {\n    if (this.get(\"autoResize\") && n !== undefined) {\n      return this.get(\"columnWidth\") * n;\n    }\n    if (this.get(\"alignmentWidth\") === undefined || this.get(\"alignmentWidth\") === \"auto\" || this.get(\"alignmentWidth\") === 0) {\n      return this._adjustWidth();\n    } else {\n      return this.get(\"alignmentWidth\");\n    }\n  },\n\n  // @param n [int] number of residues to scroll to the right\n  setLeftOffset: function(n) {\n    var val = (n);\n    val = Math.max(0, val);\n    val -= this.g.columns.calcHiddenColumns(val);\n    return this.set(\"_alignmentScrollLeft\", val * this.get('columnWidth'));\n  },\n\n  // @param n [int] row that should be on top\n  setTopOffset: function(n) {\n    var val = Math.max(0, (n - 1));\n    var height = 0;\n    for (var i = 0; 0 < val ? i <= val : i >= val; 0 < val ? i++ : i--) {\n      var seq = this.model.at(i);\n      height += seq.attributes.height || 1;\n    }\n    return this.set(\"_alignmentScrollTop\",height * this.get(\"rowHeight\"));\n  },\n\n  // length of all elements left to the main sequence body: labels, metacell, ..\n  getLeftBlockWidth: function() {\n     var paddingLeft = 0;\n     if (this.g.vis.get(\"labels\")) { paddingLeft += this.getLabelWidth(); }\n     if (this.g.vis.get(\"metacell\")) { paddingLeft += this.getMetaWidth(); }\n     //paddingLeft += 15 # scroll bar\n     return paddingLeft;\n  },\n\n  getMetaWidth: function() {\n     var val = 0;\n     if (this.g.vis.get(\"metaGaps\")) { val += this.get(\"metaGapWidth\"); }\n     if (this.g.vis.get(\"metaIdentity\")) { val += this.get(\"metaIdentWidth\"); }\n     if (this.g.vis.get(\"metaLinks\")) { val += this.get(\"metaLinksWidth\"); }\n     return val;\n  },\n\n  getLabelWidth: function() {\n     var val = 0;\n     if (this.g.vis.get(\"labelName\")) { val += this.get(\"labelNameLength\"); }\n     if (this.g.vis.get(\"labelId\")) { val += this.get(\"labelIdLength\"); }\n     if (this.g.vis.get(\"labelPartition\")) { val += this.get(\"labelPartLength\"); }\n     if (this.g.vis.get(\"labelCheckbox\")) { val += this.get(\"labelCheckLength\"); }\n     return val;\n  },\n\n  _adjustWidth: function() {\n    if (!(this.el !== undefined && this.model !== undefined)) { return; }\n    if ((this.el.parentNode != null) && this.el.parentNode.offsetWidth !== 0) {\n      var parentWidth = this.el.parentNode.offsetWidth;\n    } else {\n      parentWidth = document.body.clientWidth - 35;\n    }\n\n    // TODO: dirty hack\n    var maxWidth = parentWidth - this.getLeftBlockWidth();\n    var calcWidth = this.getAlignmentWidth( this.model.getMaxLength() - this.g.columns.get('hidden').length);\n    var val = Math.min(maxWidth,calcWidth);\n    // round to a valid AA box\n    val = Math.floor( val / this.get(\"columnWidth\")) * this.get(\"columnWidth\");\n\n    //@set \"alignmentWidth\", val\n    return this.attributes.alignmentWidth = val;\n  },\n\n  autoResize: function() {\n    if (this.get(\"autoResize\")) {\n      return this._adjustWidth(this.el, this.model);\n    }\n  },\n\n  // max is the maximal allowed height\n  autoHeight: function(max) {\n    // TODO!\n    // make seqlogo height configurable\n    var val = this.getMaxAlignmentHeight();\n    if (max !== undefined && max > 0) {\n      val = Math.min(val, max);\n    }\n\n    return this.set(\"alignmentHeight\", val);\n  },\n\n  setEl: function(el, model) {\n    this.el = el;\n    return this.model = model;\n  },\n\n  // updates both scroll properties (if needed)\n  _checkScrolling: function(scrollObj, opts) {\n    var xScroll = scrollObj[0];\n    var yScroll = scrollObj[1];\n\n    this.set(\"_alignmentScrollLeft\", xScroll, opts);\n    return this.set(\"_alignmentScrollTop\", yScroll, opts);\n  },\n\n  getMaxAlignmentHeight: function() {\n    var height = 0;\n    this.model.each(function(seq) {\n      return height += seq.attributes.height || 1;\n    });\n\n    return (height * this.get(\"rowHeight\"));\n  },\n\n  getMaxAlignmentWidth: function() {\n    return this.model.getMaxLength() * this.get(\"columnWidth\");\n  }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/zoomer.js","var Feature = require(\"./Feature\");\nvar Model = require(\"backbone-thin\").Model;\n\nmodule.exports = Feature = Model.extend({\n\n  defaults:\n    {xStart: -1,\n    xEnd: -1,\n    height: -1,\n    text: \"\",\n    fillColor: \"red\",\n    fillOpacity: 0.5,\n    type: \"rectangle\",\n    borderSize: 1,\n    borderColor: \"black\",\n    borderOpacity: 0.5,\n    validate: true,\n    row: 0\n    },\n\n  initialize: function(obj) {\n    if ((obj.start != null)) {\n      // gff counts from 1 where MSA starts at 0\n      // This fix that misalignment\n      this.set(\"xStart\", (obj.start-1));\n    }\n    if ((obj.end != null)) {\n      this.set(\"xEnd\", (obj.end-1));\n    }\n    // name has a predefined meaning\n    if ((obj.attributes != null)) {\n      if ((obj.attributes.Name != null)) {\n        this.set(\"text\", obj.attributes.Name);\n      }\n      if ((obj.attributes.Color != null)) {\n        this.set(\"fillColor\", obj.attributes.Color);\n      }\n    }\n\n    if (this.attributes.xEnd < this.attributes.xStart) {\n      console.warn(\"invalid feature range for\", this.attributes);\n    }\n\n    if (!_.isNumber(this.attributes.xStart) || !_.isNumber(this.attributes.xEnd)) {\n      console.warn(\"please provide numeric feature ranges\", obj);\n      // trying auto-casting\n      this.set(\"xStart\", parseInt(this.attributes.xStart));\n      return this.set(\"xEnd\", parseInt(this.attributes.xEnd));\n    }\n  },\n\n  validate: function() {\n    if (isNaN(this.attributes.xStart || isNaN(this.attributes.xEnd))) {\n      return \"features need integer start and end.\";\n    }\n  },\n\n  contains: function(index) {\n    return  this.attributes.xStart <= index && index <= this.attributes.xEnd;\n  }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/Feature.js","var FeatureCol;\nvar Feature = require(\"./Feature\");\nvar Collection = require(\"backbone-thin\").Collection;\nvar _ = require(\"underscore\");\n\nmodule.exports = FeatureCol = Collection.extend({\n  model: Feature,\n\n  constructor: function() {\n    this.startOnCache = [];\n    // invalidate cache\n    this.on( \"all\", (function() {\n      return this.startOnCache = [];\n    }\n    ), this\n    );\n    return Collection.apply(this, arguments);\n  },\n\n  // returns all features starting on index\n  startOn: function(index) {\n    if (!(this.startOnCache[index] != null)) {\n      this.startOnCache[index] = this.where({xStart: index});\n    }\n    return this.startOnCache[index];\n  },\n\n  contains: function(index) {\n    return this.reduce( (function(el,memo) {\n      return memo || el.contains(index);\n    }\n    ), false\n    );\n  },\n\n  getFeatureOnRow: function(row,x) {\n    return this.filter(function(el) {\n      return el.get(\"row\") === row && el.get(\"xStart\") <= x && x <= el.get(\"xEnd\");\n    });\n  },\n\n  // tries to auto-fit the rows\n  // not a very efficient algorithm\n  assignRows: function() {\n\n    var len = (this.max(function(el) { return el.get(\"xEnd\"); })).attributes.xEnd;\n    var rows = (() => {\n      var result = [];\n      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n        result.push(0);\n      }\n      return result;\n    })();\n\n    this.each(function(el) {\n      var max = 0;\n      var start = el.get(\"xStart\");\n      var end = el.get(\"xEnd\");\n      for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x--) {\n        if (rows[x] > max) {\n          max = rows[x];\n        }\n        rows[x]++;\n      }\n      return el.set(\"row\", max);\n    });\n\n    return _.max(rows);\n  },\n\n  getCurrentHeight: function() {\n    return (this.max(function(el) { return el.get(\"row\"); })).attributes.row + 1;\n  },\n\n  // gives the minimal needed number of rows\n  // not a very efficient algorithm\n  // (there is one in O(n) )\n  getMinRows: function() {\n\n    var len = (this.max(function(el) { return el.get(\"xEnd\"); })).attributes.xEnd;\n    var rows = ((() => {\n      var result = [];\n      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n        result.push(0);\n      }\n      return result;\n    })());\n\n    this.each(function(el) {\n      return (() => {\n        var result = [];\n        var start = el.get(\"xStart\");\n        var end = el.get(\"xEnd\");\n        for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x++) {\n          result.push(rows[x]++);\n        }\n        return result;\n      })();\n    });\n\n    return _.max(rows);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/FeatureCol.js","var SeqManager;\nvar Sequence = require(\"./Sequence\");\nvar FeatureCol = require(\"./FeatureCol\");\nvar Collection = require(\"backbone-thin\").Collection;\n\nmodule.exports = SeqManager = Collection.extend({\n  model: Sequence,\n\n  constructor: function(seqs, g) {\n    Collection.apply(this, arguments);\n    this.g = g;\n\n    this.on( \"add reset remove\", (() => {\n      // invalidate cache\n      this.lengthCache = null;\n      return this._bindSeqsWithFeatures();\n    }), this\n    );\n\n    // use the first seq as reference as default\n    this.on(\"reset\", () => {\n      return this._autoSetRefSeq();\n    });\n    this._autoSetRefSeq();\n\n    this.lengthCache = null;\n\n    this.features = {};\n    return this;\n  },\n\n  // gives the max length of all sequences\n  // (cached)\n  getMaxLength: function() {\n    if (this.models.length === 0) { return 0; }\n    if (this.lengthCache === null) {\n      this.lengthCache = this.max(function(seq) { return seq.get(\"seq\").length; }).get(\"seq\").length;\n    }\n    return this.lengthCache;\n  },\n\n  // gets the previous model\n  // @param endless [boolean] for the first element\n  // true: returns the last element, false: returns undefined\n  prev: function(model, endless) {\n    var index = this.indexOf(model) - 1;\n    if (index < 0 && endless) { index = this.length - 1; }\n    return this.at(index);\n  },\n\n  // gets the next model\n  // @param endless [boolean] for the last element\n  // true: returns the first element, false: returns undefined\n  next: function(model, endless) {\n    var index = this.indexOf(model) + 1;\n    if (index === this.length && endless) { index = 0; }\n    return this.at(index);\n  },\n\n  // @returns n [int] number of hidden columns until n\n  calcHiddenSeqs: function(n) {\n    var nNew = n;\n    for (var i = 0; 0 < nNew ? i <= nNew : i >= nNew; 0 < nNew ? i++ : i--) {\n      if (this.at(i).get(\"hidden\")) {\n        nNew++;\n      }\n    }\n    return nNew - n;\n  },\n\n  // you can add features independent to the current seqs as they may be added\n  // later (lagging connection)\n  addFeatures: function(features) {\n    if ((features.config != null)) {\n      var obj = features;\n      features = features.seqs;\n      if ((obj.config.colors != null)) {\n        var colors = obj.config.colors;\n        _.each(features, function(seq) {\n          return _.each(seq, function(val) {\n            if ((colors[val.feature] != null)) {\n              return val.fillColor = colors[val.feature];\n            }\n          });\n        });\n      }\n    }\n    if (_.isEmpty(this.features)) {\n      this.features = features;\n    } else {\n      _.each(features, (val, key) => {\n        if (!this.features.hasOwnProperty(key)) {\n          return this.features[key] = val;\n        } else {\n          return this.features[key] = _.union(this.features[key], val);\n        }\n      });\n    }\n    // rehash\n    return this._bindSeqsWithFeatures();\n  },\n\n  // adds features to a sequence\n  _bindSeqWithFeatures: function(seq) {\n    // TODO: probably we don't always want to bind to name\n    var features = this.features[seq.attributes.name];\n    if (features) {\n      seq.set(\"features\", new FeatureCol(features));\n      seq.attributes.features.assignRows();\n      return seq.set(\"height\", seq.attributes.features.getCurrentHeight() + 1);\n    }\n  },\n\n  // rehash the sequence feature binding\n  _bindSeqsWithFeatures: function() {\n    return this.each((seq) =>  this._bindSeqWithFeatures(seq));\n  },\n\n  // removes all features from the cache (not from the seqs)\n  removeAllFeatures: function() {\n    return delete this.features;\n  },\n\n  _autoSetRefSeq: function() {\n    if (this.length > 0) {\n      return this.at(0).set(\"ref\", true);\n    }\n  },\n\n  // sets a sequence (e.g. BLAST start or consensus seq) as reference\n  setRef: function(seq) {\n    var obj = this.get(seq);\n    this.each(function(s) {\n      if (seq.cid) {\n        if (obj.cid === s.cid) {\n          return s.set(\"ref\", true);\n        } else {\n          return s.set(\"ref\", false);\n        }\n      }\n    });\n\n    this.g.config.set(\"hasRef\", true);\n    return this.trigger(\"change:reference\", seq);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/SeqCollection.js","var Sequence;\nvar Model = require(\"backbone-thin\").Model;\nvar FeatureCol = require(\"./FeatureCol\");\n\nmodule.exports = Sequence = Model.extend({\n\n  defaults: {\n    name: \"\",\n    id: \"\",\n    seq: \"\",\n    height: 1,\n    ref: false, // reference: the sequence used in BLAST or the consensus seq\n  },\n\n  initialize: function() {\n    // residues without color\n    this.set(\"grey\", []);\n    if (!(this.get(\"features\") != null)) {\n      return this.set(\"features\", new FeatureCol());\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/Sequence.js","module.exports.bmath = require(\"./bmath\");\nmodule.exports.proxy = require(\"./proxy\");\nmodule.exports.seqgen = require(\"./seqgen\");\nmodule.exports.file = require(\"./file\");\nmodule.exports.export = require(\"./export\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","var Sequence = require(\"biojs-model\").seq;\nvar BMath = require(\"./bmath\");\nvar Stat = require(\"stat.seqs\");\n\nvar seqgen = module.exports =\n  {_generateSequence: function(len) {\n    var text = \"\";\n    var end = len - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      text += seqgen.getRandomChar();\n    }\n    return text;\n  },\n\n  // generates a dummy sequences\n  // @param len [int] number of generated sequences\n  // @param seqLen [int] length of the generated sequences\n  getDummySequences: function(len, seqLen) {\n    var seqs = [];\n    if (!(typeof len !== \"undefined\" && len !== null)) { len = BMath.getRandomInt(3,5); }\n    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) { seqLen = BMath.getRandomInt(50,200); }\n\n    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n      seqs.push(new Sequence(seqgen._generateSequence(seqLen), \"seq\" + i,\"r\" + i));\n    }\n    return seqs;\n  },\n\n  getRandomChar: function(dict) {\n    var possible = dict || \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    return possible.charAt(Math.floor(Math.random() * possible.length));\n  },\n\n  // generates a dummy sequences\n  // @param len [int] number of generated sequences\n  // @param seqLen [int] length of the generated sequences\n  genConservedSequences: function(len, seqLen, dict) {\n    var seqs = [];\n    if (!(typeof len !== \"undefined\" && len !== null)) { len = BMath.getRandomInt(3,5); }\n    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) { seqLen = BMath.getRandomInt(50,200); }\n\n    dict = dict || \"ACDEFGHIKLMNPQRSTVWY---\";\n\n    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n      seqs[i-1] = \"\";\n    }\n\n    var tolerance = 0.2;\n\n    var conservAim = 1;\n    var end = seqLen - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      if (i % 3 === 0) {\n        conservAim = (BMath.getRandomInt(50,100)) / 100;\n      }\n      var observed = [];\n      var end1 = len - 1;\n      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n        var counter = 0;\n        while (counter < 100) {\n          var c = seqgen.getRandomChar(dict);\n          var cConserv = Stat(observed);\n          cConserv.addSeq(c);\n          counter++;\n          if (Math.abs(conservAim - cConserv.scale(cConserv.conservation())[0]) < tolerance) {\n            break;\n          }\n        }\n        seqs[j] += c;\n        observed.push(c);\n      }\n    }\n\n    var pseqs = [];\n    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n      pseqs.push(new Sequence(seqs[i-1], \"seq\" + i, \"r\" + i));\n    }\n\n    return pseqs;\n  }\n  };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/seqgen.js","var treeHelper;\nvar _ = require(\"underscore\");\nvar SeqCollection = require(\"../model/SeqCollection\");\n\nmodule.exports = treeHelper =  function(msa) {\n  this.msa = msa;\n  return this;\n};\n\nvar tf =\n\n    {loadTree: function(cb) {\n      return this.msa.g.package.loadPackages([\"msa-tnt\", \"biojs-io-newick\"], cb);\n    },\n\n    showTree: function(newickStr) {\n      var newick = this.require(\"biojs-io-newick\");\n      if (typeof newickStr === \"string\") {\n        var newickObj = newick.parse_newick(newickStr);\n      } else {\n        newickObj = newickStr;\n      }\n\n      var mt = this.require(\"msa-tnt\");\n\n      var sel = new mt.selections();\n      var treeDiv = document.createElement(\"div\");\n    //   @msa.el.insertBefore treeDiv, @msa.el.childNodes[0]\n      this.msa.el.appendChild(treeDiv);\n\n      console.log(this.msa.seqs.models);\n      console.log(newickObj);\n\n      var nodes = mt.app({\n        seqs: this.msa.seqs.toJSON(),\n        tree: newickObj\n      });\n\n      console.log(\"nodes\", nodes);\n\n      var t = new mt.adapters.tree({\n        model: nodes,\n        el: treeDiv,\n        sel: sel\n      });\n\n      //treeDiv.style.width = \"500px\"\n\n      // construct msa in a virtual dom\n      var m = new mt.adapters.msa({\n          model: nodes,\n          sel: sel,\n          msa: this.msa\n      });\n\n      // remove top collection\n      _.each(nodes.models, function(e) {\n        delete e.collection;\n        return Object.setPrototypeOf(e, require(\"backbone-thin\").Model.prototype);\n      }\n      );\n\n      this.msa.seqs.reset(nodes.models);\n      //@msa.draw()\n      //@msa.render()\n      return console.log(this.msa.seqs);\n    },\n\n    // workaround against browserify's static analysis\n    require(pkg) {\n      return require(pkg);\n    }\n    };\n\n_.extend(treeHelper.prototype , tf);\n\n\n// WEBPACK FOOTER //\n// ./src/utils/tree.js","/*\n * biojs-io-gff\n * https://github.com/greenify/biojs-io-gff\n *\n * Copyright (c) 2014 greenify\n * Licensed under the Apache 2 license.\n */\n\nvar parser = require(\"biojs-io-parser\");\n\nvar gff = function() {};\nparser.mixin(gff);\n\nmodule.exports = gff;\n\nvar utils = require(\"./utils\");\nvar jalview = require(\"./jalview\");\n\n/**\n * Method responsible to parse GFF\n * @see https://www.sanger.ac.uk/resources/software/gff/spec.html#t_2\n *\n * @example\n *\n *     biojsiogff.parse('SEQ1  EMBL  atg  103  105  .  +  0');\n *\n * @method parse\n * @param {String} file GFF file\n * @return {String} Returns JSON representation\n */\n\ngff.parseLines = function(file) {\n  var lines = file.split(\"\\n\");\n  var config = {};\n  var arr = [];\n  config.type = gff._guessType(lines);\n  var offset = 0;\n  if (config.type === \"jalview\") {\n    var ret = jalview.readHeader(lines);\n    //console.log(ret);\n    offset = ret.offset;\n    config.colors = ret.colors;\n    arr = ret.features;\n  }\n  for (var i = offset; i < lines.length; i++) {\n    // ignore comments for now\n    var line = lines[i];\n    if (line.length === 0 || line[0] === \"#\")\n      continue;\n\n    line = gff.parseLine(line);\n    if (line !== undefined)\n      arr.push(line);\n  }\n  return {\n    features: arr,\n    config: config\n  };\n};\n\ngff._guessType = function(line) {\n  if (line[0].substring(0, 15) === \"##gff-version 3\") {\n    return \"gff3\";\n  } else if (line[0].indexOf(\"#\") < 0 && line[0].split(\"\\t\").length === 2) {\n    // no comments and two columns. let's hope this is from jalview\n    return \"jalview\";\n  }\n  // unable to read file header. lets hope this is gff3\n  return \"gff3\";\n};\n\n/**\n * parses GFF and returns a dictionary of all seqs with their features\n * @method parseSeqs\n * @param {String} file GFF file\n * @return {String} Returns dictionary of sequences with an array of their features\n */\ngff.parseSeqs = gff.parse = function(file) {\n  var obj = gff.parseLines (file);\n  var seqs = {};\n  obj.features.forEach(function(entry) {\n    var key = entry.seqname;\n    if (seqs[key] === undefined) seqs[key] = [];\n    delete entry.seqname;\n    seqs[key].push(entry);\n  });\n  delete obj.features;\n  obj.seqs = seqs;\n  return obj;\n};\n\n/*\n * parses one GFF line and returns it\n */\ngff.parseLine = function(line) {\n  var tLine = {};\n\n  var columns = line.split(/\\s+/);\n  // ignore empty lines\n  if (columns.length === 1)\n    return;\n\n  tLine.seqname = columns[0];\n  tLine.source = columns[1];\n  tLine.feature = columns[2];\n  tLine.start = parseInt(columns[3]);\n  tLine.end = parseInt(columns[4]);\n  tLine.score = columns[5]; // only DNA,RNA\n  tLine.strand = columns[6]; // only DNA,RNA\n  tLine.frame = columns[7]; // only DNA,RNA\n  var attr = columns.slice(8).join(\" \"); // plain text comments\n\n  // remove undefined (dot)\n  Object.keys(tLine).forEach(function(key) {\n    if (typeof(tLine[key]) === \"string\") {\n        tLine[key] = tLine[key].trim(); // triming is important\n    }\n    if (tLine[key] === \".\") {\n      tLine[key] = undefined;\n    }\n  });\n\n  // parse optional parameters\n  if (tLine.score) {\n    tLine.score = parseFloat(tLine.score);\n  }\n  if (tLine.frame) {\n    tLine.frame = parseInt(tLine.frame);\n  }\n\n  tLine.attributes = utils.extractKeys(attr);\n  return tLine;\n};\n\ngff.exportLine = function(line) {\n  var attrs = Object.keys(line.attributes).map(function(key) {\n    return key + \"=\" + line.attributes[key];\n  }).join(\";\");\n  var cells = [line.seqname, line.source, line.feature, line.start, line.end, line.score,\n    line.strand, line.frame, attrs\n  ];\n  cells = cells.map(function(e) {\n    if (e === undefined) {\n      return \".\";\n    }\n    return e;\n  });\n  return cells.join(\"\\t\");\n};\n\ngff.exportLines = function(lines) {\n  return \"##gff-version 3\\n\" + lines.map(gff.exportLine).join(\"\\n\");\n};\n\ngff.exportSeqs = gff.export = function(seqs) {\n  var lines = [];\n  var pLine = function(e) {\n    e.seqname = key;\n    lines.push(e);\n  };\n\n  for (var key in seqs) {\n    seqs[key].forEach(pLine);\n  }\n  return gff.exportLines(lines);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-gff/lib/index.js\n// module id = 37\n// module chunks = 0","var GenericReader;\n\nvar xhr = require('request');\nvar vow = require('vow');\n\nmodule.exports = GenericReader = (function() {\n  function GenericReader() {}\n\n  // returns a promise if callback is undefined\n  GenericReader.read = function(url, callback) {\n    var onret;\n    onret = (function(_this) {\n      return function(err, response, text) {\n        return GenericReader._onRetrieval(err, text, callback, _this);\n      };\n    })(this);\n\n    if(typeof callback === \"undefined\"){\n      var prom = vow.defer();\n      callback = function(err, res){\n        if(err){\n          prom.reject(err);\n        }else{\n          prom.resolve(res);\n        }\n      };\n      xhr(url, onret);\n      return prom.promise();\n    }else{\n      return xhr(url, onret);\n    }\n  };\n\n  GenericReader._onRetrieval = function(err, text, callback, _this) {\n    var rText;\n    if(typeof err !== \"undefined\"){\n      rText = _this.parse(text);\n    }\n    return callback.call(_this, err, rText);\n  };\n\n  // provide a convenient shortcut to inherit\n  GenericReader.extend = function(obj, statics){\n    return extend(GenericReader, obj, statics); \n  };\n  // Mixin utility\n  GenericReader.mixin = function(proto) {\n    var exports = ['read'];\n    if(typeof proto !== \"object\"){\n      proto = proto.prototype;\n    }\n    exports.forEach(function(name) {\n      proto[name] = GenericReader[name];\n    }, this);\n    return proto;\n  };\n\n  return GenericReader;\n\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-parser/lib/index.js\n// module id = 38\n// module chunks = 0","/*\n * msa-seqtools\n * https://github.com/greenify/msa-seqtools\n *\n * Copyright (c) 2014 greenify\n * Licensed under the MIT license.\n */\n\nvar st = {};\nmodule.exports = st;\n\n/****\n * Seems to be lots of different ways to format FASTA headers. \n * \n * Generally there's an ID and a DESCRIPTION\n *   >ID DESCRIPTION\n * \n *   >(parts|of|ID) (DESCRIPTION with optional key=values)\n *   \n * This is complicated by the fact that the \"values\" in the description can have spaces\n * e.g. OS=Arabidopsis thaliana GN=CCD8\n * \n ****\n*/\n\n// extract IDs and push them to the meta dict\nst.getMeta = function(label) {\n  \n\tvar full_id = false, full_desc = false;\n\tvar name, ids = {}, details = {}, description;\n\n// \tconsole.log( \"getMeta.label: \", label );\n  \n\tvar label_parts = label.split(\" \");\n\n\tif ( label_parts.length >= 1 ) {\n\t\tfull_id   = label_parts.shift();     // everything up to the first white space\n\t\tfull_desc = label_parts.join(\" \");   // everything else\n\t}\n\telse {\n\t\tfull_id = label; \n\t}\n\t\n// \tconsole.log( \"full_id\", full_id );\n// \tconsole.log( \"full_desc\", full_desc );\n\t\n\tif ( full_id ) {\n\t\tvar id_parts = full_id.split('|');\n\t\t\n\t\t// the last item is the accession\n\t\tname = id_parts.pop(); \n\t\t\n\t\tdetails.en = name;\n\t\t\n\t\t// everything else should be pairs: db|id\n\t\twhile ( id_parts.length != 0 ) {\n\t\t\tvar db = id_parts.shift();\n\t\t\tvar id = id_parts.shift();\n\t\t\tids[ db ] = id;\n\t\t}\n\t}\n\telse {\n\t\tname = full_id;\n\t}\n\n\tif ( full_desc ) {\n\t\n\t\tvar kv_parts = full_desc.split('=');\n\t\n\t\tif ( kv_parts.length > 1 ) {\n\t\t\t\n\t\t\tvar current_key, next_key;\n\t\t\tvar kv;\n\t\t\tvar kv_idx_max = kv_parts.length - 1;\n\t\t\tvar kv_idx = 0;\n\t\t\tkv_parts.forEach( function( value_and_maybe_next_key ) {\n\t\t\t\t\n\t\t\t\tvalue_and_maybe_next_key = value_and_maybe_next_key.trim();\n\t\t\t\t\n\t\t\t\tvar value_parts = value_and_maybe_next_key.split(\" \");\n\t\t\t\tvar value;\n\t\t\t\tif ( value_parts.length > 1 ) {\n\t\t\t\t\tnext_key = value_parts.pop();\n\t\t\t\t\tvalue = value_parts.join(' ');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue = value_and_maybe_next_key;\n\t\t\t\t}\n\n\t\t\t\tif ( current_key ) {\n\t\t\t\t\tvar key = current_key.toLowerCase();\n\t\t\t\t\tdetails[ key ] = value;\n\t\t\t\t\t//console.log( \"details[\" + key + \"] = \" + value );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdescription = value;\n\t\t\t\t\t//console.log( \"description=\" + value );\n\t\t\t\t}\n\t\t\t\tcurrent_key = next_key;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tdescription = kv_parts.shift();\n\t\t}\n\t}\n\t\n\tvar meta = {\n\t\tname: name,\n\t\tids: ids,\n\t\tdetails: details,\n\t};\n\t\n\tif ( description ) {\n\t\tmeta.desc = description\n\t}\n\t\n// \tconsole.log( \"meta\", meta );\n\t\n\treturn meta;\n};\n\nvar findSepInArr = function(arr, sep) {\n  for (var i = 0; i < arr.lenght; i++) {\n    if (arr[i].indexOf(i)) {\n      return i;\n    }\n  }\n  return arr.length - 1;\n};\n\nvar strToDict = function(str, sep, toJoin) {\n  toJoin = toJoin || {};\n  var entries = str.split(sep);\n  toJoin[entries[0].toLowerCase()] = entries[1];\n  return toJoin;\n};\n\nvar identDB = {\n  \"sp\": {\n    link: \"http://www.uniprot.org/%s\",\n    name: \"Uniprot\"\n  },\n  \"tr\": {\n    link: \"http://www.uniprot.org/%s\",\n    name: \"Trembl\"\n  },\n  \"gb\": {\n    link: \"http://www.ncbi.nlm.nih.gov/nuccore/%s\",\n    name: \"Genbank\"\n  },\n  \"pdb\": {\n    link: \"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s\",\n    name: \"PDB\"\n  }\n};\n\nst.buildLinks = function(meta) {\n  var links = {};\n  meta = meta || {};\n  Object.keys(meta).forEach(function(id) {\n    if (id in identDB) {\n      var entry = identDB[id];\n      var link = entry.link.replace(\"%s\", meta[id]);\n      links[entry.name] = link;\n    }\n  });\n  return links;\n};\n\n\n// search for a text\nst.contains = function(text, search) {\n  return ''.indexOf.call(text, search, 0) !== -1;\n};\n\n// split after e.g. 80 chars\nst.splitNChars = function(txt, num) {\n  var i, _ref;\n  num = num || 80;\n  var result = [];\n  for (i = 0, _ref = txt.length - 1; i <= _ref; i += num) {\n    result.push(txt.substr(i, num));\n  }\n  return result;\n};\n\nst.reverse = function(seq) {\n  return seq.split('').reverse().join('');\n}\n\nst.complement = function(seq) {\n  var newSeq = seq + \"\";\n  var replacements = [\n    // cg\n    [/g/g, \"0\"],\n    [/c/g, \"1\"],\n    [/0/g, \"c\"],\n    [/1/g, \"g\"],\n    // CG\n    [/G/g, \"0\"],\n    [/C/g, \"1\"],\n    [/0/g, \"C\"],\n    [/1/g, \"G\"],\n    // at\n    [/a/g, \"0\"],\n    [/t/g, \"1\"],\n    [/0/g, \"t\"],\n    [/1/g, \"a\"],\n    // AT\n    [/A/g, \"0\"],\n    [/T/g, \"1\"],\n    [/0/g, \"T\"],\n    [/1/g, \"A\"],\n  ];\n\n  for(var rep in replacements){\n    newSeq = newSeq.replace(replacements[rep][0], replacements[rep][1]);\n  }\n  return newSeq;\n}\n\nst.reverseComplement = function(seq){\n  return st.reverse(st.complement(seq));\n}\n\nst.model = function Seq(seq, name, id) {\n  this.seq = seq;\n  this.name = name;\n  this.id = id;\n  this.ids = {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-seqtools/lib/index.js\n// module id = 39\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 40\n// module chunks = 0","//module.exports.VerticalSelection = require(\"./vertical_selection\")\n//module.exports.HorizontalSelection = require(\"./horizontal_selection\")\n//module.exports.RegionSelect = require(\"./region_select\")\n//module.exports.PositionSelect = require(\"./position_selection\")\nmodule.exports.SelectionManager = require(\"./SelectionCol\");\n//module.exports.SelectionList = require(\"./selectionlist\")\n//module.exports.RectangularSelect = require(\"./rectangular_select\")\n\n\n\n// WEBPACK FOOTER //\n// ./src/g/selection/index.js","module.exports.seq = require(\"./Sequence\");\nmodule.exports.seqcol = require(\"./SeqCollection\");\nmodule.exports.feature = require(\"./Feature\");\nmodule.exports.featurecol = require(\"./FeatureCol\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/index.js","//     Backbone.js 1.1.2\n\n//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\nvar Events = require(\"backbone-events-standalone\");\nvar extend = require(\"backbone-extend-standalone\");\nvar _ = require(\"underscore\");\n\n// Backbone.Model\n// --------------\n\n// Backbone **Models** are the basic data object in the framework --\n// frequently representing a row in a table in a database on your server.\n// A discrete chunk of data and a bunch of useful, related methods for\n// performing computations and transformations on that data.\n\n// Create a new model with the specified attributes. A client id (`cid`)\n// is automatically generated and assigned for you.\nvar Model = function(attributes, options) {\n  var attrs = attributes || {};\n  options || (options = {});\n  this.cid = _.uniqueId('c');\n  this.attributes = {};\n  if (options.collection) this.collection = options.collection;\n  if (options.parse) attrs = this.parse(attrs, options) || {};\n  attrs = _.defaults({}, attrs, _.result(this, 'defaults'));\n  this.set(attrs, options);\n  this.changed = {};\n  this.initialize.apply(this, arguments);\n};\n\n// Attach all inheritable methods to the Model prototype.\n_.extend(Model.prototype, Events, {\n\n  // A hash of attributes whose current and previous value differ.\n  changed: null,\n\n  // The value returned during the last failed validation.\n  validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n  idAttribute: 'id',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n  initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n  toJSON: function(options) {\n    return _.clone(this.attributes);\n  },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n  sync: function() {\n    return Backbone.sync.apply(this, arguments);\n  },\n\n    // Get the value of an attribute.\n  get: function(attr) {\n    return this.attributes[attr];\n  },\n\n    // Get the HTML-escaped value of an attribute.\n  escape: function(attr) {\n    return _.escape(this.get(attr));\n  },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n  has: function(attr) {\n    return this.get(attr) != null;\n  },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n  set: function(key, val, options) {\n    var attr, attrs, unset, changes, silent, changing, prev, current;\n    if (key == null) return this;\n\n    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n    if (typeof key === 'object') {\n      attrs = key;\n      options = val;\n    } else {\n      (attrs = {})[key] = val;\n    }\n\n    options || (options = {});\n\n    // Run validation.\n    if (!this._validate(attrs, options)) return false;\n\n    // Extract attributes and options.\n    unset           = options.unset;\n    silent          = options.silent;\n    changes         = [];\n    changing        = this._changing;\n    this._changing  = true;\n\n    if (!changing) {\n      this._previousAttributes = _.clone(this.attributes);\n      this.changed = {};\n    }\n    current = this.attributes, prev = this._previousAttributes;\n\n    // Check for changes of `id`.\n    if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\n    // For each `set` attribute, update or delete the current value.\n    for (attr in attrs) {\n      val = attrs[attr];\n      if (!_.isEqual(current[attr], val)) changes.push(attr);\n      if (!_.isEqual(prev[attr], val)) {\n        this.changed[attr] = val;\n      } else {\n        delete this.changed[attr];\n      }\n      unset ? delete current[attr] : current[attr] = val;\n    }\n\n    // Trigger all relevant attribute changes.\n    if (!silent) {\n      if (changes.length) this._pending = options;\n      for (var i = 0, length = changes.length; i < length; i++) {\n        this.trigger('change:' + changes[i], this, current[changes[i]], options);\n      }\n    }\n\n    // You might be wondering why there's a `while` loop here. Changes can\n    // be recursively nested within `\"change\"` events.\n    if (changing) return this;\n    if (!silent) {\n      while (this._pending) {\n        options = this._pending;\n        this._pending = false;\n        this.trigger('change', this, options);\n      }\n    }\n    this._pending = false;\n    this._changing = false;\n    return this;\n  },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n  unset: function(attr, options) {\n    return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n  },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n  clear: function(options) {\n    var attrs = {};\n    for (var key in this.attributes) attrs[key] = void 0;\n    return this.set(attrs, _.extend({}, options, {unset: true}));\n  },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n  hasChanged: function(attr) {\n    if (attr == null) return !_.isEmpty(this.changed);\n    return _.has(this.changed, attr);\n  },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n  changedAttributes: function(diff) {\n    if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n    var val, changed = false;\n    var old = this._changing ? this._previousAttributes : this.attributes;\n    for (var attr in diff) {\n      if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n      (changed || (changed = {}))[attr] = val;\n    }\n    return changed;\n  },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n  previous: function(attr) {\n    if (attr == null || !this._previousAttributes) return null;\n    return this._previousAttributes[attr];\n  },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n  previousAttributes: function() {\n    return _.clone(this._previousAttributes);\n  },\n\n    // Fetch the model from the server. If the server's representation of the\n    // model differs from its current attributes, they will be overridden,\n    // triggering a `\"change\"` event.\n  fetch: function(options) {\n    options = options ? _.clone(options) : {};\n    if (options.parse === void 0) options.parse = true;\n    var model = this;\n    var success = options.success;\n    options.success = function(resp) {\n      if (!model.set(model.parse(resp, options), options)) return false;\n      if (success) success(model, resp, options);\n      model.trigger('sync', model, resp, options);\n    };\n    wrapError(this, options);\n    return this.sync('read', this, options);\n  },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n  save: function(key, val, options) {\n    var attrs, method, xhr, attributes = this.attributes;\n\n    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n    if (key == null || typeof key === 'object') {\n      attrs = key;\n      options = val;\n    } else {\n      (attrs = {})[key] = val;\n    }\n\n    options = _.extend({validate: true}, options);\n\n    // If we're not waiting and attributes exist, save acts as\n    // `set(attr).save(null, opts)` with validation. Otherwise, check if\n    // the model will be valid when the attributes, if any, are set.\n    if (attrs && !options.wait) {\n      if (!this.set(attrs, options)) return false;\n    } else {\n      if (!this._validate(attrs, options)) return false;\n    }\n\n    // Set temporary attributes if `{wait: true}`.\n    if (attrs && options.wait) {\n      this.attributes = _.extend({}, attributes, attrs);\n    }\n\n    // After a successful server-side save, the client is (optionally)\n    // updated with the server-side state.\n    if (options.parse === void 0) options.parse = true;\n    var model = this;\n    var success = options.success;\n    options.success = function(resp) {\n      // Ensure attributes are restored during synchronous saves.\n      model.attributes = attributes;\n      var serverAttrs = model.parse(resp, options);\n      if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);\n      if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n        return false;\n      }\n      if (success) success(model, resp, options);\n      model.trigger('sync', model, resp, options);\n    };\n    wrapError(this, options);\n\n    method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n    if (method === 'patch' && !options.attrs) options.attrs = attrs;\n    xhr = this.sync(method, this, options);\n\n    // Restore attributes.\n    if (attrs && options.wait) this.attributes = attributes;\n\n    return xhr;\n  },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n  destroy: function(options) {\n    options = options ? _.clone(options) : {};\n    var model = this;\n    var success = options.success;\n\n    var destroy = function() {\n      model.stopListening();\n      model.trigger('destroy', model, model.collection, options);\n    };\n\n    options.success = function(resp) {\n      if (options.wait || model.isNew()) destroy();\n      if (success) success(model, resp, options);\n      if (!model.isNew()) model.trigger('sync', model, resp, options);\n    };\n\n    if (this.isNew()) {\n      options.success();\n      return false;\n    }\n    wrapError(this, options);\n\n    var xhr = this.sync('delete', this, options);\n    if (!options.wait) destroy();\n    return xhr;\n  },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n  url: function() {\n    var base =\n      _.result(this, 'urlRoot') ||\n      _.result(this.collection, 'url') ||\n      urlError();\n    if (this.isNew()) return base;\n    return base.replace(/([^\\/])$/, '$1/') + encodeURIComponent(this.id);\n  },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n  parse: function(resp, options) {\n    return resp;\n  },\n\n    // Create a new model with identical attributes to this one.\n  clone: function() {\n    return new this.constructor(this.attributes);\n  },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n  isNew: function() {\n    return !this.has(this.idAttribute);\n  },\n\n    // Check if the model is currently in a valid state.\n  isValid: function(options) {\n    return this._validate({}, _.extend(options || {}, { validate: true }));\n  },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n  _validate: function(attrs, options) {\n    if (!options.validate || !this.validate) return true;\n    attrs = _.extend({}, this.attributes, attrs);\n    var error = this.validationError = this.validate(attrs, options) || null;\n    if (!error) return true;\n    this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n    return false;\n  }\n\n});\n\n// Underscore methods that we want to implement on the Model.\nvar modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit', 'chain', 'isEmpty'];\n\n// Mix in each Underscore method as a proxy to `Model#attributes`.\n_.each(modelMethods, function(method) {\n  if (!_[method]) return;\n  Model.prototype[method] = function() {\n    var args = slice.call(arguments);\n    args.unshift(this.attributes);\n    return _[method].apply(_, args);\n  };\n});\n\n// setup inheritance\nModel.extend = extend;\nmodule.exports = Model;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-thin/model.js\n// module id = 43\n// module chunks = 0","// Generated by CoffeeScript 1.8.0\nvar Clustal, GenericReader, st;\n\nGenericReader = require(\"biojs-io-parser\");\n\nst = require(\"msa-seqtools\");\n\nmodule.exports = Clustal = {\n  parse: function(text) {\n    var blockstate, cSeq, k, keys, label, line, lines, match, obj, regex, seqCounter, seqs, sequence;\n    seqs = [];\n    if (Object.prototype.toString.call(text) === '[object Array]') {\n      lines = text;\n    } else {\n      lines = text.split(\"\\n\");\n    }\n    if (lines[0].slice(0, 6) === !\"CLUSTAL\") {\n      throw new Error(\"Invalid CLUSTAL Header\");\n    }\n    k = 0;\n    blockstate = 1;\n    seqCounter = 0;\n    while (k < lines.length) {\n      k++;\n      line = lines[k];\n      if ((line == null) || line.length === 0) {\n        blockstate = 1;\n        continue;\n      }\n      if (line.trim().length === 0) {\n        blockstate = 1;\n        continue;\n      } else {\n        if (st.contains(line, \"*\")) {\n          continue;\n        }\n        if (blockstate === 1) {\n          seqCounter = 0;\n          blockstate = 0;\n        }\n        regex = /^(?:\\s*)(\\S+)(?:\\s+)(\\S+)(?:\\s*)(\\d*)(?:\\s*|$)/g;\n        match = regex.exec(line);\n        if (match != null) {\n          label = match[1];\n          sequence = match[2];\n          if (seqCounter >= seqs.length) {\n            obj = st.getMeta(label);\n            label = obj.name;\n            cSeq = new st.model(sequence, label, seqCounter);\n            cSeq.ids = obj.ids || {};\n            cSeq.details = obj.details || {};\n            keys = Object.keys(cSeq.ids);\n            if (keys.length > 0) {\n              cSeq.id = cSeq.ids[keys[0]];\n            }\n            seqs.push(cSeq);\n          } else {\n            seqs[seqCounter].seq += sequence;\n          }\n          seqCounter++;\n        } else {\n          console.log(\"parse error\", line);\n        }\n      }\n    }\n    return seqs;\n  }\n};\n\nGenericReader.mixin(Clustal);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-clustal/lib/index.js\n// module id = 44\n// module chunks = 0","var utils = {};\nmodule.exports = utils;\n\nutils.extractKeys = function extractKeys(attr) {\n  // extract key-value definitions\n  var attributes = {};\n  var attrArr = attr.split(\";\");\n  attrArr.forEach(function(el) {\n    var keyArr, key, val;\n    if (el.indexOf(\"=\") > 0) {\n      keyArr = el.split(\"=\");\n      key = keyArr[0];\n      val = keyArr[1];\n      attributes[key] = val;\n    } else if (el.indexOf(\" \") > 0) {\n      keyArr = el.split(\" \");\n      key = keyArr[0];\n      val = keyArr[1].replace(/\"/g, '');\n      attributes[key] = val;\n    }\n  });\n  return attributes;\n};\n\nfunction componentToHex(c) {\n  var hex = c.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nutils.rgbToHex = function(r, g, b) {\n  if(r.length === 3){\n    return utils.rgbToHex(r[0],r[1], r[2]);\n  }\n  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-gff/lib/utils.js\n// module id = 45\n// module chunks = 0","module.exports = function draw_border(context, y, width) {\n  context.beginPath();\n  context.moveTo(0, y);\n  context.lineTo(width, y);\n  context.lineWidth = 1;\n  context.strokeStyle = \"#999999\";\n  context.stroke();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/render/draw/border.js\n// module id = 46\n// module chunks = 0","module.exports = function draw_column_number(context, x, y, col_width, col_num, fontsize, right) {\n  context.font = fontsize + \"px Arial\";\n  context.textAlign = right ? \"right\" : \"center\";\n  context.fillStyle = \"#666666\";\n  context.fillText(col_num, x + (col_width / 2), y);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/render/draw/column_number.js\n// module id = 47\n// module chunks = 0","module.exports = function draw_ticks(context, x, y, height, color) {\n  color = color || '#999999';\n  context.beginPath();\n  context.moveTo(x, y);\n  context.lineTo(x, y + height);\n  context.lineWidth = 1;\n  context.strokeStyle = color;\n  context.stroke();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/render/draw/ticks.js\n// module id = 48\n// module chunks = 0","var Mouse;\n\nmodule.exports = Mouse = {\n  rel: function(e) {\n    var mouseX, mouseY, rect, target;\n    mouseX = e.offsetX;\n    mouseY = e.offsetY;\n    if (mouseX == undefined) {\n      rect = target.getBoundingClientRect();\n      target = e.target || e.srcElement;\n      if (mouseX == undefined) {\n        mouseX = e.clientX - rect.left;\n        mouseY = e.clientY - rect.top;\n      }\n      if (mouseX == undefined) {\n        mouseX = e.pageX - target.offsetLeft;\n        mouseY = e.pageY - target.offsetTop;\n      }\n      if (mouseX == undefined) {\n        console.log(e, \"no mouse event defined. your browser sucks\");\n        return;\n      }\n    }\n    return [mouseX, mouseY];\n  },\n  abs: function(e) {\n    var mouseX, mouseY;\n    mouseX = e.pageX;\n    mouseY = e.pageY;\n    if (mouseX == undefined) {\n      mouseX = e.layerX;\n      mouseY = e.layerY;\n    }\n    if (mouseX == undefined) {\n      mouseX = e.clientX;\n      mouseY = e.clientY;\n    }\n    if (mouseX == undefined) {\n      mouseX = e.x;\n      mouseY = e.y;\n    }\n    return [mouseX, mouseY];\n  },\n  wheelDelta: function(e) {\n    var delta;\n    delta = [e.deltaX, e.deltaY];\n    if (delta[0] == undefined) {\n      // in case there is a more detailed scroll sensor - use it\n      if (e.mozMovementX) {\n        delta = [0, e.mozMovementX];\n      }\n    }\n    // safety first\n    if (isNaN(delta[0])) {\n      delta[0] = 0;\n    }\n    if (isNaN(delta[1])) {\n      delta[1] = 0;\n    }\n    return delta;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mouse-pos/index.js\n// module id = 49\n// module chunks = 0","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/parse-headers/parse-headers.js\n// module id = 50\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 51\n// module chunks = 0","var _ = require(\"underscore\");\n\nvar stat = function(seqs, opts) {\n  // if someone forgets new\n  if (!this || this.constructor !== stat) {\n    return new stat(seqs);\n  }\n  if (seqs === undefined || typeof seqs === \"string\") {\n    throw new TypeError(\"you need to give the seq stat an array\");\n  }\n  //if(seqs.length == 0){\n  //throw new TypeError(\"you need to give the seq stat a real array\");\n  //}\n  this.resetSeqs(seqs);\n  this.alphabetSize = 4;\n  this._useBackground = false;\n  this.useGaps = false;\n  this.ignoredChars = [\"-\", \"*\"];\n  _.extend(this, opts);\n};\n\nstat.prototype.addSeq = function addSeq(seq) {\n  this.seqs.push(seq);\n  this._reset();\n};\n\nstat.prototype.removeSeq = function addSeq(seq) {\n  // check for int or string\n  if (typeof seq === 'number') {\n    this.seqs.splice(seq, 1);\n  } else {\n    // identify matches (we could have multiple)\n    _.each(this.seqs, function(s, i) {\n      if (seq === s) {\n        this.seqs.splice(i, 1);\n      }\n    }.bind(this));\n  }\n  this._reset();\n};\n\nstat.prototype.addSeqs = function addSeqs(seqs) {\n  seqs.forEach(function(seq) {\n    this.addSeq(seq);\n  }.bind(this));\n};\n\nstat.prototype.resetSeqs = function reset(seqs) {\n  this.seqs = [];\n\n  // support sequence models\n  if (! seqs instanceof Array || \"_byId\" in seqs) {\n    this.mseqs = seqs;\n    var mSeqsPluck = function() {\n      var seqArr = this.mseqs.pluck(\"seq\");\n      this.resetSeqs(seqArr);\n    };\n    seqs.on(\"add change reset \", mSeqsPluck, this);\n    mSeqsPluck.call(this);\n  } else {\n    this.addSeqs(seqs);\n    this._reset();\n    this.trigger(\"reset\");\n  }\n};\n\nvar calcValues = [\"consensus\", \"frequency\", \"maxLength\", \"ic\", \"gaps\"];\n\nstat.prototype._reset = function _reset() {\n  for (var i = 0; i < calcValues.length; i++) {\n    this[\"_\" + calcValues[i]] = undefined;\n  }\n  this._identity = undefined;\n  this._background = undefined;\n};\n\n// -----------------------------------------------------------------------------\n// BEGIN: setter/getter\n// -----------------------------------------------------------------------------\n\nstat.prototype.setBackground = function setBackground(b) {\n  this._useBackground = b;\n  this._reset();\n};\n\nstat.prototype.useBackground = function useBackground() {\n  this.setBackground(true);\n};\n\nstat.prototype.setDNA = function setNucleotide() {\n  this.alphabetSize = 4;\n};\n\nstat.prototype.setProtein = function setDNA() {\n  this.alphabetSize = 20;\n};\n\n// -----------------------------------------------------------------------------\n// BEGIN: auto wrappers\n// -----------------------------------------------------------------------------\n\n// neat auto-wrappers\ncalcValues.forEach(function(key) {\n  stat.prototype[key] = function() {\n    if (this[\"_\" + key] === undefined) {\n      this[\"_\" + key] = this[key + \"Calc\"]();\n    }\n    return this[\"_\" + key];\n  };\n});\n\nstat.prototype.identity = function identitiy(seq) {\n  // do not cache if its called with a special compare seq\n  var ident;\n  if (this._identity === undefined || seq) {\n    ident = this.identityCalc(seq);\n    this._identity = undefined;\n  }\n  return this._identity || ident;\n};\n\n// set your own background with obj.bg\nstat.prototype.background = function background() {\n  if (this.bg !== undefined) {\n    return this.bg;\n  }\n  if (this._background === undefined) {\n    this.backgroundCalc();\n  }\n  return this._background;\n};\n\n\n// -----------------------------------------------------------------------------\n// BEGIN: calc tools\n// -----------------------------------------------------------------------------\n\n// calculates the relative frequency of a base at a given position\n// this is needed e.g. for the entropy calculation\n// seqs: array of sequences (strings)\n// opts:\n//    all: boolean (use to show the frequencies for all letters [including the ignored ones]\n//    (default false)\n// @returns array of all positions with a dictionary of all bases with their relative frequency\nstat.prototype.frequencyCalc = function frequencyCalc(opts) {\n  var occs, totalPerPos;\n  occs = new Array(this.maxLength());\n  totalPerPos = new Array(this.seqs.length);\n  var ignoredChars = this.ignoredChars;\n  if(opts !== undefined && opts.all){\n    ignoredChars = []; \n  }\n\n  // count the occurrences of the chars at a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c, pos) {\n      if (ignoredChars.indexOf(c) >= 0) return;\n      if (occs[pos] === undefined) {\n        occs[pos] = {};\n      }\n      if (occs[pos][c] === undefined) {\n        occs[pos][c] = 0;\n      }\n      occs[pos][c] ++;\n      if (totalPerPos[pos] === undefined) {\n        totalPerPos[pos] = 0;\n      }\n      totalPerPos[pos] ++;\n    });\n  });\n\n  // normalize to 1\n  _.each(occs, function(el, pos) {\n    return _.each(el, function(val, c) {\n      return (occs[pos][c] = val / totalPerPos[pos]);\n    });\n  });\n  this._frequency = occs;\n  return occs;\n};\n\n// seqs: array of sequences (strings)\nstat.prototype.backgroundCalc = function backgroundCalc() {\n  var occ = {};\n  var total = 0;\n\n  // count the occurences of the chars of a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c) {\n      if (occ[c] === undefined) {\n        occ[c] = 0;\n      }\n      occ[c] ++;\n      return total++;\n    });\n  });\n\n  // normalize to 1\n  occ = _.mapValues(occ, function(val) {\n    return val / total;\n  });\n  this._background = occ;\n  return occ;\n};\n\n\n// information content after Shannon\n// * gaps are excluded\nstat.prototype.icCalc = function icCalc() {\n  var f = this.frequency();\n  if (this._useBackground) {\n    var b = this.background();\n  }\n  var ignoredChars = this.ignoredChars;\n  var useBackground = this._useBackground;\n  var ic = _.map(f, function(el) {\n    return _.reduce(el, function(memo, val, c) {\n      if (ignoredChars.indexOf(c) >= 0) return memo;\n      if (useBackground) {\n        val = val / b[c];\n      }\n      return memo - val * (Math.log(val) / Math.log(2));\n    }, 0);\n  });\n  this._ic = ic;\n  return ic;\n};\n\n// sequence conservation after Schneider and Stephens (1990)\n// @cite Schneider, T.D. and Stephens, R.M. 1990. Sequence logos: A new way to\n// display consensus sequences. Nucleic Acids Res. 18: 6097–6100.\nstat.prototype.conservation = function conservation(alphabetSize) {\n  var ic = this.ic();\n  var gaps = this.gaps();\n  var self = this;\n\n  alphabetSize = alphabetSize || this.alphabetSize;\n  var icMax = Math.log(alphabetSize) / Math.log(2);\n  var i = 0;\n  var conserv = _.map(ic, function(el) {\n    var ret = (icMax - el);\n    if(self.useGaps){\n      ret = ret * (1 - gaps[i++]);\n    }\n    return ret;\n  });\n  return conserv;\n};\n\n// sequence conservation after Schneider and Stephens (1990)\n// conservation for each amino acid\n// * gaps are excluded\nstat.prototype.conservResidue = function conservation(input) {\n  var alphabetSize = input ? input.alphabetSize : undefined;\n  var ic;\n  var ignoredChars = this.ignoredChars;\n  if (input !== undefined && input.scaled) {\n    ic = this.scale(this.conservation(alphabetSize));\n  } else {\n    ic = this.conservation(alphabetSize);\n  }\n  var f = this.frequency();\n  var keys;\n  var conserv = _.map(f, function(el, i) {\n    keys = _.reject(_.keys(el), function(c) {\n      return ignoredChars.indexOf(c) >= 0;\n    });\n    var obj = {};\n    _.each(keys, function(key) {\n      obj[key] = el[key] * ic[i];\n    });\n    return obj;\n  });\n  return conserv;\n};\n\n// type 2 sequence logo method\n// scales relative to background\nstat.prototype.conservResidue2 = function conservation(alphabetSize) {\n  var f = this.frequency();\n  var ic = this.conservation(alphabetSize);\n  var b = this.background();\n  var conserv = _.map(f, function(el, i) {\n    return _.map(el, function(val) {\n      var sum = _.reduce(f[i], function(memo, e) {\n        return memo + e / b[i];\n      }, 0);\n      return ((val / b[i]) / sum) * ic[i];\n    }, 0);\n  });\n  return conserv;\n};\n\n// scale information content or conservation to 1\nstat.prototype.scale = function conservation(ic, alphabetSize) {\n  alphabetSize = alphabetSize || this.alphabetSize;\n  var icMax = Math.log(alphabetSize) / Math.log(2);\n  var conserv = _.map(ic, function(el) {\n    return el / icMax;\n  });\n  return conserv;\n};\n\nstat.prototype.maxLengthCalc = function() {\n  if(this.seqs.length === 0){\n    return 0;\n  }\n  return _.max(this.seqs, function(seq) {\n    return seq.length;\n  }).length;\n};\n\n// seqs: array of sequences (strings)\n// @returns consenus sequence\nstat.prototype.consensusCalc = function consensusCal() {\n  var occs = new Array(this.maxLength());\n\n  // count the occurrences of the chars of a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c, pos) {\n      if (occs[pos] === undefined) {\n        occs[pos] = {};\n      }\n      if (occs[pos][c] === undefined) {\n        occs[pos][c] = 0;\n      }\n      occs[pos][c] ++;\n    });\n  });\n\n  // now pick the char with most occurrences\n  this._consensus = _.reduce(occs, function(memo, occ) {\n    var keys;\n    keys = _.keys(occ);\n    return memo += _.max(keys, function(key) {\n      return occ[key];\n    });\n  }, \"\");\n\n  return this._consensus;\n};\n\n// seqs: array of sequences (strings)\n// consensus: calculated consensus seq\n// calculates for each sequence\n// * matches with the consensus seq\n// * identity = matchedChars / totalChars (excluding gaps)\n// @returns: array of length of the seqs with the identity to the consensus (double)\nstat.prototype.identityCalc = function identitiyCalc(compareSeq) {\n  var consensus = compareSeq || this.consensus();\n  this._identity = this.seqs.map(function(seq) {\n    var matches = 0;\n    var total = 0;\n    for (var i = 0; i < seq.length; i++) {\n      if (seq[i] !== \"-\" && consensus[i] !== \"-\") {\n        total++;\n        if (seq[i] === consensus[i]) {\n          matches++;\n        }\n      }\n    }\n    return matches / total;\n  });\n  return this._identity;\n};\n\n// percentage of gaps per column\nstat.prototype.gapsCalc = function gapsCount() {\n  var mLength = this.maxLength();\n  if(mLength <= 1 || typeof mLength === \"undefined\" ){\n    return [];\n  }\n  var occs = new Array(this.maxLength());\n  // count the occurrences of the chars of a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c, pos) {\n      if (occs[pos] === undefined) {\n        occs[pos] = {\n          g: 0,\n          t: 0\n        };\n      }\n      c = c === \"-\" ? \"g\" : \"t\";\n      occs[pos][c] ++;\n    });\n  });\n\n  // now pick the char with most occurrences\n  this._gaps = _.map(occs, function(el) {\n    return el.g / (el.g + el.t);\n  });\n  return this._gaps;\n};\n\n_.mixin({\n  mapValues: function(obj, f_val) {\n    return _.object(_.keys(obj), _.map(obj, f_val));\n  }\n});\n\nrequire(\"biojs-events\").mixin(stat.prototype);\n\nmodule.exports = stat;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stat.seqs/lib/index.js\n// module id = 52\n// module chunks = 0","var MSA = require(\"./msa\");\n\n\nmodule.exports = window.msa = function() {\n  var msa = function(args) {\n    return MSA.apply(this, args);\n  };\n  msa.prototype = MSA.prototype;\n  return new msa(arguments);\n};\n\nmodule.exports.msa = MSA;\n\n// models\nmodule.exports.model = require(\"./model\");\n\n// extra plugins, extensions\nmodule.exports.menu = require(\"./menu\");\nmodule.exports.utils = require(\"./utils\");\n\n// probably needed more often\nmodule.exports.selection = require(\"./g/selection/Selection\");\nmodule.exports.selcol = require(\"./g/selection/SelectionCol\");\nmodule.exports.view = require(\"backbone-viewj\");\nmodule.exports.boneView = require(\"backbone-childs\");\n\n// convenience\nmodule.exports._ = require('underscore');\nmodule.exports.$ = require('jbone');\n\n// parser (are currently bundled - so we can also expose them)\nmodule.exports.io = {};\nmodule.exports.io.xhr = require('xhr');\nmodule.exports.io.fasta = require('biojs-io-fasta');\nmodule.exports.io.clustal = require('biojs-io-clustal');\nmodule.exports.io.gff = require('biojs-io-gff');\n\nmodule.exports.version = \"0.2.0\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var MenuView;\nvar boneView = require(\"backbone-childs\");\n\n// menu views\nvar ImportMenu = require(\"./views/ImportMenu\");\nvar FilterMenu = require(\"./views/FilterMenu\");\nvar SelectionMenu = require(\"./views/SelectionMenu\");\nvar VisMenu = require(\"./views/VisMenu\");\nvar ColorMenu = require(\"./views/ColorMenu\");\nvar OrderingMenu = require(\"./views/OrderingMenu\");\nvar ExtraMenu = require(\"./views/ExtraMenu\");\nvar ExportMenu = require(\"./views/ExportMenu\");\nvar HelpMenu = require(\"./views/HelpMenu\");\nvar DebugMenu = require(\"./views/DebugMenu\");\nvar MenuSettings = require(\"./settings\");\n\n// this very basic menu demonstrates calls to the MSA component\nmodule.exports = MenuView = boneView.extend({\n\n  initialize: function(data) {\n    if(!data.msa){\n      throw new Error(\"No msa instance provided. Please provide .msa\");\n    }\n    this.msa = data.msa;\n\n    // add menu config to the global object\n    this.msa.g.menuconfig = new MenuSettings(data.menu);\n\n    this.addView(\"10_import\", new ImportMenu({model: this.msa.seqs, g:this.msa.g, msa: this.msa}));\n    this.addView(\"15_ordering\", new OrderingMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"20_filter\", new FilterMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"30_selection\", new SelectionMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"40_vis\", new VisMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"50_color\", new ColorMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"70_extra\", new ExtraMenu({model: this.msa.seqs, g:this.msa.g, msa: this.msa}));\n    this.addView(\"80_export\", new ExportMenu({model: this.msa.seqs, g:this.msa.g, msa:this.msa}));\n    this.addView(\"90_help\", new HelpMenu({g:this.msa.g}));\n    if (this.msa.g.config.get(\"debug\")) {\n      return this.addView(\"95_debug\", new DebugMenu({g:this.msa.g}));\n    }\n  },\n\n  render: function() {\n    this.renderSubviews();\n    // other\n    this.el.setAttribute(\"class\", \"smenubar\");\n    return this.el.appendChild(document.createElement(\"p\"));\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/defaultmenu.js","module.exports.defaultmenu = require(\"./defaultmenu\");\nmodule.exports.menubuilder = require(\"./menubuilder\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/index.js","var MenuSettings;\nvar Model = require(\"backbone-thin\").Model;\nmodule.exports = MenuSettings = Model.extend({\n    constructor: function(attributes,options) {\n        if(attributes == \"small\"){\n            attributes = this.small;\n        }\n        return Model.apply(this, [attributes]);\n    },\n    small: {\n        menuFontsize: \"12px\"\n    },\n    defaults: {\n        menuFontsize: \"14px\",\n        menuItemFontsize: \"14px\",\n        menuItemLineHeight: \"14px\",\n        menuMarginLeft: \"3px\",\n        menuPadding: \"3px 4px 3px 4px\"\n    }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/menu/settings.js","var ColorMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar _ = require(\"underscore\");\nvar dom = require(\"dom-helper\");\n\nmodule.exports = ColorMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.listenTo(this.g.colorscheme, \"change\", function() {\n      return this.render();\n    });\n  },\n\n  render: function() {\n    var menuColor = this.setName(\"Color scheme\");\n    this.removeAllNodes();\n\n    var colorschemes = this.getColorschemes();\n    for (var i = 0, scheme; i < colorschemes.length; i++) {\n      scheme = colorschemes[i];\n      this.addScheme(menuColor, scheme);\n    }\n\n    // text = \"Background\"\n    // if @g.colorscheme.get(\"colorBackground\")\n    //   text = \"Hide \" + text\n    // else\n    //   text = \"Show \" + text\n\n    // @addNode text, =>\n    //   @g.colorscheme.set \"colorBackground\", !@g.colorscheme.get(\"colorBackground\")\n\n    this.grey(menuColor);\n\n    // TODO: make more efficient\n    dom.removeAllChilds(this.el);\n    this.el.appendChild(this.buildDOM());\n    return this;\n  },\n\n  addScheme: function(menuColor,scheme) {\n    var style = {};\n    var current = this.g.colorscheme.get(\"scheme\");\n    if (current === scheme.id) {\n      style.backgroundColor = \"#77ED80\";\n    }\n\n    return this.addNode(scheme.name, () => {\n      this.g.colorscheme.set(\"scheme\", scheme.id)\n    }, {\n        style: style\n    });\n  },\n\n  getColorschemes: function() {\n    var schemes  = [];\n    schemes.push({name: \"Taylor\", id: \"taylor\"});\n    schemes.push({name: \"Buried\", id: \"buried\"});\n    schemes.push({name: \"Cinema\", id: \"cinema\"});\n    schemes.push({name: \"Clustal\", id: \"clustal\"});\n    schemes.push({name: \"Clustal2\", id: \"clustal2\"});\n    schemes.push({name: \"Helix\", id: \"helix\"});\n    schemes.push({name: \"Hydrophobicity\", id: \"hydro\"});\n    schemes.push({name: \"Lesk\", id: \"lesk\"});\n    schemes.push({name: \"MAE\", id: \"mae\"});\n    schemes.push({name: \"Nucleotide\", id: \"nucleotide\"});\n    schemes.push({name: \"Purine\", id: \"purine\"});\n    schemes.push({name: \"PID\", id: \"pid\"});\n    schemes.push({name: \"Strand\", id: \"strand\"});\n    schemes.push({name: \"Turn\", id: \"turn\"});\n    schemes.push({name: \"Zappo\", id: \"zappo\"});\n    schemes.push({name: \"No color\", id: \"foo\"});\n    return schemes;\n  },\n\n  grey: function(menuColor) {\n\n    // greys all lowercase letters\n    // @addNode \"Shade\", =>\n    //   @g.colorscheme.set \"showLowerCase\", false\n    //   @model.each (seq) ->\n    //     residues = seq.get \"seq\"\n    //     grey = []\n    //     _.each residues, (el, index) ->\n    //       if el is el.toLowerCase()\n    //         grey.push index\n    //     seq.set \"grey\", grey\n\n    // @addNode \"Shade by threshold\", =>\n    //   threshold = prompt \"Enter threshold (in percent)\", 20\n    //   threshold = threshold / 100\n    //   maxLen = @model.getMaxLength()\n    //   # TODO: cache\n    //   conserv = @g.stats.scale @g.stats.conservation()\n    //   grey = []\n    //   for i in [0.. maxLen - 1]\n    //     if conserv[i] < threshold\n    //       grey.push i\n    //   @model.each (seq) ->\n    //     seq.set \"grey\", grey\n\n    // @addNode \"Shade selection\", =>\n    //   maxLen = @model.getMaxLength()\n    //   @model.each (seq) =>\n    //     blocks = @g.selcol.getBlocksForRow(seq.get(\"id\"),maxLen)\n    //     seq.set \"grey\", blocks\n\n    // @addNode \"Reset shade\", =>\n    //   @g.colorscheme.set \"showLowerCase\", true\n    //   @model.each (seq) ->\n    //     seq.set \"grey\", []\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/ColorMenu.js","var DebugMenu;\nvar MenuBuilder = require(\"../menubuilder\");\n\nmodule.exports = DebugMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render: function() {\n    this.setName(\"Debug\");\n\n    this.addNode(\"Get the code\", () => {\n      return window.open(\"https://github.com/wilzbach/msa\");\n    });\n\n    this.addNode(\"Toggle mouseover events\", () => {\n      this.g.config.set(\"registerMouseHover\", !this.g.config.get(\"registerMouseHover\"));\n      return this.g.onAll(function() {\n        return console.log(arguments);\n      });\n    });\n\n    this.addNode(\"Minimized width\", () => {\n      return this.g.zoomer.set(\"alignmentWidth\", 600);\n    });\n    this.addNode(\"Minimized height\", () => {\n      return this.g.zoomer.set(\"alignmentHeight\", 120);\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/DebugMenu.js","var ExportMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar FastaExporter = require(\"biojs-io-fasta\").writer;\nvar _ = require(\"underscore\");\nvar Exporter = require(\"../../utils/export\");\n\nmodule.exports = ExportMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.msa = data.msa;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render: function() {\n    this.setName(\"Export\");\n\n    this.addNode(\"Share view (URL) ↪\", () => {\n      return Exporter.shareLink(this.msa, function(link) {\n        return window.open(link, '_blank');\n      });\n    });\n\n    this.addNode(\"View in Jalview\", () => {\n      var url = this.g.config.get('url');\n      if (!(typeof url !== \"undefined\" && url !== null)) {\n        return alert(\"Sequence weren't imported via an URL\");\n      } else {\n        if (url.indexOf(\"localhost\" || url === \"dragimport\")) {\n          return Exporter.publishWeb(this.msa, (link) => {\n            return Exporter.openInJalview(link, this.g.colorscheme.get(\"scheme\"));\n          });\n        } else {\n          return Exporter.openInJalview(url, this.g.colorscheme.get(\"scheme\"));\n        }\n      }\n    });\n\n    this.addNode(\"Export alignment (FASTA)\", () => {\n      return Exporter.saveAsFile(this.msa, \"all.fasta\");\n    });\n\n    this.addNode(\"Export alignment (URL)\", () => {\n      return Exporter.publishWeb(this.msa, function(link) {\n        return window.open(link, '_blank');\n      });\n    });\n\n    this.addNode(\"Export selected sequences (FASTA)\", () => {\n      return Exporter.saveSelection(this.msa, \"selection.fasta\");\n    });\n\n    this.addNode(\"Export features (GFF)\", () => {\n      return Exporter.saveAnnots(this.msa, \"features.gff3\");\n    });\n\n    this.addNode(\"Export MSA image (PNG)\", () => {\n      return Exporter.saveAsImg(this.msa, \"biojs-msa.png\");\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/ExportMenu.js","var ExtraMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar Seq = require(\"../../model/Sequence\");\nvar Loader = require(\"../../utils/loader\");\nvar xhr = require(\"xhr\");\n\nmodule.exports = ExtraMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.msa = data.msa;\n  },\n\n  render: function() {\n    this.setName(\"Extras\");\n    var stats = this.g.stats;\n    var msa = this.msa;\n    this.addNode(\"Add consensus seq\", () => {\n      var con = stats.consensus();\n      var seq = new Seq({\n        seq: con,\n        id: \"0c\",\n        name: \"Consenus\"\n      });\n      this.model.add(seq);\n      this.model.setRef(seq);\n      this.model.comparator = function(seq) {\n        return !seq.get(\"ref\");\n      };\n      return this.model.sort();\n    });\n\n    // @addNode \"Calc Tree\", ->\n    //   # this is a very experimental feature\n    //   # TODO: exclude msa & tnt in the adapter package\n    //   newickStr = \"\"\n    //\n    //   cbs = Loader.joinCb ->\n    //     msa.u.tree.showTree nwkData\n    //   , 2, @\n    //\n    //   msa.u.tree.loadTree cbs\n    //   # load fake tree\n    //   nwkData =\n    //     name: \"root\",\n    //     children: [\n    //       name: \"c1\",\n    //       branch_length: 4\n    //       children: msa.seqs.filter (f,i) ->  i % 2 is 0\n    //     ,\n    //       name: \"c2\",\n    //       children: msa.seqs.filter (f,i) ->  i % 2 is 1\n    //       branch_length: 4\n    //     ]\n    //   msa.seqs.each (s) ->\n    //     s.set \"branch_length\", 2\n    //   cbs()\n\n    this.addNode(\"Increase font size\", () => {\n      var columnWidth =  this.g.zoomer.get(\"columnWidth\");\n      var nColumnWidth = columnWidth + 5;\n      this.g.zoomer.set(\"columnWidth\",  nColumnWidth);\n      this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n      var nFontSize = nColumnWidth * 0.7;\n      this.g.zoomer.set(\"residueFont\", nFontSize);\n      return this.g.zoomer.set(\"labelFontSize\",  nFontSize);\n    });\n    this.addNode(\"Decrease font size\", () => {\n      var columnWidth =  this.g.zoomer.get(\"columnWidth\");\n      var nColumnWidth = columnWidth - 2;\n      this.g.zoomer.set(\"columnWidth\",  nColumnWidth);\n      this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n      var nFontSize = nColumnWidth * 0.6;\n      this.g.zoomer.set(\"residueFont\", nFontSize);\n      this.g.zoomer.set(\"labelFontSize\",  nFontSize);\n\n      if (this.g.zoomer.get(\"columnWidth\") < 8) {\n        return this.g.zoomer.set(\"textVisible\", false);\n      }\n    });\n\n\n    this.addNode(\"Jump to a column\", () => {\n      var offset = prompt(\"Column\", \"20\");\n      if (offset < 0 || offset > this.model.getMaxLength() || isNaN(offset)) {\n        alert(\"invalid column\");\n        return;\n      }\n      return this.g.zoomer.setLeftOffset(offset);\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/ExtraMenu.js","var FilterMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar _ = require(\"underscore\");\n\nmodule.exports = FilterMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render: function() {\n    this.setName(\"Filter\");\n    this.addNode(\"Hide columns by threshold\",(e) => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n      threshold = threshold / 100;\n      var maxLen = this.model.getMaxLength();\n      var hidden = [];\n      // TODO: cache this value\n      var conserv = this.g.stats.scale(this.g.stats.conservation());\n      var end = maxLen - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        if (conserv[i] < threshold) {\n          hidden.push(i);\n        }\n      }\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    this.addNode(\"Hide columns by selection\", () => {\n      var hiddenOld = this.g.columns.get(\"hidden\");\n      var hidden = hiddenOld.concat(this.g.selcol.getAllColumnBlocks({maxLen: this.model.getMaxLength(), withPos: true}));\n      this.g.selcol.reset([]);\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    this.addNode(\"Hide columns by gaps\", () => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n      threshold = threshold / 100;\n      var maxLen = this.model.getMaxLength();\n      var hidden = [];\n      var end = maxLen - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        var gaps = 0;\n        var total = 0;\n        this.model.each(function(el) {\n          if (el.get('seq')[i] === \"-\") { gaps++; }\n          return total++;\n        });\n        var gapContent = gaps / total;\n        if (gapContent > threshold) {\n          hidden.push(i);\n        }\n      }\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    this.addNode(\"Hide seqs by identity\", () => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n      threshold = threshold / 100;\n      return this.model.each(function(el) {\n        if (el.get('identity') < threshold) {\n          return el.set('hidden', true);\n        }\n      });\n    });\n\n    this.addNode(\"Hide seqs by selection\", () => {\n      var hidden = this.g.selcol.where({type: \"row\"});\n      var ids = _.map(hidden, function(el) { return el.get('seqId'); });\n      this.g.selcol.reset([]);\n      return this.model.each(function(el) {\n        if (ids.indexOf(el.get('id')) >= 0) {\n          return el.set('hidden', true);\n        }\n      });\n    });\n\n    this.addNode(\"Hide seqs by gaps\", () => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 40);\n      return this.model.each(function(el,i) {\n        var seq = el.get('seq');\n        var gaps = _.reduce(seq, (function(memo, c) { return c === '-' ? ++memo: undefined; }),0);\n        if (gaps >  threshold) {\n          return el.set('hidden', true);\n        }\n      });\n    });\n\n    this.addNode(\"Reset\", () => {\n      this.g.columns.set(\"hidden\", []);\n      return this.model.each(function(el) {\n        if (el.get('hidden')) {\n          return el.set('hidden', false);\n        }\n      });\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/FilterMenu.js","var HelpMenu;\nvar MenuBuilder = require(\"../menubuilder\");\n\nmodule.exports = HelpMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    return this.g = data.g;\n  },\n\n  render: function() {\n    this.setName(\"Help\");\n    this.addNode(\"About the project\", () => {\n      return window.open(\"https://github.com/wilzbach/msa\");\n    });\n    this.addNode(\"Report issues\", () => {\n      return window.open(\"https://github.com/wilzbach/msa/issues\");\n    });\n    this.addNode(\"User manual\", () => {\n      return window.open(\"https://github.com/wilzbach/msa/wiki\");\n    });\n    this.el.style.display = \"inline-block\";\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/HelpMenu.js","var ImportMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar k = require(\"koala-js\");\n\nmodule.exports = ImportMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.msa = data.msa;\n  },\n\n  render: function() {\n    var msa = this.msa;\n    var uploader = k.mk(\"input\");\n    uploader.type = \"file\";\n    uploader.style.display = \"none\";\n    //uploader.accept\n    // http://www.w3schools.com/jsref/prop_fileupload_accept.asp\n    // for now we allow multiple files\n    uploader.multiple = true;\n    uploader.addEventListener(\"change\", function() {\n      var files = uploader.files || [];\n      return msa.u.file.importFiles(files);\n    });\n\n    this.el.appendChild(uploader);\n\n    var filetypes = \"(Fasta, Clustal, GFF, Jalview features, Newick)\";\n\n    this.setName(\"Import\");\n    this.addNode(\"URL\",(e) => {\n      var url = prompt( \"URL \" + filetypes,\n      \"http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw\"\n      );\n      if (url.length > 5) {\n        return this.msa.u.file.importURL(url, function() {});\n      }\n    });\n        // mass update on zoomer\n        //zoomer = @g.zoomer.toJSON()\n        //#zoomer.textVisible = false\n        //#zoomer.columnWidth = 4\n        //zoomer.boxRectHeight = 2\n        //zoomer.boxRectWidth = 2\n        //@g.zoomer.set zoomer\n\n    this.addNode(\"From file \" + filetypes, () => {\n      return uploader.click();\n    });\n\n    this.addNode(\"Drag & Drop\", () => {\n      return alert(\"Yep. Just drag & drop your file \" + filetypes);\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/ImportMenu.js","var OrderingMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar dom = require(\"dom-helper\");\nvar _ = require('underscore');\n\nmodule.exports = OrderingMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.order = \"ID\";\n    return this.el.style.display = \"inline-block\";\n  },\n\n  setOrder: function(order) {\n    this.order = order;\n    return this.render();\n  },\n\n  // TODO: make more generic\n  render: function() {\n    this.setName(\"Sorting\");\n    this.removeAllNodes();\n\n    var comps = this.getComparators();\n    for (var i = 0, m; i < comps.length; i++) {\n      m = comps[i];\n      this._addNode(m);\n    }\n\n    var el = this.buildDOM();\n\n    // TODO: make more efficient\n    dom.removeAllChilds(this.el);\n    this.el.appendChild(el);\n    return this;\n  },\n\n  _addNode(m) {\n    var text = m.text;\n    var style = {};\n    if (text === this.order) {\n      style.backgroundColor = \"#77ED80\";\n    }\n    return this.addNode(text, (() => {\n      if ((m.precode != null)) { m.precode(); }\n      this.model.comparator = m.comparator;\n      this.model.sort();\n      return this.setOrder(m.text);\n    }\n    ), {\n        style: style\n    });\n  },\n\n  getComparators: function() {\n    var models = [];\n\n\n    models.push({text: \"ID ↑\", comparator: \"id\"});\n\n    models.push({text: \"ID ↓\", comparator: function(a, b) {\n      // auto converts to string for localeCompare\n        return - (\"\" + a.get(\"id\")).localeCompare(\"\" + b.get(\"id\"), [], {numeric: true} );\n    }});\n\n    models.push({text: \"Label ↑\", comparator: \"name\"});\n\n    models.push({text: \"Label ↓\", comparator: function(a, b) {\n        return - a.get(\"name\").localeCompare(b.get(\"name\"));\n    }});\n\n    models.push({text: \"Seq ↑\", comparator: \"seq\"});\n\n    models.push({text: \"Seq ↓\", comparator: function(a,b) {\n        return - a.get(\"seq\").localeCompare(b.get(\"seq\"));\n    }});\n\n    var setIdent = () => {\n      return this.ident = this.g.stats.identity();\n    };\n\n    var setGaps = () => {\n      this.gaps = {};\n      return this.model.each((el) => {\n        var seq = el.attributes.seq;\n        return this.gaps[el.id] = (_.reduce(seq, (function(memo, c) { return c === '-' ? ++memo: undefined; }),0))/ seq.length;\n      });\n    };\n\n    models.push({text: \"Identity ↑\",comparator: ((a,b) => {\n      var val = this.ident[a.id] - this.ident[b.id];\n      console.log(this.ident[a.id],this.ident[b.id]);\n      if (val > 0) { return 1; }\n      if (val < 0) { return -1; }\n      return 0;\n    }\n    ), precode: setIdent});\n\n    models.push({text: \"Identity ↓\", comparator: ((a,b) => {\n      var val = this.ident[a.id] - this.ident[b.id];\n      if (val > 0) { return -1; }\n      if (val < 0) { return 1; }\n      return 0;\n    }\n    ), precode: setIdent});\n\n    models.push({text: \"Gaps ↑\", comparator: ((a,b) => {\n      var val = this.gaps[a.id] - this.gaps[b.id];\n      if (val > 0) { return 1; }\n      if (val < 0) { return -1; }\n      return 0;\n    }\n    ), precode: setGaps});\n\n    models.push({text: \"Gaps ↓\", comparator: ((a,b) => {\n      var val = this.gaps[a.id] - this.gaps[b.id];\n      if (val < 0) { return 1; }\n      if (val > 0) { return -1; }\n      return 0;\n    }\n    ), precode: setGaps});\n\n    models.push({text: \"Consensus to top\", comparator(seq) {\n        return !seq.get(\"ref\");\n    }});\n\n    //models.push text: \"Partition codes ↑\", comparator: \"partition\", precode: =>\n      //# set partitions random\n      //@g.vis.set('labelPartition', true)\n      //@model.each (el) ->\n        //el.set('partition', _.random(1,3))\n\n\n    return models;\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/OrderingMenu.js","var SelectionMenu;\nvar MenuBuilder = require(\"../menubuilder\");\n\nmodule.exports = SelectionMenu = MenuBuilder.extend({\n\n  initialize(data) {\n    this.g = data.g;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render() {\n    this.setName(\"Selection\");\n    this.addNode(\"Find Motif (supports RegEx)\", () => {\n      var search = prompt(\"your search\", \"D\");\n      return this.g.user.set(\"searchText\", search);\n    });\n\n    this.addNode(\"Invert columns\", () => {\n      return this.g.selcol.invertCol(((function() {\n        var result = [];\n        var end = this.model.getMaxLength();\n        var i = 0;\n        if (0 <= end) {\n          while (i <= end) {\n            result.push(i++);\n          }\n        } else {\n          while (i >= end) {\n            result.push(i--);\n          }\n        }\n        return result;\n      })()));\n    });\n    this.addNode(\"Invert rows\", () => {\n      return this.g.selcol.invertRow(this.model.pluck(\"id\"));\n    });\n    this.addNode(\"Reset\", () => {\n      return this.g.selcol.reset();\n    });\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/SelectionMenu.js","var VisMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar dom = require(\"dom-helper\");\n\nmodule.exports = VisMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.listenTo(this.g.vis, \"change\", this.render);\n  },\n\n  render: function() {\n    this.removeAllNodes();\n    this.setName(\"Vis.elements\");\n\n    var visElements = this.getVisElements();\n    for (var i = 0, visEl; i < visElements.length; i++) {\n      visEl = visElements[i];\n      this._addVisEl(visEl);\n    }\n\n    // other\n    this.addNode(\"Reset\", () => {\n      this.g.vis.set(\"labels\", true);\n      this.g.vis.set(\"sequences\", true);\n      this.g.vis.set(\"metacell\", true);\n      this.g.vis.set(\"conserv\", true);\n      this.g.vis.set(\"labelId\", true);\n      this.g.vis.set(\"labelName\", true);\n      this.g.vis.set(\"labelCheckbox\", false);\n      this.g.vis.set(\"seqlogo\", false);\n      this.g.vis.set(\"gapHeader\", false);\n      this.g.vis.set(\"leftHeader\", true);\n      this.g.vis.set(\"metaGaps\", true);\n      this.g.vis.set(\"metaIdentity\", true);\n      return this.g.vis.set(\"metaLinks\", true);\n    });\n\n    // TODO: make more efficient\n    dom.removeAllChilds(this.el);\n    this.el.appendChild(this.buildDOM());\n    return this;\n  },\n\n  _addVisEl(visEl) {\n    var style = {};\n\n    if (this.g.vis.get(visEl.id)) {\n      var pre = \"Hide \";\n      style.color = \"red\";\n    } else {\n      pre = \"Show \";\n      style.color = \"green\";\n    }\n\n    return this.addNode( (pre + visEl.name), (() => {\n      return this.g.vis.set(visEl.id, ! this.g.vis.get(visEl.id));\n    }\n    ),\n      {style: style\n    });\n  },\n\n  getVisElements: function() {\n    var vis = [];\n    vis.push({name: \"residues indices\", id: \"markers\"});\n    vis.push({name: \"ID/Label\", id: \"labels\"});\n    //vis.push name: \"Sequences\", id: \"sequences\"\n    vis.push({name: \"meta info (Gaps/Ident)\", id: \"metacell\"});\n    vis.push({name: \"overview panel\", id: \"overviewbox\"});\n    vis.push({name: \"sequence logo\", id: \"seqlogo\"});\n    vis.push({name: \"gap weights\", id: \"gapHeader\"});\n    vis.push({name: \"conservation weights\", id: \"conserv\"});\n    //vis.push name: \"Left header\", id: \"leftHeader\"\n    vis.push({name: \"Label\", id: \"labelName\"});\n    vis.push({name: \"ID\", id: \"labelId\"});\n    //vis.push name: \"Label checkbox\", id: \"labelCheckbox\"\n    vis.push({name: \"gaps %\", id: \"metaGaps\"});\n    vis.push({name: \"identity score\", id: \"metaIdentity\"});\n    // vis.push name: \"Meta links\", id: \"metaLinks\"\n    return vis;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/menu/views/VisMenu.js","// models\nvar SeqCollection = require(\"./model/SeqCollection\");\n\n// globals\nvar Colorator = require(\"./g/colorscheme\");\nvar Columns = require(\"./g/columns\");\nvar Config = require(\"./g/config\");\nvar Package = require(\"./g/package\");\nvar SelCol = require(\"./g/selection/SelectionCol\");\nvar User = require(\"./g/user\");\nvar Visibility = require(\"./g/visibility\");\nvar VisOrdering = require(\"./g/visOrdering\");\nvar Zoomer = require(\"./g/zoomer\");\n\n// MV from backbone\nvar boneView = require(\"backbone-childs\");\nvar Eventhandler = require(\"biojs-events\");\n\n// MSA views\nvar Stage = require(\"./views/Stage\");\n\n// statistics\nvar Stats = require(\"stat.seqs\");\n\n// utils\nvar $ = require(\"jbone\");\nvar FileHelper = require(\"./utils/file\");\nvar TreeHelper = require(\"./utils/tree\");\nvar ProxyHelper = require(\"./utils/proxy\");\n\n// opts is a dictionary consisting of\n// @param el [String] id or reference to a DOM element\n// @param seqs [SeqArray] Array of sequences for initlization\n// @param conf [Dict] user config\n// @param vis [Dict] config of visible views\n// @param zoomer [Dict] display settings like columnWidth\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n\n    if (!(typeof data !== \"undefined\" && data !== null)) { data = {}; }\n    // check for default arrays\n    if (!(data.colorscheme != null)) { data.colorscheme = {}; }\n    if (!(data.columns != null)) { data.columns = {}; }\n    if (!(data.conf != null)) { data.conf = {}; }\n    if (!(data.vis != null)) { data.vis = {}; }\n    if (!(data.visorder != null)) { data.visorder = {}; }\n    if (!(data.zoomer != null)) { data.zoomer = {}; }\n\n    // g is our global Mediator\n    this.g = Eventhandler.mixin({});\n\n    // load seqs and add subviews\n    this.seqs = this.g.seqs = new SeqCollection(data.seqs, this.g);\n\n    // populate it and init the global models\n    this.g.config = new Config(data.conf);\n    this.g.package = new Package(this.g);\n    this.g.selcol = new SelCol([],{g:this.g});\n    this.g.user = new User();\n    this.g.vis = new Visibility(data.vis, {model: this.seqs});\n    this.g.visorder = new VisOrdering(data.visorder);\n    this.g.zoomer = new Zoomer(data.zoomer,{g:this.g, model: this.seqs});\n\n    // debug mode\n    if (window.location.hostname === \"localhost\") {\n      this.g.config.set(\"debug\", true);\n    }\n\n    this._loadSeqs(data);\n\n    // utils\n    this.u = {};\n    this.u.file = new FileHelper(this);\n    this.u.proxy = new ProxyHelper({g: this.g});\n    this.u.tree = new TreeHelper(this);\n\n    if (this.g.config.get(\"eventBus\") === true) {\n      this.startEventBus();\n    }\n\n    if (this.g.config.get(\"dropImport\")) {\n      var events =\n        {\"dragover\": this.dragOver,\n        \"drop\": this.dropFile\n        };\n      this.delegateEvents(events);\n    }\n\n    if (data.importURL) {\n      this.u.file.importURL(data.importURL, () => {\n        return this.render();\n      });\n    }\n\n    if (data.bootstrapMenu) {\n      // pass menu configuration to defaultmenu\n      if(data.menu){\n        this.menuConfig = data.menu;\n      }\n      this.g.config.set(\"bootstrapMenu\", true);\n    }\n\n    this.draw();\n    // add models to the msa (convenience)\n    return this.m();\n  },\n\n  _loadSeqs: function(data) {\n    // stats\n    var pureSeq = this.seqs.pluck(\"seq\");\n    this.g.stats = new Stats(this.seqs, {useGaps: true});\n    this.g.stats.alphabetSize = this.g.config.get(\"alphabetSize\");\n    this.g.columns = new Columns(data.columns,this.g.stats);  // for action on the columns like hiding\n\n    // depending config\n    this.g.colorscheme = new Colorator(data.colorscheme, pureSeq, this.g.stats);\n\n    // more init\n    return this.g.zoomer.setEl(this.el, this.seqs);\n  },\n\n  // proxy to the utility package\n  importURL: function() {\n    return this.u.file.importURL.apply(this.u.file, arguments);\n  },\n\n  // add models to the msa (convenience)\n  m: function() {\n    var m = {};\n    m.model = require(\"./model\");\n    m.selection = require(\"./g/selection/Selection\");\n    m.selcol = require(\"./g/selection/SelectionCol\");\n    m.view = require(\"backbone-viewj\");\n    m.boneView = require(\"backbone-childs\");\n    return this.m = m;\n  },\n\n  draw: function() {\n\n    this.removeViews();\n\n    this.addView(\"stage\",new Stage({model: this.seqs, g: this.g}));\n    this.el.setAttribute(\"class\", \"biojs_msa_div\");\n\n    // bootstraps the menu bar by default -> destroys modularity\n    if (this.g.config.get(\"bootstrapMenu\")) {\n      var menuDiv = document.createElement('div');\n      var wrapperDiv = document.createElement('div');\n      if (!this.el.parentNode) {\n        wrapperDiv.appendChild(menuDiv);\n        wrapperDiv.appendChild(this.el);\n      } else {\n        this.el.parentNode.replaceChild(wrapperDiv, this.el);\n        wrapperDiv.appendChild(menuDiv);\n        wrapperDiv.appendChild(this.el);\n      }\n\n      var bootstrapOpts = {el: menuDiv,\n        msa: this,\n      };\n      if(this.menuConfig){\n        bootstrapOpts.menu = this.menuConfig;\n      }\n      var defMenu = new msa.menu.defaultmenu(bootstrapOpts);\n      defMenu.render();\n    }\n\n    return $(window).on(\"resize\", (e) => {\n      var f = function() {\n        return this.g.zoomer.autoResize();\n      };\n      return setTimeout(f.bind(this), 5);\n    }\n    );\n  },\n\n  dragOver: function(e) {\n    // prevent the normal browser actions\n    e.preventDefault();\n    e.target.className = 'hover';\n    return false;\n  },\n\n  dropFile: function(e) {\n    e.preventDefault();\n    var files = e.target.files || e.dataTransfer.files;\n    this.u.file.importFiles(files);\n    return false;\n  },\n\n  startEventBus() {\n    var busObjs = [\"config\", \"columns\", \"colorscheme\", \"selcol\" ,\"vis\", \"visorder\", \"zoomer\"];\n    return (() => {\n      var result = [];\n      for (var i = 0, key; i < busObjs.length; i++) {\n        key = busObjs[i];\n        result.push(this._proxyToG(key));\n      }\n      return result;\n    })();\n  },\n\n  _proxyToG: function(key) {\n    return this.listenTo(this.g[key], \"all\",function(name,prev,now,opts) {\n      // suppress duplicate events\n      if (name === \"change\") { return; }\n      // backbone uses the second argument for the next value -> swap\n      if ((typeof opts !== \"undefined\" && opts !== null)) {\n        return this.g.trigger(key + \":\" + name,now,prev,opts);\n      } else {\n        return this.g.trigger(key + \":\" + name,now,prev);\n      }\n    });\n  },\n\n  render: function() {\n    if (this.seqs === undefined || this.seqs.length === 0) {\n      console.log(\"warning. empty seqs.\");\n    }\n    this.renderSubviews();\n    this.g.vis.set(\"loaded\", true);\n    return this;\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/msa.js","var boneView = require(\"backbone-childs\");\nvar SeqBlock = require(\"./canvas/CanvasSeqBlock\");\nvar LabelBlock = require(\"./labels/LabelBlock\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    if (true) {\n      var labelblock = new LabelBlock({model: this.model, g: this.g});\n      labelblock.ordering = -1;\n      this.addView(\"labelblock\",labelblock);\n    }\n\n    if (this.g.vis.get(\"sequences\")) {\n      var seqblock = new SeqBlock({model: this.model, g: this.g});\n      seqblock.ordering = 0;\n      this.addView(\"seqblock\",seqblock);\n    }\n\n    this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.adjustHeight);\n    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.adjustWidth);\n    return this.listenTo(this.g.columns, \"change:hidden\", this.adjustHeight);\n  },\n\n  render: function() {\n    this.renderSubviews();\n    this.el.className = \"biojs_msa_albody\";\n    this.el.style.whiteSpace = \"nowrap\";\n    this.adjustHeight();\n    this.adjustWidth();\n    return this;\n  },\n\n  adjustHeight: function() {\n    if (this.g.zoomer.get(\"alignmentHeight\") === \"auto\") {\n      // TODO: fix the magic 5\n      return this.el.style.height = (this.g.zoomer.get(\"rowHeight\") * this.model.length) + 5;\n    } else {\n      return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\");\n    }\n  },\n\n  adjustWidth: function() {\n    // TODO: 15 is the width of the scrollbar\n    return this.el.style.width = this.getWidth();\n  },\n\n  getWidth: function() {\n    var width = 0;\n    width += this.g.zoomer.getLeftBlockWidth();\n    if (this.g.vis.get(\"sequences\")) {\n      width += this.g.zoomer.get(\"alignmentWidth\");\n    }\n    return width;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/AlignmentBody.js","var OverviewBox;\nvar view = require(\"backbone-viewj\");\nvar mouse = require(\"mouse-pos\");\nvar selection = require(\"../g/selection/Selection\");\nvar jbone = require(\"jbone\");\nvar _ = require(\"underscore\");\n\nmodule.exports = OverviewBox = view.extend({\n\n  className: \"biojs_msa_overviewbox\",\n  tagName: \"canvas\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo( this.g.zoomer,\"change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop\", this.rerender);\n    this.listenTo(this.g.selcol, \"add reset change\", this.rerender);\n    this.listenTo(this.g.columns, \"change:hidden\", this.rerender);\n    this.listenTo(this.g.colorscheme, \"change:showLowerCase\", this.rerender);\n    this.listenTo(this.model, \"change\", _.debounce(this.rerender, 5));\n\n    // color\n    this.color = this.g.colorscheme.getSelectedScheme();\n    this.listenTo(this.g.colorscheme, \"change:scheme\", function() {\n      this.color = this.g.colorscheme.getSelectedScheme();\n      return this.rerender();\n    });\n    return this.dragStart = [];\n  },\n\n  events:\n    {click: \"_onclick\",\n    mousedown: \"_onmousedown\"\n    },\n\n  rerender: function() {\n    if (!this.g.config.get(\"manualRendering\")) {\n      return this.render();\n    }\n  },\n\n  render: function() {\n    this._createCanvas();\n    this.el.textContent = \"overview\";\n    this.el.style.marginTop = this.g.zoomer.get(\"overviewboxPaddingTop\");\n\n    // background bg for non-drawed area\n    this.ctx.fillStyle = \"#999999\";\n    this.ctx.fillRect(0,0,this.el.width,this.el.height);\n\n    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n    var hidden = this.g.columns.get(\"hidden\");\n    var showLowerCase = this.g.colorscheme.get(\"showLowerCase\");\n\n    var y = -rectHeight;\n    var end = this.model.length - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      var seq = this.model.at(i).get(\"seq\");\n      var x = 0;\n      y = y + rectHeight;\n\n\n      if (this.model.at(i).get(\"hidden\")) {\n        // hidden seq\n        console.log(this.model.at(i).get(\"hidden\"));\n        this.ctx.fillStyle = \"grey\";\n        this.ctx.fillRect(0,y,seq.length * rectWidth,rectHeight);\n        continue;\n      }\n\n      var end1 = seq.length - 1;\n      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n        var c = seq[j];\n        // todo: optional uppercasing\n        if (showLowerCase) { c = c.toUpperCase(); }\n        var color = this.color.getColor(c, {pos: j});\n\n        if (hidden.indexOf(j) >= 0) {\n          color = \"grey\";\n        }\n\n        if ((typeof color !== \"undefined\" && color !== null)) {\n          this.ctx.fillStyle = color;\n          this.ctx.fillRect(x,y,rectWidth,rectHeight);\n        }\n\n        x = x + rectWidth;\n      }\n    }\n\n    return this._drawSelection();\n  },\n\n  _drawSelection: function() {\n    // hide during selection\n    if (this.dragStart.length > 0 && !this.prolongSelection) { return; }\n\n    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n    var maxHeight = rectHeight * this.model.length;\n    this.ctx.fillStyle = \"#666666\";\n    this.ctx.globalAlpha = 0.9;\n    var end = this.g.selcol.length - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      var sel = this.g.selcol.at(i);\n      if(!sel) continue;\n      if (sel.get('type') === 'column') {\n        this.ctx.fillRect( rectWidth * sel.get('xStart'),0,rectWidth *\n        (sel.get('xEnd') - sel.get('xStart') + 1),maxHeight\n        );\n      } else if (sel.get('type') === 'row') {\n        var seq = (this.model.filter(function(el) { return el.get('id') === sel.get('seqId'); }))[0];\n        var pos = this.model.indexOf(seq);\n        this.ctx.fillRect(0,rectHeight * pos, rectWidth * seq.get('seq').length, rectHeight);\n      } else if (sel.get('type') === 'pos') {\n        seq = (this.model.filter(function(el) { return el.get('id') === sel.get('seqId'); }))[0];\n        pos = this.model.indexOf(seq);\n        this.ctx.fillRect(rectWidth * sel.get('xStart'),rectHeight * pos, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), rectHeight);\n      }\n    }\n\n    return this.ctx.globalAlpha = 1;\n  },\n\n  _onclick: function(evt) {\n    return this.g.trigger(\"meta:click\", {seqId: this.model.get(\"id\", {evt:evt})});\n  },\n\n  _onmousemove: function(e) {\n    // duplicate events\n    if (this.dragStart.length === 0) { return; }\n\n    this.render();\n    this.ctx.fillStyle = \"#666666\";\n    this.ctx.globalAlpha = 0.9;\n\n    var rect = this._calcSelection( mouse.abs(e) );\n    this.ctx.fillRect(rect[0][0],rect[1][0],rect[0][1] - rect[0][0], rect[1][1] - rect[1][0]);\n\n    // abort selection events of the browser\n    e.preventDefault();\n    return e.stopPropagation();\n  },\n\n  // start the selection mode\n  _onmousedown: function(e) {\n    this.dragStart = mouse.abs(e);\n    this.dragStartRel = mouse.rel(e);\n\n    if (e.ctrlKey || e.metaKey) {\n      this.prolongSelection = true;\n    } else {\n      this.prolongSelection = false;\n    }\n    // enable global listeners\n    jbone(document.body).on('mousemove.overmove', (e) => this._onmousemove(e));\n    jbone(document.body).on('mouseup.overup', (e) => this._onmouseup(e));\n    return this.dragStart;\n  },\n\n  // calculates the current selection\n  _calcSelection: function(dragMove) {\n    // relative to first click\n    var dragRel = [dragMove[0] - this.dragStart[0], dragMove[1] - this.dragStart[1]];\n\n    // relative to target\n    for (var i = 0; i <= 1; i++) {\n      dragRel[i] = this.dragStartRel[i] + dragRel[i];\n    }\n\n    // 0:x, 1: y\n    var rect = [[this.dragStartRel[0], dragRel[0]], [this.dragStartRel[1], dragRel[1]]];\n\n    // swap the coordinates if needed\n    for (var i = 0; i <= 1; i++) {\n      if (rect[i][1] < rect[i][0]) {\n        rect[i] = [rect[i][1], rect[i][0]];\n      }\n\n      // lower limit\n      rect[i][0] = Math.max(rect[i][0], 0);\n    }\n\n    return rect;\n  },\n\n  _endSelection: function(dragEnd) {\n    // remove listeners\n    jbone(document.body).off('.overmove');\n    jbone(document.body).off('.overup');\n\n    // duplicate events\n    if (this.dragStart.length === 0) { return; }\n\n    var rect = this._calcSelection(dragEnd);\n\n    // x\n    for (var i = 0; i <= 1; i++) {\n      rect[0][i] = Math.floor( rect[0][i] / this.g.zoomer.get(\"boxRectWidth\"));\n    }\n\n    // y\n    for (var i = 0; i <= 1; i++) {\n      rect[1][i] = Math.floor( rect[1][i] / this.g.zoomer.get(\"boxRectHeight\") );\n    }\n\n    // upper limit\n    rect[0][1] = Math.min(this.model.getMaxLength() - 1, rect[0][1]);\n    rect[1][1] = Math.min(this.model.length - 1, rect[1][1]);\n\n    // select\n    var selis = [];\n    for (var j = rect[1][0]; rect[1][0] < rect[1][1] ? j <= rect[1][1] : j >= rect[1][1]; rect[1][0] < rect[1][1] ? j++ : j--) {\n      var args = {seqId: this.model.at(j).get('id'), xStart: rect[0][0], xEnd: rect[0][1]};\n      selis.push(new selection.possel(args));\n    }\n\n    // reset\n    this.dragStart = [];\n    // look for ctrl key\n    if (this.prolongSelection) {\n      this.g.selcol.add(selis);\n    } else {\n      this.g.selcol.reset(selis);\n    }\n\n    // safety check + update offset\n    this.g.zoomer.setLeftOffset(rect[0][0]);\n    return this.g.zoomer.setTopOffset(rect[1][0]);\n  },\n\n  // ends the selection mode\n  _onmouseup: function(e) {\n    return this._endSelection(mouse.abs(e));\n  },\n\n  _onmouseout: function(e) {\n    return this._endSelection(mouse.abs(e));\n  },\n\n // init the canvas\n  _createCanvas: function() {\n    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\n    this.el.height = this.model.length * rectHeight;\n    this.el.width = this.model.getMaxLength() * rectWidth;\n    this.ctx = this.el.getContext(\"2d\");\n    this.el.style.overflow = \"scroll\";\n    return this.el.style.cursor = \"crosshair\";\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/OverviewBox.js","var boneView = require(\"backbone-childs\");\nvar _ = require('underscore');\nvar k = require('koala-js');\nvar dom = require('dom-helper');\nvar sel = require(\"../g/selection/Selection\");\n\n// this is a very simplistic approach to show search result\n// TODO: needs proper styling\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.listenTo(this.g.user, \"change:searchText\", function(model, prop) {\n      this.search(prop);\n      return this.render();\n    });\n    this.sel = [];\n    return this.selPos = 0;\n  },\n\n  events:\n    {\"scroll\": \"_sendScrollEvent\"},\n\n  render: function() {\n    this.renderSubviews();\n\n    this.el.className = \"biojs_msa_searchresult\";\n    var searchText = this.g.user.get(\"searchText\");\n    if ((typeof searchText !== \"undefined\" && searchText !== null) && searchText.length > 0) {\n      if (this.sel.length === 0) {\n        this.el.textContent = \"no selection found\";\n      } else {\n        this.resultBox = k.mk(\"div\");\n        this.resultBox.className = \"biojs_msa_searchresult_ovbox\";\n        this.updateResult();\n        this.el.appendChild(this.resultBox);\n        this.el.appendChild(this.buildBtns());\n      }\n    }\n    return this;\n  },\n\n  updateResult: function() {\n      var text = \"search pattern: \" + this.g.user.get(\"searchText\");\n      text += \", selection: \" + (this.selPos + 1);\n      var seli = this.sel[this.selPos];\n      text += \" (\";\n      text += seli.get(\"xStart\") + \" - \" + seli.get(\"xEnd\");\n      text += \", id: \" + seli.get(\"seqId\");\n      text += \")\";\n      return this.resultBox.textContent = text;\n  },\n\n  buildBtns: function() {\n    var prevBtn = k.mk(\"button\");\n    prevBtn.textContent = \"Prev\";\n    prevBtn.addEventListener(\"click\", () => {\n      return this.moveSel(-1);\n    });\n\n    var nextBtn = k.mk(\"button\");\n    nextBtn.textContent = \"Next\";\n    nextBtn.addEventListener(\"click\", () => {\n      return this.moveSel(1);\n    });\n\n    var allBtn = k.mk(\"button\");\n    allBtn.textContent = \"All\";\n    allBtn.addEventListener(\"click\", () => {\n      return this.g.selcol.reset(this.sel);\n    });\n\n    var searchrow = k.mk(\"div\");\n    searchrow.appendChild(prevBtn);\n    searchrow.appendChild(nextBtn);\n    searchrow.appendChild(allBtn);\n    searchrow.className = \"biojs_msa_searchresult_row\";\n    return searchrow;\n  },\n\n  moveSel: function(relDist) {\n    var selNew = this.selPos + relDist;\n    if (selNew < 0 || selNew >= this.sel.length) {\n      return -1;\n    } else {\n      this.focus(selNew);\n      this.selPos = selNew;\n      return this.updateResult();\n    }\n  },\n\n  focus: function(selPos) {\n    var seli = this.sel[selPos];\n    var leftIndex = seli.get(\"xStart\");\n    this.g.zoomer.setLeftOffset(leftIndex);\n    return this.g.selcol.reset([seli]);\n  },\n\n  search: function(searchText) {\n    // marks all hits\n    var origIndex;\n    var search = new RegExp(searchText, \"gi\");\n    var newSeli = [];\n    var leftestIndex = origIndex = 100042;\n\n    this.model.each(function(seq) {\n      var strSeq = seq.get(\"seq\");\n      return (() => {\n        var match;\n        var result = [];\n        while (match = search.exec(strSeq)) {\n          var index = match.index;\n          var args = {xStart: index, xEnd: index + match[0].length - 1, seqId:\n            seq.get(\"id\")};\n          newSeli.push(new sel.possel(args));\n          result.push(leftestIndex = Math.min(index, leftestIndex));\n        }\n        return result;\n      })();\n    });\n\n    this.g.selcol.reset(newSeli);\n\n    // safety check + update offset\n    if (leftestIndex === origIndex) { leftestIndex = 0; }\n    this.g.zoomer.setLeftOffset(leftestIndex);\n\n    return this.sel = newSeli;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Search.js","var boneView = require(\"backbone-childs\");\nvar AlignmentBody = require(\"./AlignmentBody\");\nvar HeaderBlock = require(\"./header/HeaderBlock\");\nvar OverviewBox = require(\"./OverviewBox\");\nvar Search = require(\"./Search\");\nvar _ = require('underscore');\n\n// a neat collection view\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.draw();\n    //@listenTo @model,\"reset\", ->\n    // we need to wait until stats gives us the ok\n    this.listenTo(this.g.stats,\"reset\", function() {\n      return this.rerender();\n    });\n\n    // debounce a bulk operation\n    this.listenTo(this.model,\"change:hidden\", _.debounce(this.rerender, 10));\n\n    this.listenTo(this.model,\"sort\", this.rerender);\n    this.listenTo(this.model,\"add\", function() {\n      return console.log(\"seq add\");\n    });\n\n    this.listenTo(this.g.vis,\"change:sequences\", this.rerender);\n    this.listenTo(this.g.vis,\"change:overviewbox\", this.rerender);\n    return this.listenTo(this.g.visorder,\"change\", this.rerender);\n  },\n\n  draw: function() {\n    this.removeViews();\n\n    if (this.g.vis.get(\"overviewbox\")) {\n      var overviewbox = new OverviewBox({model: this.model, g: this.g});\n      overviewbox.ordering = this.g.visorder.get('overviewBox');\n      this.addView(\"overviewBox\", overviewbox);\n    }\n\n    if (true) {\n      var headerblock = new HeaderBlock({model: this.model, g: this.g});\n      headerblock.ordering = this.g.visorder.get('headerBox');\n      this.addView(\"headerBox\", headerblock);\n    }\n\n    if (true) {\n      var searchblock = new Search({model: this.model, g: this.g});\n      searchblock.ordering = this.g.visorder.get('searchBox');\n      this.addView(\"searchbox\", searchblock);\n    }\n\n    var body = new AlignmentBody({model: this.model, g: this.g});\n    body.ordering = this.g.visorder.get('alignmentBody');\n    return this.addView(\"body\",body);\n  },\n\n  render: function() {\n    this.renderSubviews();\n    this.el.className = \"biojs_msa_stage\";\n\n    return this;\n  },\n\n  rerender: function() {\n    if (!this.g.config.get(\"manualRendering\")) {\n      this.draw();\n      return this.render();\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/Stage.js","var Events = require(\"biojs-events\");\n\nmodule.exports = class CanvasCharCache {\n\n  constructor(g) {\n    this.g = g;\n    this.cache = {};\n    this.cacheHeight = 0;\n    this.cacheWidth = 0;\n  }\n\n  // returns a cached canvas\n  getFontTile(letter, width, height) {\n    // validate cache\n    if (width !== this.cacheWidth || height !== this.cacheHeight) {\n      this.cacheHeight = height;\n      this.cacheWidth = width;\n      this.cache = {};\n    }\n\n    if (this.cache[letter] === undefined) {\n      this.createTile(letter, width, height);\n    }\n\n    return this.cache[letter];\n  }\n\n  // creates a canvas with a single letter\n  // (for the fast font cache)\n  createTile(letter, width, height) {\n\n    var canvas = this.cache[letter] = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    this.ctx = canvas.getContext('2d');\n    this.ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n\n    this.ctx.textBaseline = 'middle';\n    this.ctx.textAlign = \"center\";\n\n    return this.ctx.fillText(letter,width / 2,height / 2,width);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/canvas/CanvasCharCache.js","var cacheConstructor;\nvar _ = require(\"underscore\");\nvar Events = require(\"biojs-events\");\n\nvar cache =\n\n  {setMaxScrollHeight() {\n    return this.maxScrollHeight = this.g.zoomer.getMaxAlignmentHeight() - this.g.zoomer.get('alignmentHeight');\n  },\n\n  setMaxScrollWidth() {\n    return this.maxScrollWidth = this.g.zoomer.getMaxAlignmentWidth() - this.g.zoomer.getAlignmentWidth();\n  }\n  };\n\nmodule.exports = cacheConstructor = function(g,model) {\n  this.g = g;\n  this.model = model;\n  this.maxScrollWidth = 0;\n  this.maxScrollHeight = 0;\n  this.setMaxScrollHeight();\n  this.setMaxScrollWidth();\n\n  this.listenTo(this.g.zoomer, \"change:rowHeight\", this.setMaxScrollHeight);\n  this.listenTo(this.g.zoomer, \"change:columnWidth\", this.setMaxScrollWidth);\n  this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.setMaxScrollWidth);\n  this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.setMaxScrollHeight);\n  this.listenTo( this.model, \"add change reset\", (function() {\n    this.setMaxScrollHeight();\n    return this.setMaxScrollWidth();\n  }), this\n  );\n  return this;\n};\n\n_.extend(cacheConstructor.prototype, cache);\nEvents.mixin(cacheConstructor.prototype);\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/canvas/CanvasCoordsCache.js","var SelectionClass;\nvar _ = require(\"underscore\");\n\nmodule.exports = SelectionClass = (function(g,ctx) {\n  this.g = g;\n  this.ctx = ctx;\n  return this;\n}\n);\n\n_.extend(SelectionClass.prototype, {\n\n  // TODO: should I be moved to the selection manager?\n  // returns an array with the currently selected residues\n  // e.g. [0,3] = pos 0 and 3 are selected\n  _getSelection: function(model) {\n    var maxLen = model.get(\"seq\").length;\n    var selection = [];\n    var sels = this.g.selcol.getSelForRow(model.get(\"id\"));\n    var rows = _.find(sels, function(el) { return el.get(\"type\") === \"row\"; });\n    if ((typeof rows !== \"undefined\" && rows !== null)) {\n      // full match\n      var end = maxLen - 1;\n      for (var n = 0; n <= end; n++) {\n        selection.push(n);\n      }\n    } else if (sels.length > 0) {\n      for (var i = 0, sel; i < sels.length; i++) {\n        sel = sels[i];\n        var start = sel.get(\"xStart\");\n        var end = sel.get(\"xEnd\");\n        for (var n = start; n <= end; n++) {\n          selection.push(n);\n        }\n      }\n    }\n\n    return selection;\n  },\n\n  // loops over all selection and calls the render method\n  _appendSelection: function(data) {\n    var seq = data.model.get(\"seq\");\n    var selection = this._getSelection(data.model);\n    // get the status of the upper and lower row\n    var [mPrevSel,mNextSel] = this._getPrevNextSelection(data.model);\n\n    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n\n    // avoid unnecessary loops\n    if (selection.length === 0) { return; }\n\n    var hiddenOffset = 0;\n    return (() => {\n      var result = [];\n      var end = seq.length - 1;\n      for (var n = 0; 0 < end ? n <= end : n >= end; 0 < end ? n++ : n--) {\n        result.push((() => {\n          if (data.hidden.indexOf(n) >= 0) {\n            return hiddenOffset++;\n          } else {\n            var k = n - hiddenOffset;\n            // only if its a new selection\n            if (selection.indexOf(n) >= 0 && (k === 0 || selection.indexOf(n - 1) < 0 )) {\n              return this._renderSelection({n:n,k:k,selection: selection,mPrevSel: mPrevSel,mNextSel:mNextSel, xZero: data.xZero, yZero: data.yZero, model: data.model});\n            }\n          }\n        })());\n      }\n      return result;\n    })();\n  },\n\n  // draws a single user selection\n  _renderSelection: function(data) {\n\n    var xZero = data.xZero;\n    var yZero = data.yZero;\n    var n = data.n;\n    var k = data.k;\n    var selection = data.selection;\n    // and checks the prev and next row for selection  -> no borders in a selection\n    var mPrevSel= data.mPrevSel;\n    var mNextSel = data.mNextSel;\n\n    // get the length of this selection\n    var selectionLength = 0;\n    var end = data.model.get(\"seq\").length - 1;\n    for (var i = n; n < end ? i <= end : i >= end; n < end ? i++ : i--) {\n      if (selection.indexOf(i) >= 0) {\n        selectionLength++;\n      } else {\n        break;\n      }\n    }\n\n    // TODO: ugly!\n    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n    var totalWidth = (boxWidth * selectionLength) + 1;\n\n    var hidden = this.g.columns.get('hidden');\n\n    this.ctx.beginPath();\n    var beforeWidth = this.ctx.lineWidth;\n    this.ctx.lineWidth = 3;\n    var beforeStyle = this.ctx.strokeStyle;\n    this.ctx.strokeStyle = \"#FF0000\";\n\n    xZero += k * boxWidth;\n\n    // split up the selection into single cells\n    var xPart = 0;\n    var end1 = selectionLength - 1;\n    for (var i = 0; 0 < end1 ? i <= end1 : i >= end1; 0 < end1 ? i++ : i--) {\n      var xPos = n + i;\n      if (hidden.indexOf(xPos) >= 0) {\n        continue;\n      }\n      // upper line\n      if (!((typeof mPrevSel !== \"undefined\" && mPrevSel !== null) && mPrevSel.indexOf(xPos) >= 0)) {\n        this.ctx.moveTo(xZero + xPart, yZero);\n        this.ctx.lineTo(xPart + boxWidth + xZero, yZero);\n      }\n      // lower line\n      if (!((typeof mNextSel !== \"undefined\" && mNextSel !== null) && mNextSel.indexOf(xPos) >= 0)) {\n        this.ctx.moveTo(xPart + xZero, boxHeight + yZero);\n        this.ctx.lineTo(xPart + boxWidth + xZero, boxHeight + yZero);\n      }\n\n      xPart += boxWidth;\n    }\n\n    // left\n    this.ctx.moveTo(xZero,yZero);\n    this.ctx.lineTo(xZero, boxHeight + yZero);\n\n    // right\n    this.ctx.moveTo(xZero + totalWidth,yZero);\n    this.ctx.lineTo(xZero + totalWidth, boxHeight + yZero);\n\n    this.ctx.stroke();\n    this.ctx.strokeStyle = beforeStyle;\n    return this.ctx.lineWidth = beforeWidth;\n  },\n\n  // looks at the selection of the prev and next el\n  // TODO: this is very naive, as there might be gaps above or below\n  _getPrevNextSelection: function(model) {\n\n    var modelPrev = model.collection.prev(model);\n    var modelNext = model.collection.next(model);\n    if ((typeof modelPrev !== \"undefined\" && modelPrev !== null)) { var mPrevSel = this._getSelection(modelPrev); }\n    if ((typeof modelNext !== \"undefined\" && modelNext !== null)) { var mNextSel = this._getSelection(modelNext); }\n    return [mPrevSel,mNextSel];\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/canvas/CanvasSelection.js","var boneView = require(\"backbone-childs\");\nvar mouse = require(\"mouse-pos\");\nvar _ = require(\"underscore\");\nvar jbone = require(\"jbone\");\nvar CharCache = require(\"./CanvasCharCache\");\nvar SelectionClass = require(\"./CanvasSelection\");\nvar CanvasSeqDrawer = require(\"./CanvasSeqDrawer\");\nvar CanvasCoordsCache = require(\"./CanvasCoordsCache\");\n\nmodule.exports = boneView.extend({\n\n  tagName: \"canvas\",\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft change:_alignmentScrollTop\", function(model,value, options) {\n      if ((!(((typeof options !== \"undefined\" && options !== null) ? options.origin : undefined) != null)) || options.origin !== \"canvasseq\") {\n        return this.render();\n      }\n    });\n\n    this.listenTo(this.g.columns,\"change:hidden\", this.render);\n    this.listenTo(this.g.zoomer,\"change:alignmentWidth change:alignmentHeight\", this.render);\n    this.listenTo(this.g.colorscheme, \"change\", this.render);\n    this.listenTo(this.g.selcol, \"reset add\", this.render);\n    this.listenTo(this.model, \"reset add\", this.render);\n\n    // el props\n    this.el.style.display = \"inline-block\";\n    this.el.style.overflowX = \"hidden\";\n    this.el.style.overflowY = \"hidden\";\n    this.el.className = \"biojs_msa_seqblock\";\n\n    this.ctx = this.el.getContext('2d');\n    this.cache = new CharCache(this.g);\n    this.coordsCache = new CanvasCoordsCache(this.g, this.model);\n\n    // clear the char cache\n    this.listenTo(this.g.zoomer, \"change:residueFont\", function() {\n      this.cache = new CharCache(this.g);\n      return this.render();\n    });\n\n    // init selection\n    this.sel = new SelectionClass(this.g,this.ctx);\n\n    this._setColor();\n\n    // throttle the expensive draw function\n    this.throttleTime = 0;\n    this.throttleCounts = 0;\n    if ((document.documentElement.style.webkitAppearance != null)) {\n      // webkit browser - no throttling needed\n      this.throttledDraw = function() {\n        var start = +new Date();\n        this.draw();\n        this.throttleTime += +new Date() - start;\n        this.throttleCounts++;\n        if (this.throttleCounts > 15) {\n          var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n          console.log(\"avgDrawTime/WebKit\", tTime);\n          // remove perf analyser\n          return this.throttledDraw = this.draw;\n        }\n      };\n    } else {\n      // slow browsers like Gecko\n      this.throttledDraw = _.throttle(this.throttledDraw, 30);\n    }\n\n    return this.manageEvents();\n  },\n\n\n  // measures the time of a redraw and thus set the throttle limit\n  throttledDraw: function() {\n    // +new is the fastest: http://jsperf.com/new-date-vs-date-now-vs-performance-now/6\n    var start = +new Date();\n    this.draw();\n    this.throttleTime += +new Date() - start;\n    this.throttleCounts++;\n\n    // remove itself after analysis\n    if (this.throttleCounts > 15) {\n      var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n      console.log(\"avgDrawTime\", tTime);\n      tTime *=  1.2; // add safety time\n      tTime = Math.max(20, tTime); // limit for ultra fast computers\n      return this.throttledDraw = _.throttle(this.draw, tTime);\n    }\n  },\n\n  manageEvents: function() {\n    var events = {};\n    events.mousedown = \"_onmousedown\";\n    events.touchstart = \"_ontouchstart\";\n\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.dblclick = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n\n    events.mousewheel = \"_onmousewheel\";\n    events.DOMMouseScroll = \"_onmousewheel\";\n    this.delegateEvents(events);\n\n    // listen for changes\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n    return this.dragStart = [];\n  },\n\n  _setColor: function() {\n    return this.color = this.g.colorscheme.getSelectedScheme();\n  },\n\n  draw: function() {\n    // fastest way to clear the canvas\n    // http://jsperf.com/canvas-clear-speed/25\n    this.el.width = this.el.width;\n\n    // draw all the stuff\n    if ((this.seqDrawer != null)  && this.model.length > 0) {\n      // char based\n      this.seqDrawer.drawLetters();\n      // row based\n      this.seqDrawer.drawRows(this.sel._appendSelection, this.sel);\n      return this.seqDrawer.drawRows(this.drawFeatures, this);\n    }\n  },\n\n  drawFeatures: function(data) {\n    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n    var rectHeight = this.g.zoomer.get(\"rowHeight\");\n    if (data.model.attributes.height > 1) {\n      var ctx = this.ctx;\n      data.model.attributes.features.each(function(feature) {\n        ctx.fillStyle = feature.attributes.fillColor || \"red\";\n        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n        var y = (feature.attributes.row + 1) * rectHeight;\n        return ctx.fillRect(feature.attributes.xStart * rectWidth + data.xZero,y + data.yZero,rectWidth * len,rectHeight);\n      });\n\n      // draw text\n      ctx.fillStyle = \"black\";\n      ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n      ctx.textBaseline = 'middle';\n      ctx.textAlign = \"center\";\n\n      return data.model.attributes.features.each(function(feature) {\n        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n        var y = (feature.attributes.row + 1) * rectHeight;\n        return ctx.fillText( feature.attributes.text, data.xZero + feature.attributes.xStart *\n        rectWidth + (len / 2) * rectWidth, data.yZero + rectHeight * 0.5 + y\n        );\n      });\n    }\n  },\n\n  render: function() {\n\n    this.el.setAttribute('height', this.g.zoomer.get(\"alignmentHeight\") + \"px\");\n    this.el.setAttribute('width', this.g.zoomer.getAlignmentWidth() + \"px\");\n\n    this.g.zoomer._checkScrolling( this._checkScrolling([this.g.zoomer.get('_alignmentScrollLeft'),\n    this.g.zoomer.get('_alignmentScrollTop')] ),{header: \"canvasseq\"});\n\n    this._setColor();\n\n    this.seqDrawer = new CanvasSeqDrawer( this.g,this.ctx,this.model,\n      {width: this.el.width,\n      height: this.el.height,\n      color: this.color,\n      cache: this.cache\n    });\n\n    this.throttledDraw();\n    return this;\n  },\n\n  _onmousemove: function(e, reversed) {\n    if (this.dragStart.length === 0) { return; }\n\n    var dragEnd = mouse.abs(e);\n    // relative to first click\n    var relEnd = [dragEnd[0] - this.dragStart[0], dragEnd[1] - this.dragStart[1]];\n    // relative to initial scroll status\n\n    // scale events\n    var scaleFactor = this.g.zoomer.get(\"canvasEventScale\");\n    if (reversed) {\n      scaleFactor = 3;\n    }\n    for (var i = 0; i <= 1; i++) {\n      relEnd[i] = relEnd[i] * scaleFactor;\n    }\n\n    // calculate new scrolling vals\n    var relDist = [this.dragStartScroll[0] - relEnd[0], this.dragStartScroll[1] - relEnd[1]];\n\n    // round values\n    for (var i = 0; i <= 1; i++) {\n      relDist[i] = Math.round(relDist[i]);\n    }\n\n    // update scrollbar\n    var scrollCorrected = this._checkScrolling( relDist);\n    this.g.zoomer._checkScrolling(scrollCorrected, {origin: \"canvasseq\"});\n\n    // reset start if use scrolls out of bounds\n    for (var i = 0; i <= 1; i++) {\n      if (scrollCorrected[i] !== relDist[i]) {\n        if (scrollCorrected[i] === 0) {\n          // reset of left, top\n          this.dragStart[i] = dragEnd[i];\n          this.dragStartScroll[i] = 0;\n        } else {\n          // recalibrate on right, bottom\n          this.dragStart[i] = dragEnd[i] - scrollCorrected[i];\n        }\n      }\n    }\n\n    this.throttledDraw();\n\n    // abort selection events of the browser (mouse only)\n    if ((e.preventDefault != null)) {\n      e.preventDefault();\n      return e.stopPropagation();\n    }\n  },\n\n  // converts touches into old mouse event\n  _ontouchmove: function(e) {\n    this._onmousemove(e.changedTouches[0], true);\n    e.preventDefault();\n    return e.stopPropagation();\n  },\n\n  // start the dragging mode\n  _onmousedown: function(e) {\n    this.dragStart = mouse.abs(e);\n    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n    jbone(document.body).on('mousemove.overmove', (e) => this._onmousemove(e));\n    jbone(document.body).on('mouseup.overup', () => this._cleanup());\n    //jbone(document.body).on 'mouseout.overout', (e) => @_onmousewinout(e)\n    return e.preventDefault();\n  },\n\n  // starts the touch mode\n  _ontouchstart: function(e) {\n    this.dragStart = mouse.abs(e.changedTouches[0]);\n    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n    jbone(document.body).on('touchmove.overtmove', (e) => this._ontouchmove(e));\n    return jbone(document.body).on( 'touchend.overtend touchleave.overtleave touchcancel.overtcanel', (e) => this._touchCleanup(e)\n    );\n  },\n\n  // checks whether mouse moved out of the window\n  // -> terminate dragging\n  _onmousewinout: function(e) {\n    if (e.toElement === document.body.parentNode) {\n      return this._cleanup();\n    }\n  },\n\n  // terminates dragging\n  _cleanup: function() {\n    this.dragStart = [];\n    // remove all listeners\n    jbone(document.body).off('.overmove');\n    jbone(document.body).off('.overup');\n    return jbone(document.body).off('.overout');\n  },\n\n  // terminates touching\n  _touchCleanup: function(e) {\n    if (e.changedTouches.length > 0) {\n      // maybe we can send a final event\n      this._onmousemove(e.changedTouches[0], true);\n    }\n\n    this.dragStart = [];\n    // remove all listeners\n    jbone(document.body).off('.overtmove');\n    jbone(document.body).off('.overtend');\n    jbone(document.body).off('.overtleave');\n    return jbone(document.body).off('.overtcancel');\n  },\n\n  // might be incompatible with some browsers\n  _onmousewheel: function(e) {\n    var delta = mouse.wheelDelta(e);\n    this.g.zoomer.set('_alignmentScrollLeft', this.g.zoomer.get('_alignmentScrollLeft') + delta[0]);\n    this.g.zoomer.set('_alignmentScrollTop', this.g.zoomer.get('_alignmentScrollTop') + delta[1]);\n    return e.preventDefault();\n  },\n\n  _onclick: function(e) {\n    var res = this._getClickPos(e);\n    if ((typeof res !== \"undefined\" && res !== null)) {\n      if ((res.feature != null)) {\n        this.g.trigger(\"feature:click\", res);\n      } else {\n        this.g.trigger(\"residue:click\", res);\n      }\n    }\n    return this.throttledDraw();\n  },\n\n  _onmousein: function(e) {\n    var res = this._getClickPos(e);\n    if ((typeof res !== \"undefined\" && res !== null)) {\n      if ((res.feature != null)) {\n        this.g.trigger(\"feature:mousein\", res);\n      } else {\n        this.g.trigger(\"residue:mousein\", res);\n      }\n    }\n    return this.throttledDraw();\n  },\n\n  _onmouseout: function(e) {\n    var res = this._getClickPos(e);\n    if ((typeof res !== \"undefined\" && res !== null)) {\n      if ((res.feature != null)) {\n        this.g.trigger(\"feature:mouseout\", res);\n      } else {\n        this.g.trigger(\"residue:mouseout\", res);\n      }\n    }\n\n    return this.throttledDraw();\n  },\n\n  _getClickPos: function(e) {\n    var coords = mouse.rel(e);\n\n    coords[0] += this.g.zoomer.get(\"_alignmentScrollLeft\");\n    var x = Math.floor(coords[0] / this.g.zoomer.get(\"columnWidth\") );\n    var [y,rowNumber] = this.seqDrawer._getSeqForYClick(coords[1]);\n\n    // add hidden columns\n    x += this.g.columns.calcHiddenColumns(x);\n    // add hidden seqs\n    y += this.model.calcHiddenSeqs(y);\n\n    x = Math.max(0,x);\n    y = Math.max(0,y);\n\n    var seqId = this.model.at(y).get(\"id\");\n\n    if (rowNumber > 0) {\n      // click on a feature\n      var features = this.model.at(y).get(\"features\").getFeatureOnRow(rowNumber - 1, x);\n      if (!(features.length === 0)) {\n        var feature = features[0];\n        console.log(features[0].attributes);\n        return {seqId:seqId, feature: feature, rowPos: x, evt:e};\n      }\n    } else {\n      // click on a seq\n      return {seqId:seqId, rowPos: x, evt:e};\n    }\n  },\n\n  // checks whether the scrolling coordinates are valid\n  // @returns: [xScroll,yScroll] valid coordinates\n  _checkScrolling: function(scrollObj) {\n\n    // 0: maxLeft, 1: maxTop\n    var max = [this.coordsCache.maxScrollWidth, this.coordsCache.maxScrollHeight];\n\n    for (var i = 0; i <= 1; i++) {\n      if (scrollObj[i] > max[i]) {\n        scrollObj[i] = max[i];\n      }\n\n      if (scrollObj[i] < 0) {\n        scrollObj[i] = 0;\n      }\n    }\n\n    return scrollObj;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/canvas/CanvasSeqBlock.js","var construc;\nvar _ = require(\"underscore\");\n\nvar drawer =\n\n  {drawLetters: function() {\n\n    var rectHeight = this.rectHeight;\n\n    // rects\n    this.ctx.globalAlpha = this.g.colorscheme.get(\"opacity\");\n    this.drawSeqs(function(data) { return this.drawSeq(data, this._drawRect); });\n    this.ctx.globalAlpha = 1;\n\n    // letters\n    return this.drawSeqs(function(data) { return this.drawSeq(data, this._drawLetter); });\n  },\n\n  drawSeqs: function(callback, target) {\n    var hidden = this.g.columns.get(\"hidden\");\n\n    target = target || this;\n\n    var [start, y] = this.getStartSeq();\n\n    for (var i = start; i < this.model.length; i++) {\n      var seq = this.model.at(i);\n      if (seq.get('hidden')) {\n        continue;\n      }\n      callback.call(target, {model: seq, yPos: y, y: i, hidden: hidden});\n\n      var seqHeight = (seq.attributes.height || 1) * this.rectHeight;\n      y = y + seqHeight;\n\n      // out of viewport - stop\n      if (y > this.height) {\n          break;\n      }\n    }\n  },\n\n  // calls the callback for every drawable row\n  drawRows: function(callback, target) {\n    return this.drawSeqs(function(data) { return this.drawRow(data, callback, target); });\n  },\n\n  // draws a single row\n  drawRow: function(data, callback, target) {\n    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n    var start = Math.max(0, Math.abs(Math.ceil( - this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n    var x = - Math.abs( - this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\n    var xZero = x - start * rectWidth;\n    var yZero = data.yPos;\n    return callback.call(target, {model: data.model, xZero: xZero, yZero: yZero, hidden: data.hidden});\n  },\n\n  // returns first sequence in the viewport\n  // y is the position to start drawing\n  getStartSeq: function() {\n    var start = (Math.max(0, Math.floor( this.g.zoomer.get('_alignmentScrollTop') / this.rectHeight))) + 1;\n    var counter = 0;\n    var i = 0;\n    while (counter < start && i < this.model.length) {\n      counter += this.model.at(i).attributes.height || 1;\n      i++;\n    }\n    var y = Math.max(0, this.g.zoomer.get('_alignmentScrollTop') - counter * this.rectHeight + (this.model.at(i - 1)\n    .attributes.height  || 1 ) * this.rectHeight);\n    return [i - 1, -y];\n  },\n\n  // returns [the clicked seq for a viewport, row number]\n  _getSeqForYClick: function(click) {\n    var [start, yDiff] = this.getStartSeq();\n    var yRel = yDiff % this.rectHeight;\n    var clickedRows = (Math.max(0, Math.floor( (click - yRel ) / this.rectHeight))) + 1;\n    var counter = 0;\n    var i = start;\n    while (counter < clickedRows && i < this.model.length) {\n      counter += this.model.at(i).attributes.height || 1;\n      i++;\n    }\n    var rowNumber = Math.max(0, Math.floor(click / this.rectHeight) - counter + (this.model.at(i - 1).get(\"height\") || 1));\n    return [i - 1, rowNumber];\n  },\n\n  // TODO: very expensive method\n  drawSeq: function(data, callback) {\n    var seq = data.model.get(\"seq\");\n    var y = data.yPos;\n    var rectWidth = this.rectWidth;\n    var rectHeight = this.rectHeight;\n\n    // skip unneeded blocks at the beginning\n    var start = Math.max(0, Math.abs(Math.ceil( - this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n    var x = - Math.abs( - this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\n    var res = {rectWidth: rectWidth, rectHeight: rectHeight, yPos: y, y: data.y};\n    var elWidth = this.width;\n\n    for (var j = start; j <  seq.length; j++) {\n      var c = seq[j];\n      c = c.toUpperCase();\n\n      // call the custom function\n      res.x = j;\n      res.c = c;\n      res.xPos = x;\n\n      // local call is faster than apply\n      // http://jsperf.com/function-calls-direct-vs-apply-vs-call-vs-bind/6\n      if (data.hidden.indexOf(j) < 0) {\n        callback(this, res);\n      } else {\n        continue;\n      }\n\n      // move to the right\n      x = x + rectWidth;\n\n      // out of viewport - stop\n      if (x > elWidth) {\n        break;\n      }\n    }\n  },\n\n  _drawRect: function(that, data) {\n    var color = that.color.getColor( data.c,\n      {pos:data.x,\n      y: data.y\n    });\n    if ((typeof color !== \"undefined\" && color !== null)) {\n      that.ctx.fillStyle = color;\n      return that.ctx.fillRect(data.xPos,data.yPos,data.rectWidth,data.rectHeight);\n    }\n  },\n\n  // REALLY expensive call on FF\n  // Performance:\n  // chrome: 2000ms drawLetter - 1000ms drawRect\n  // FF: 1700ms drawLetter - 300ms drawRect\n  _drawLetter: function(that,data) {\n    return that.ctx.drawImage(that.cache.getFontTile(data.c, data.rectWidth, data.rectHeight), data.xPos, data.yPos,data.rectWidth,data.rectHeight);\n  }\n  };\n\n\nmodule.exports = construc = function(g,ctx,model,opts) {\n  this.g = g;\n  this.ctx = ctx;\n  this.model = model;\n  this.width = opts.width;\n  this.height = opts.height;\n  this.color = opts.color;\n  this.cache = opts.cache;\n  this.rectHeight = this.g.zoomer.get(\"rowHeight\");\n  this.rectWidth = this.g.zoomer.get(\"columnWidth\");\n  return this;\n};\n\n_.extend(construc.prototype, drawer);\n\n\n// WEBPACK FOOTER //\n// ./src/views/canvas/CanvasSeqDrawer.js","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\nvar svg = require(\"../../utils/svg\");\n\nvar ConservationView = view.extend({\n\n  className: \"biojs_msa_conserv\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:stepSize change:labelWidth change:columnWidth\", this.render);\n    this.listenTo(this.g.vis,\"change:labels change:metacell\", this.render);\n    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n    // we need to wait until stats gives us the ok\n    //@listenTo @model, \"reset\",@render\n    this.listenTo(this.g.stats,\"reset\", this.render);\n    return this.manageEvents();\n  },\n\n  render: function() {\n    var conserv = this.g.stats.scale(this.g.stats.conservation());\n\n    dom.removeAllChilds(this.el);\n\n    var nMax = this.model.getMaxLength();\n    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n    var maxHeight = 20;\n    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\n    var s = svg.base({height: maxHeight, width: width});\n    s.style.display = \"inline-block\";\n    s.style.cursor = \"pointer\";\n\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    var hidden = this.g.columns.get(\"hidden\");\n    var x = 0;\n    var n = 0;\n    while (n < nMax) {\n      if (hidden.indexOf(n) >= 0) {\n        n += stepSize;\n        continue;\n      }\n      width = cellWidth * stepSize;\n      var avgHeight = 0;\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        avgHeight += conserv[n];\n      }\n      var height = maxHeight *  (avgHeight / stepSize);\n\n      var rect =  svg.rect({x:x,y: maxHeight - height,width:width - cellWidth / 4,height:height,style:\n        \"stroke:red;stroke-width:1;\"\n      });rect.rowPos = n;\n      s.appendChild(rect);\n      x += width;\n      n += stepSize;\n    }\n\n    this.el.appendChild(s);\n    return this;\n  },\n\n  //TODO: make more general with HeaderView\n  _onclick: function(evt) {\n    var rowPos = evt.target.rowPos;\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    // simulate hidden columns\n    return (() => {\n      var result = [];\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        result.push(this.g.trigger(\"bar:click\", {rowPos: rowPos + i, evt:evt}));\n      }\n      return result;\n    })();\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n  },\n\n  _onmousein: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"bar:mousein\", {rowPos: rowPos, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"bar:mouseout\", {rowPos: rowPos, evt:evt});\n  }\n});\n\nmodule.exports = ConservationView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/header/ConservationView.js","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\nvar svg = require(\"../../utils/svg\");\n\n// TODO: merge this with the conservation view\nvar ConservationView = view.extend({\n\n  className: \"biojs_msa_gapview\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:stepSize change:labelWidth change:columnWidth\", this.render);\n    this.listenTo(this.g.vis,\"change:labels change:metacell\", this.render);\n    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n    // we need to wait until stats gives us the ok\n    this.listenTo(this.model, \"reset\",this.render);\n    return this.manageEvents();\n  },\n\n  render: function() {\n    var gaps = this.g.stats.gaps();\n\n    dom.removeAllChilds(this.el);\n\n    var nMax = this.model.getMaxLength();\n    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n    var maxHeight = 20;\n    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\n    var s = svg.base({height: maxHeight, width: width});\n    s.style.display = \"inline-block\";\n    s.style.cursor = \"pointer\";\n\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    var hidden = this.g.columns.get(\"hidden\");\n    var x = 0;\n    var n = 0;\n    while (n < nMax) {\n      if (hidden.indexOf(n) >= 0) {\n        n += stepSize;\n        continue;\n      }\n      width = cellWidth * stepSize;\n      var avgHeight = 0;\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        avgHeight += gaps[n];\n      }\n      var height = maxHeight *  (avgHeight / stepSize);\n\n      var rect =  svg.rect({x:x,y: maxHeight - height,width:width - cellWidth / 4,height:height,style:\n        \"stroke:red;stroke-width:1;\"\n      });rect.rowPos = n;\n      s.appendChild(rect);\n      x += width;\n      n += stepSize;\n    }\n\n    this.el.appendChild(s);\n    return this;\n  },\n\n  //TODO: make more general with HeaderView\n  _onclick: function(evt) {\n    var rowPos = evt.target.rowPos;\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    // simulate hidden columns\n    return (() => {\n      var result = [];\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        result.push(this.g.trigger(\"gap:click\", {rowPos: rowPos + i, evt:evt}));\n      }\n      return result;\n    })();\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n  },\n\n  _onmousein: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"gap:mousein\", {rowPos: rowPos, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"gap:mouseout\", {rowPos: rowPos, evt:evt});\n  }\n});\n\nmodule.exports = ConservationView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/header/GapView.js","var boneView = require(\"backbone-childs\");\nvar LabelHeader = require(\"./LabelHeader\");\nvar RightLabelHeader = require(\"./RightHeaderBlock\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.draw();\n    return this.listenTo(this.g.vis,\"change:labels change:metacell change:leftHeader\", () => {\n      this.draw();\n      return this.render();\n    });\n  },\n\n  draw: function() {\n    this.removeViews();\n\n    if (this.g.vis.get(\"leftHeader\") && (this.g.vis.get(\"labels\") || this.g.vis.get(\"metacell\"))) {\n      var lHeader = new LabelHeader({model: this.model, g: this.g});\n      lHeader.ordering = -50;\n      this.addView(\"lHeader\", lHeader);\n    }\n\n    var rHeader = new RightLabelHeader({model: this.model, g: this.g});\n    rHeader.ordering = 0;\n    return this.addView(\"rHeader\", rHeader);\n  },\n\n  render: function() {\n    this.renderSubviews();\n\n    return this.el.className = \"biojs_msa_header\";\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/header/HeaderBlock.js","var LabelHeader;\nvar k = require(\"koala-js\");\nvar view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\n\nmodule.exports = LabelHeader = view.extend({\n\n  className: \"biojs_msa_headers\",\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.listenTo(this.g.vis, \"change:metacell change:labels\", this.render);\n    return this.listenTo(this.g.zoomer, \"change:labelWidth change:metaWidth\", this.render);\n  },\n\n  render: function() {\n\n    dom.removeAllChilds(this.el);\n\n    var width = 0;\n    width += this.g.zoomer.getLeftBlockWidth();\n    this.el.style.width = width + \"px\";\n\n    if (this.g.vis.get(\"labels\")) {\n      this.el.appendChild(this.labelDOM());\n    }\n\n    if (this.g.vis.get(\"metacell\")) {\n      this.el.appendChild(this.metaDOM());\n    }\n\n    this.el.style.display = \"inline-block\";\n    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n    return this;\n  },\n\n  labelDOM: function() {\n    var labelHeader = k.mk(\"div\");\n    labelHeader.style.width = this.g.zoomer.getLabelWidth();\n    labelHeader.style.display = \"inline-block\";\n\n    if (this.g.vis.get(\"labelCheckbox\")) {\n      labelHeader.appendChild(this.addEl(\".\", 10));\n    }\n\n    if (this.g.vis.get(\"labelId\")) {\n      labelHeader.appendChild(this.addEl(\"ID\", this.g.zoomer.get(\"labelIdLength\")));\n    }\n\n    if (this.g.vis.get(\"labelPartition\")) {\n      labelHeader.appendChild(this.addEl(\"part\", 15));\n    }\n\n    if (this.g.vis.get(\"labelName\")) {\n      var name = this.addEl(\"Label\");\n      //name.style.marginLeft = \"50px\"\n      labelHeader.appendChild(name);\n    }\n\n    return labelHeader;\n  },\n\n  addEl: function(content, width) {\n    var id = document.createElement(\"span\");\n    id.textContent = content;\n    if ((typeof width !== \"undefined\" && width !== null)) {\n      id.style.width = width + \"px\";\n    }\n    id.style.display = \"inline-block\";\n    return id;\n  },\n\n  metaDOM: function() {\n    var metaHeader = k.mk(\"div\");\n    metaHeader.style.width = this.g.zoomer.getMetaWidth();\n    metaHeader.style.display = \"inline-block\";\n\n    if (this.g.vis.get(\"metaGaps\")) {\n      metaHeader.appendChild(this.addEl(\"Gaps\", this.g.zoomer.get('metaGapWidth')));\n    }\n    if (this.g.vis.get(\"metaIdentity\")) {\n      metaHeader.appendChild(this.addEl(\"Ident\", this.g.zoomer.get('metaIdentWidth')));\n    }\n    // if @.g.vis.get \"metaLinks\"\n    //   metaHeader.appendChild @addEl(\"Links\")\n\n    return metaHeader;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/header/LabelHeader.js","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\nvar svg = require(\"../../utils/svg\");\nvar jbone = require(\"jbone\");\n\nvar HeaderView = view.extend({\n\n  className: \"biojs_msa_marker\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize\", this.render);\n    this.listenTo(this.g.vis,\"change:labels change:metacell\", this.render);\n    return this.manageEvents();\n  },\n\n  render: function() {\n    dom.removeAllChilds(this.el);\n\n    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n\n    var container = document.createElement(\"span\");\n    var n = 0;\n    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\n    var nMax = this.model.getMaxLength();\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    var hidden = this.g.columns.get(\"hidden\");\n\n    while (n < nMax) {\n      if (hidden.indexOf(n) >= 0) {\n        this.markerHidden(span,n, stepSize);\n        n += stepSize;\n        continue;\n      }\n      var span = document.createElement(\"span\");\n      span.style.width = (cellWidth * stepSize) + \"px\";\n      span.style.display = \"inline-block\";\n      // TODO: this doesn't work for a larger stepSize\n      if ((n + 1) % this.g.zoomer.get('markerStepSize') === 0) {\n        span.textContent = (n + 1);\n      } else {\n        span.textContent = \".\";\n      }\n      span.rowPos = n;\n\n      n += stepSize;\n      container.appendChild(span);\n    }\n\n    this.el.appendChild(container);\n    return this;\n  },\n\n  markerHidden: function(span,n,stepSize) {\n    var hidden = this.g.columns.get(\"hidden\").slice(0);\n\n    var min = Math.max(0, n - stepSize);\n    var prevHidden = true;\n    for (var j = min; min < n ? j <= n : j >= n; min < n ? j++ : j--) {\n      prevHidden &= hidden.indexOf(j) >= 0;\n    }\n\n    // filter duplicates\n    if (prevHidden) { return; }\n\n    var nMax = this.model.getMaxLength();\n\n    var length = 0;\n    var index = -1;\n    // accumlate multiple rows\n    for (var n = n; n < nMax ? n <= nMax : n >= nMax; n < nMax ? n++ : n--) {\n      if (!(index >= 0)) { index = hidden.indexOf(n); }// sets the first index\n      if (hidden.indexOf(n) >= 0) {\n        length++;\n      } else {\n        break;\n      }\n    }\n\n    var s = svg.base({height: 10, width: 10});\n    s.style.position = \"relative\";\n    var triangle = svg.polygon({points: \"0,0 5,5 10,0\", style:\n      \"fill:lime;stroke:purple;stroke-width:1\"\n    });jbone(triangle).on(\"click\", (evt) => {\n      hidden.splice(index, length);\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    s.appendChild(triangle);\n    span.appendChild(s);\n    return s;\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n  },\n\n  _onclick: function(evt) {\n    var rowPos = evt.target.rowPos;\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    return this.g.trigger(\"column:click\", {rowPos: rowPos,stepSize: stepSize, evt:evt});\n  },\n\n  _onmousein: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    return this.g.trigger(\"column:mousein\", {rowPos: rowPos,stepSize: stepSize, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    return this.g.trigger(\"column:mouseout\", {rowPos: rowPos,stepSize: stepSize, evt:evt});\n  }\n});\n\nmodule.exports = HeaderView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/header/MarkerView.js","var MarkerView = require(\"./MarkerView\");\nvar ConservationView = require(\"./ConservationView\");\nvar boneView = require(\"backbone-childs\");\nvar _ = require('underscore');\nvar SeqLogoWrapper = require(\"./SeqLogoWrapper\");\nvar GapView = require(\"./GapView\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.blockEvents = false;\n\n    this.listenTo(this.g.vis,\"change:header\", function() {\n      this.draw();\n      return this.render();\n    });\n    this.listenTo(this.g.vis,\"change\", this._setSpacer);\n    this.listenTo(this.g.zoomer,\"change:alignmentWidth\", this._setWidth);\n    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft\", this._adjustScrollingLeft);\n\n    // TODO: duplicate rendering\n    this.listenTo(this.g.columns, \"change:hidden\", function() {\n      this.draw();\n      return this.render();\n    });\n\n    this.draw();\n\n    return this.g.vis.once('change:loaded', this._adjustScrollingLeft, this);\n  },\n\n  events:\n    {\"scroll\": \"_sendScrollEvent\"},\n\n  draw: function() {\n    this.removeViews();\n\n    if (this.g.vis.get(\"conserv\")) {\n      var conserv = new ConservationView({model: this.model, g: this.g});\n      conserv.ordering = -20;\n      this.addView(\"conserv\",conserv);\n    }\n\n    if (this.g.vis.get(\"markers\")) {\n      var marker = new MarkerView({model: this.model, g: this.g});\n      marker.ordering = -10;\n      this.addView(\"marker\",marker);\n    }\n\n    if (this.g.vis.get(\"seqlogo\")) {\n      var seqlogo = new SeqLogoWrapper({model: this.model, g: this.g});\n      seqlogo.ordering = -30;\n      this.addView(\"seqlogo\",seqlogo);\n    }\n\n    if (this.g.vis.get(\"gapHeader\")) {\n      var gapview = new GapView({model: this.model, g: this.g});\n      gapview.ordering = -25;\n      return this.addView(\"gapview\",gapview);\n    }\n  },\n\n  render: function() {\n    this.renderSubviews();\n\n    this._setSpacer();\n\n    this.el.className = \"biojs_msa_rheader\";\n    this.el.style.overflowX = \"auto\";\n    this.el.style.display = \"inline-block\";\n    //@el.style.height = @g.zoomer.get(\"markerHeight\") + \"px\"\n    this._setWidth();\n    this._adjustScrollingLeft();\n    return this;\n  },\n\n  // scrollLeft triggers a reflow of the whole area (even only get)\n  _sendScrollEvent: function() {\n    if (!this.blockEvents) {\n      this.g.zoomer.set(\"_alignmentScrollLeft\", this.el.scrollLeft, {origin: \"header\"});\n    }\n    return this.blockEvents = false;\n  },\n\n  _adjustScrollingLeft: function(model,value,options) {\n    if ((!(((typeof options !== \"undefined\" && options !== null) ? options.origin : undefined) != null)) || options.origin !== \"header\") {\n      var scrollLeft = this.g.zoomer.get(\"_alignmentScrollLeft\");\n      this.blockEvents = true;\n      return this.el.scrollLeft = scrollLeft;\n    }\n  },\n\n  _setSpacer: function() {\n    // spacer / padding element\n    return this.el.style.marginLeft = this._getLabelWidth() + \"px\";\n  },\n\n  _getLabelWidth: function() {\n    var paddingLeft = 0;\n    if (!this.g.vis.get(\"leftHeader\")) {\n      paddingLeft += this.g.zoomer.getLeftBlockWidth();\n    }\n    return paddingLeft;\n  },\n\n  _setWidth: function() {\n    return this.el.style.width = this.g.zoomer.getAlignmentWidth() + \"px\";\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/header/RightHeaderBlock.js","var SeqLogoView = require(\"biojs-vis-seqlogo/light\");\nvar view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\n\n// this is a bridge between the MSA and the seqlogo viewer\nmodule.exports = view.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:alignmentWidth\", this.render);\n    this.listenTo(this.g.colorscheme, \"change\", function() {\n      var colors = this.g.colorscheme.getSelectedScheme();\n      this.seqlogo.changeColors(colors);\n      return this.render();\n    });\n\n    this.listenTo(this.g.zoomer,\"change:columnWidth\", function() {\n      this.seqlogo.column_width = this.g.zoomer.get('columnWidth');\n      return this.render();\n    });\n\n    //@listenTo @g.zoomer,\"change:columnWidth change:rowHeight\", ->\n\n    this.listenTo(this.g.stats, \"reset\", function() {\n      this.draw();\n      return this.render();\n    });\n\n    return this.draw();\n  },\n\n\n  draw: function() {\n    dom.removeAllChilds(this.el);\n\n    console.log(\"redraw seqlogo\");\n    var arr = this.g.stats.conservResidue({scaled: true});\n    arr = _.map(arr, function(el) {\n      return _.pick(el, function(e,k) {\n        return k !== \"-\";\n      });\n    });\n    var data =\n      {alphabet: \"aa\",\n      heightArr: arr\n      };\n\n    var colors = this.g.colorscheme.getSelectedScheme();\n    // TODO: seqlogo might have problems with true dynamic schemes\n    return this.seqlogo = new SeqLogoView({model: this.model, g: this.g, data: data, yaxis:false ,scroller: false,xaxis: false, height: 100, column_width: this.g.zoomer.get('columnWidth'),positionMarker: false, zoom: 1, el: this.el,colors: colors});\n  },\n\n  render: function() {\n    return this.seqlogo.render();\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/header/SeqLogoWrapper.js","var LabelRowView = require(\"./LabelRowView\");\nvar boneView = require(\"backbone-childs\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.draw();\n    this.listenTo(this.g.zoomer, \"change:_alignmentScrollTop\", this._adjustScrollingTop);\n    this.g.vis.once('change:loaded', this._adjustScrollingTop , this);\n\n    this.listenTo(this.g.zoomer,\"change:alignmentHeight\", this._setHeight);\n    this.listenTo(this.model,\"change:reference\", this.draw);\n\n    return this.listenTo(this.model,\"reset add remove\", () => {\n      this.draw();\n      return this.render();\n    });\n  },\n\n  draw: function() {\n    this.removeViews();\n    console.log(\"redraw columns\" , this.model.length);\n    for (var i = 0; i < this.model.length; i++) {\n        if (this.model.at(i).get('hidden')) { continue; }\n        var view = new LabelRowView({model: this.model.at(i), g: this.g});\n        view.ordering = i;\n        this.addView(\"row_\" + i, view)\n    }\n  },\n\n  events:\n    {\"scroll\": \"_sendScrollEvent\"},\n\n  // broadcast the scrolling event (by the scrollbar)\n  _sendScrollEvent: function() {\n    return this.g.zoomer.set(\"_alignmentScrollTop\", this.el.scrollTop, {origin: \"label\"});\n  },\n\n  // sets the scrolling property (from another event e.g. dragging)\n  _adjustScrollingTop() {\n    return this.el.scrollTop =  this.g.zoomer.get(\"_alignmentScrollTop\");\n  },\n\n  render: function() {\n    this.renderSubviews();\n    this.el.className = \"biojs_msa_labelblock\";\n    this.el.style.display = \"inline-block\";\n    this.el.style.verticalAlign = \"top\";\n    this.el.style.overflowY = \"auto\";\n    this.el.style.overflowX = \"hidden\";\n    this.el.style.fontSize = `${this.g.zoomer.get('labelFontsize')}px`;\n    this.el.style.lineHeight = `${this.g.zoomer.get(\"labelLineHeight\")}`;\n    this._setHeight();\n    return this;\n  },\n\n\n  _setHeight: function() {\n    return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\") + \"px\";\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/labels/LabelBlock.js","var boneView = require(\"backbone-childs\");\nvar LabelView = require(\"./LabelView\");\nvar MetaView = require(\"./MetaView\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.draw();\n\n    this.listenTo(this.g.vis,\"change:labels\", this.drawR);\n    this.listenTo(this.g.vis,\"change:metacell\", this.drawR);\n    this.listenTo(this.g.zoomer, \"change:rowHeight\", function() {\n      return this.el.style.height = this.g.zoomer.get(\"rowHeight\") + \"px\";\n    });\n\n    return this.listenTo(this.g.selcol,\"change reset add\", this.setSelection);\n  },\n\n  draw: function() {\n    this.removeViews();\n    if (this.g.vis.get(\"labels\")) {\n      this.addView(\"labels\", new LabelView({model: this.model, g:this.g}));\n    }\n    if (this.g.vis.get(\"metacell\")) {\n      var meta = new MetaView({model: this.model, g:this.g});\n      return this.addView(\"metacell\", meta);\n    }\n  },\n\n  drawR: function() {\n    this.draw();\n    return this.render();\n  },\n\n  render: function() {\n    this.renderSubviews();\n\n    this.el.setAttribute(\"class\", \"biojs_msa_labelrow\");\n    this.el.style.height = this.g.zoomer.get(\"rowHeight\") * (this.model.attributes.height || 1) + \"px\";\n\n    this.setSelection();\n    return this;\n  },\n\n  setSelection: function() {\n    var sel = this.g.selcol.getSelForRow(this.model.id);\n    if (sel.length > 0) {\n      return this.el.style.fontWeight = \"bold\";\n    } else {\n      return this.el.style.fontWeight = \"normal\";\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/labels/LabelRowView.js","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\n\nvar LabelView = view.extend({\n\n  initialize: function(data) {\n    this.seq = data.seq;\n    this.g = data.g;\n\n    return this.manageEvents();\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n    this.listenTo(this.g.vis, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", this.render);\n    this.listenTo( this.g.zoomer, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", this.render\n    );\n    return this.listenTo( this.g.zoomer, \"change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight\", this.render\n    );\n  },\n\n  render: function() {\n    dom.removeAllChilds(this.el);\n\n    this.el.style.width = `${this.g.zoomer.getLabelWidth()}px`;\n    //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n    this.el.setAttribute(\"class\", \"biojs_msa_labels\");\n\n    if (this.g.vis.get(\"labelCheckbox\")) {\n      var checkBox = document.createElement(\"input\");\n      checkBox.setAttribute(\"type\", \"checkbox\");\n      checkBox.value = this.model.get('id');\n      checkBox.name = \"seq\";\n      checkBox.style.width= this.g.zoomer.get(\"labelCheckLength\") + \"px\";\n      this.el.appendChild(checkBox);\n    }\n\n    if (this.g.vis.get(\"labelId\")) {\n      var id = document.createElement(\"span\");\n      var val  = this.model.get(\"id\");\n      if (!isNaN(val)) {\n        val++;\n      }\n      id.textContent = val;\n      id.style.width = this.g.zoomer.get(\"labelIdLength\") + \"px\";\n      id.style.display = \"inline-block\";\n      this.el.appendChild(id);\n    }\n\n    if (this.g.vis.get(\"labelPartition\")) {\n      var part = document.createElement(\"span\");\n      part.style.width= this.g.zoomer.get(\"labelPartLength\") + \"px\";\n      part.textContent = this.model.get(\"partition\");\n      part.style.display = \"inline-block\";\n      this.el.appendChild(id);\n      this.el.appendChild(part);\n    }\n\n    if (this.g.vis.get(\"labelName\")) {\n      var name = document.createElement(\"span\");\n      name.textContent = this.model.get(\"name\");\n      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n        name.style.fontWeight = \"bold\";\n      }\n      name.style.width= this.g.zoomer.get(\"labelNameLength\") + \"px\";\n      this.el.appendChild(name);\n    }\n\n    this.el.style.overflow = scroll;\n    this.el.style.fontSize = `${this.g.zoomer.get('labelFontsize')}px`;\n    return this;\n  },\n\n  _onclick: function(evt) {\n    var seqId = this.model.get(\"id\");\n    return this.g.trigger(\"row:click\", {seqId:seqId, evt:evt});\n  },\n\n  _onmousein: function(evt) {\n    var seqId = this.model.get(\"id\");\n    return this.g.trigger(\"row:mouseout\", {seqId:seqId, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var seqId = this.model.get(\"id\");\n    return this.g.trigger(\"row:mouseout\", {seqId:seqId, evt:evt});\n  }\n});\n\nmodule.exports = LabelView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/labels/LabelView.js","var MetaView;\nvar view = require(\"backbone-viewj\");\nvar MenuBuilder = require(\"../../menu/menubuilder\");\nvar _ = require('underscore');\nvar dom = require(\"dom-helper\");\nvar st = require(\"msa-seqtools\");\n\nmodule.exports = MetaView = view.extend({\n\n  className: \"biojs_msa_metaview\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.vis, \"change:metacell\", this.render);\n    return this.listenTo(this.g.zoomer, \"change:metaWidth\", this.render);\n  },\n\n  events:\n    {click: \"_onclick\",\n    mousein: \"_onmousein\",\n    mouseout: \"_onmouseout\"\n    },\n\n  render: function() {\n    dom.removeAllChilds(this.el);\n\n    this.el.style.display = \"inline-block\";\n\n    var width = this.g.zoomer.getMetaWidth();\n    this.el.style.width = width - 10;\n    this.el.style.paddingRight = 5;\n    this.el.style.paddingLeft = 5;\n    // TODO: why do we need to decrease the font size?\n    // otherwise we see a scrollbar\n    this.el.style.fontSize = `${this.g.zoomer.get('labelFontsize') - 2}px`;\n\n    if (this.g.vis.get(\"metaGaps\")) {\n      // adds gaps\n      var seq = this.model.get('seq');\n      var gaps = _.reduce(seq, (function(memo, c) { return c === '-' ? ++memo : undefined; }),0);\n      // 2-place percentage , e.g. 42%\n      gaps = (gaps * 100 / seq.length).toFixed(0) + \"%\";\n\n      // append gap count\n      var gapSpan = document.createElement('span');\n      gapSpan.textContent = gaps;\n      gapSpan.style.display = \"inline-block\";\n      gapSpan.style.width = 35;\n      this.el.appendChild(gapSpan);\n    }\n\n\n    if (this.g.vis.get(\"metaIdentity\")) {\n      // identity\n      // TODO: there must be a better way to pass the id\n      var ident = this.g.stats.identity()[this.model.id];\n      var identSpan = document.createElement('span');\n\n      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n        identSpan.textContent = \"ref.\";\n      } else if ((typeof ident !== \"undefined\" && ident !== null)) {\n        identSpan.textContent = ident.toFixed(2);\n      }\n\n      identSpan.style.display = \"inline-block\";\n      identSpan.style.width = 40;\n      this.el.appendChild(identSpan);\n    }\n\n    if (this.g.vis.get(\"metaLinks\")) {\n      // TODO: this menu builder is just an example how one could customize this\n      // view\n      if (this.model.attributes.ids) {\n        var links = st.buildLinks(this.model.attributes.ids);\n        if (_.keys(links).length > 0) {\n          var menu = new MenuBuilder({name: \"↗\"});\n          console.log(_.keys(links));\n          _.each(links, function(val, key) {\n            return menu.addNode(key,function(e) {\n              return window.open(val);\n            });\n          });\n\n          var linkEl = menu.buildDOM();\n          linkEl.style.cursor = \"pointer\";\n          return this.el.appendChild(linkEl);\n        }\n      }\n    }\n  },\n\n\n    //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n\n  _onclick: function(evt) {\n    return this.g.trigger(\"meta:click\", {seqId: this.model.get(\"id\", {evt:evt})});\n  },\n\n  _onmousein: function(evt) {\n    return this.g.trigger(\"meta:mousein\", {seqId: this.model.get(\"id\", {evt:evt})});\n  },\n\n  _onmouseout: function(evt) {\n    return this.g.trigger(\"meta:mouseout\", {seqId: this.model.get(\"id\", {evt:evt})});\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/labels/MetaView.js","/**\n * Standalone extraction of Backbone.Events, no external dependency required.\n * Degrades nicely when Backone/underscore are already available in the current\n * global context.\n *\n * Note that docs suggest to use underscore's `_.extend()` method to add Events\n * support to some given object. A `mixin()` method has been added to the Events\n * prototype to avoid using underscore for that sole purpose:\n *\n *     var myEventEmitter = BackboneEvents.mixin({});\n *\n * Or for a function constructor:\n *\n *     function MyConstructor(){}\n *     MyConstructor.prototype.foo = function(){}\n *     BackboneEvents.mixin(MyConstructor.prototype);\n *\n * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * (c) 2013 Nicolas Perriault\n */\n/* global exports:true, define, module */\n(function() {\n  var root = this,\n      nativeForEach = Array.prototype.forEach,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      slice = Array.prototype.slice,\n      idCounter = 0;\n\n  // Returns a partial implementation matching the minimal API subset required\n  // by Backbone.Events\n  function miniscore() {\n    return {\n      keys: Object.keys || function (obj) {\n        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n          throw new TypeError(\"keys() called on a non-object\");\n        }\n        var key, keys = [];\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            keys[keys.length] = key;\n          }\n        }\n        return keys;\n      },\n\n      uniqueId: function(prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n      },\n\n      has: function(obj, key) {\n        return hasOwnProperty.call(obj, key);\n      },\n\n      each: function(obj, iterator, context) {\n        if (obj == null) return;\n        if (nativeForEach && obj.forEach === nativeForEach) {\n          obj.forEach(iterator, context);\n        } else if (obj.length === +obj.length) {\n          for (var i = 0, l = obj.length; i < l; i++) {\n            iterator.call(context, obj[i], i, obj);\n          }\n        } else {\n          for (var key in obj) {\n            if (this.has(obj, key)) {\n              iterator.call(context, obj[key], key, obj);\n            }\n          }\n        }\n      },\n\n      once: function(func) {\n        var ran = false, memo;\n        return function() {\n          if (ran) return memo;\n          ran = true;\n          memo = func.apply(this, arguments);\n          func = null;\n          return memo;\n        };\n      }\n    };\n  }\n\n  var _ = miniscore(), Events;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  Events = {\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = {};\n        return this;\n      }\n\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeners = this._listeners;\n      if (!listeners) return this;\n      var deleteListener = !name && !callback;\n      if (typeof name === 'object') callback = this;\n      if (obj) (listeners = {})[obj._listenerId] = obj;\n      for (var id in listeners) {\n        listeners[id].off(name, callback, this);\n        if (deleteListener) delete this._listeners[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === 'object') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n    }\n  };\n\n  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it's\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeners = this._listeners || (this._listeners = {});\n      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n      listeners[id] = obj;\n      if (typeof name === 'object') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Mixin utility\n  Events.mixin = function(proto) {\n    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n                   'listenToOnce', 'bind', 'unbind'];\n    _.each(exports, function(name) {\n      proto[name] = this[name];\n    }, this);\n    return proto;\n  };\n\n  // Export Events as BackboneEvents depending on current context\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = Events;\n    }\n    exports.BackboneEvents = Events;\n  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n    define(function() {\n      return Events;\n    });\n  } else {\n    root.BackboneEvents = Events;\n  }\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-events-standalone/backbone-events-standalone.js\n// module id = 88\n// module chunks = 0","//     Backbone.js 1.1.2\n\n//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\nvar Events = require(\"backbone-events-standalone\");\nvar extend = require(\"backbone-extend-standalone\");\nvar _ = require(\"underscore\");\nvar Model = require(\"./model\");\n\n// Create local references to array methods we'll want to use later.\nvar array = [];\nvar slice = array.slice;\n\n// Backbone.Collection\n// -------------------\n\n// If models tend to represent a single row of data, a Backbone Collection is\n// more analogous to a table full of data ... or a small slice or page of that\n// table, or a collection of rows that belong together for a particular reason\n// -- all of the messages in this particular folder, all of the documents\n// belonging to this particular author, and so on. Collections maintain\n// indexes of their models, both in order, and for lookup by `id`.\n\n// Create a new **Collection**, perhaps to contain a specific type of `model`.\n// If a `comparator` is specified, the Collection will maintain\n// its models in sort order, as they're added and removed.\nvar Collection = function(models, options) {\n  options || (options = {});\n  if (options.model) this.model = options.model;\n  if (options.comparator !== void 0) this.comparator = options.comparator;\n  this._reset();\n  this.initialize.apply(this, arguments);\n  if (models) this.reset(models, _.extend({silent: true}, options));\n};\n\n// Default options for `Collection#set`.\nvar setOptions = {add: true, remove: true, merge: true};\nvar addOptions = {add: true, remove: false};\n\n// Define the Collection's inheritable methods.\n_.extend(Collection.prototype, Events, {\n\n  // The default model for a collection is just a **Backbone.Model**.\n  // This should be overridden in most cases.\n  model: Model,\n\n  // Initialize is an empty function by default. Override it with your own\n  // initialization logic.\n  initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n  toJSON: function(options) {\n    return this.map(function(model){ return model.toJSON(options); });\n  },\n\n    // Proxy `Backbone.sync` by default.\n  sync: function() {\n    return Backbone.sync.apply(this, arguments);\n  },\n\n    // Add a model, or list of models to the set.\n  add: function(models, options) {\n    return this.set(models, _.extend({merge: false}, options, addOptions));\n  },\n\n    // Remove a model, or a list of models from the set.\n  remove: function(models, options) {\n    var singular = !_.isArray(models);\n    models = singular ? [models] : _.clone(models);\n    options || (options = {});\n    for (var i = 0, length = models.length; i < length; i++) {\n      var model = models[i] = this.get(models[i]);\n      if (!model) continue;\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      delete this._byId[model.cid];\n      var index = this.indexOf(model);\n      this.models.splice(index, 1);\n      this.length--;\n      if (!options.silent) {\n        options.index = index;\n        model.trigger('remove', model, this, options);\n      }\n      this._removeReference(model, options);\n    }\n    return singular ? models[0] : models;\n  },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n  set: function(models, options) {\n    options = _.defaults({}, options, setOptions);\n    if (options.parse) models = this.parse(models, options);\n    var singular = !_.isArray(models);\n    models = singular ? (models ? [models] : []) : models.slice();\n    var id, model, attrs, existing, sort;\n    var at = options.at;\n    var sortable = this.comparator && (at == null) && options.sort !== false;\n    var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n    var toAdd = [], toRemove = [], modelMap = {};\n    var add = options.add, merge = options.merge, remove = options.remove;\n    var order = !sortable && add && remove ? [] : false;\n\n    // Turn bare objects into model references, and prevent invalid models\n    // from being added.\n    for (var i = 0, length = models.length; i < length; i++) {\n      attrs = models[i];\n\n      // If a duplicate is found, prevent it from being added and\n      // optionally merge it into the existing model.\n      if (existing = this.get(attrs)) {\n        if (remove) modelMap[existing.cid] = true;\n        if (merge && attrs !== existing) {\n          attrs = this._isModel(attrs) ? attrs.attributes : attrs;\n          if (options.parse) attrs = existing.parse(attrs, options);\n          existing.set(attrs, options);\n          if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;\n        }\n        models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n      } else if (add) {\n        model = models[i] = this._prepareModel(attrs, options);\n        if (!model) continue;\n        toAdd.push(model);\n        this._addReference(model, options);\n      }\n\n      // Do not add multiple models with the same `id`.\n      model = existing || model;\n      if (!model) continue;\n      id = this.modelId(model.attributes);\n      if (order && (model.isNew() || !modelMap[id])) order.push(model);\n      modelMap[id] = true;\n    }\n\n    // Remove nonexistent models if appropriate.\n    if (remove) {\n      for (var i = 0, length = this.length; i < length; i++) {\n        if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);\n      }\n      if (toRemove.length) this.remove(toRemove, options);\n    }\n\n    // See if sorting is needed, update `length` and splice in new models.\n    if (toAdd.length || (order && order.length)) {\n      if (sortable) sort = true;\n      this.length += toAdd.length;\n      if (at != null) {\n        for (var i = 0, length = toAdd.length; i < length; i++) {\n          this.models.splice(at + i, 0, toAdd[i]);\n        }\n      } else {\n        if (order) this.models.length = 0;\n        var orderedModels = order || toAdd;\n        for (var i = 0, length = orderedModels.length; i < length; i++) {\n          this.models.push(orderedModels[i]);\n        }\n      }\n    }\n\n    // Silently sort the collection if appropriate.\n    if (sort) this.sort({silent: true});\n\n    // Unless silenced, it's time to fire all appropriate add/sort events.\n    if (!options.silent) {\n      var addOpts = at != null ? _.clone(options) : options;\n      for (var i = 0, length = toAdd.length; i < length; i++) {\n        if (at != null) addOpts.index = at + i;\n        (model = toAdd[i]).trigger('add', model, this, addOpts);\n      }\n      if (sort || (order && order.length)) this.trigger('sort', this, options);\n    }\n\n    // Return the added (or merged) model (or models).\n    return singular ? models[0] : models;\n  },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n  reset: function(models, options) {\n    options || (options = {});\n    for (var i = 0, length = this.models.length; i < length; i++) {\n      this._removeReference(this.models[i], options);\n    }\n    options.previousModels = this.models;\n    this._reset();\n    models = this.add(models, _.extend({silent: true}, options));\n    if (!options.silent) this.trigger('reset', this, options);\n    return models;\n  },\n\n    // Add a model to the end of the collection.\n  push: function(model, options) {\n    return this.add(model, _.extend({at: this.length}, options));\n  },\n\n    // Remove a model from the end of the collection.\n  pop: function(options) {\n    var model = this.at(this.length - 1);\n    this.remove(model, options);\n    return model;\n  },\n\n    // Add a model to the beginning of the collection.\n  unshift: function(model, options) {\n    return this.add(model, _.extend({at: 0}, options));\n  },\n\n    // Remove a model from the beginning of the collection.\n  shift: function(options) {\n    var model = this.at(0);\n    this.remove(model, options);\n    return model;\n  },\n\n    // Slice out a sub-array of models from the collection.\n  slice: function() {\n    return slice.apply(this.models, arguments);\n  },\n\n    // Get a model from the set by id.\n  get: function(obj) {\n    if (obj == null) return void 0;\n    var id = this.modelId(this._isModel(obj) ? obj.attributes : obj);\n    return this._byId[obj] || this._byId[id] || this._byId[obj.cid];\n  },\n\n    // Get the model at the given index.\n  at: function(index) {\n    if (index < 0) index += this.length;\n    return this.models[index];\n  },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n  where: function(attrs, first) {\n    if (_.isEmpty(attrs)) return first ? void 0 : [];\n    return this[first ? 'find' : 'filter'](function(model) {\n      for (var key in attrs) {\n        if (attrs[key] !== model.get(key)) return false;\n      }\n      return true;\n    });\n  },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n  findWhere: function(attrs) {\n    return this.where(attrs, true);\n  },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n  sort: function(options) {\n    if (!this.comparator) throw new Error('Cannot sort a set without a comparator');\n    options || (options = {});\n\n    // Run sort based on type of `comparator`.\n    if (_.isString(this.comparator) || this.comparator.length === 1) {\n      this.models = this.sortBy(this.comparator, this);\n    } else {\n      this.models.sort(_.bind(this.comparator, this));\n    }\n\n    if (!options.silent) this.trigger('sort', this, options);\n    return this;\n  },\n\n    // Pluck an attribute from each model in the collection.\n  pluck: function(attr) {\n    return _.invoke(this.models, 'get', attr);\n  },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n  fetch: function(options) {\n    options = options ? _.clone(options) : {};\n    if (options.parse === void 0) options.parse = true;\n    var success = options.success;\n    var collection = this;\n    options.success = function(resp) {\n      var method = options.reset ? 'reset' : 'set';\n      collection[method](resp, options);\n      if (success) success(collection, resp, options);\n      collection.trigger('sync', collection, resp, options);\n    };\n    wrapError(this, options);\n    return this.sync('read', this, options);\n  },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n  create: function(model, options) {\n    options = options ? _.clone(options) : {};\n    if (!(model = this._prepareModel(model, options))) return false;\n    if (!options.wait) this.add(model, options);\n    var collection = this;\n    var success = options.success;\n    options.success = function(model, resp) {\n      if (options.wait) collection.add(model, options);\n      if (success) success(model, resp, options);\n    };\n    model.save(null, options);\n    return model;\n  },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n  parse: function(resp, options) {\n    return resp;\n  },\n\n    // Create a new collection with an identical list of models as this one.\n  clone: function() {\n    return new this.constructor(this.models, {\n      model: this.model,\n      comparator: this.comparator\n    });\n  },\n\n    // Define how to uniquely identify models in the collection.\n  modelId: function (attrs) {\n    return attrs[this.model.prototype.idAttribute || 'id'];\n  },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n  _reset: function() {\n    this.length = 0;\n    this.models = [];\n    this._byId  = {};\n  },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n  _prepareModel: function(attrs, options) {\n    if (this._isModel(attrs)) {\n      if (!attrs.collection) attrs.collection = this;\n      return attrs;\n    }\n    options = options ? _.clone(options) : {};\n    options.collection = this;\n    var model = new this.model(attrs, options);\n    if (!model.validationError) return model;\n    this.trigger('invalid', this, model.validationError, options);\n    return false;\n  },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n  _isModel: function (model) {\n    return model instanceof Model;\n  },\n\n    // Internal method to create a model's ties to a collection.\n  _addReference: function(model, options) {\n    this._byId[model.cid] = model;\n    var id = this.modelId(model.attributes);\n    if (id != null) this._byId[id] = model;\n    model.on('all', this._onModelEvent, this);\n  },\n\n    // Internal method to sever a model's ties to a collection.\n  _removeReference: function(model, options) {\n    if (this === model.collection) delete model.collection;\n    model.off('all', this._onModelEvent, this);\n  },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n  _onModelEvent: function(event, model, collection, options) {\n    if ((event === 'add' || event === 'remove') && collection !== this) return;\n    if (event === 'destroy') this.remove(model, options);\n    if (event === 'change') {\n      var prevId = this.modelId(model.previousAttributes());\n      var id = this.modelId(model.attributes);\n      if (prevId !== id) {\n        if (prevId != null) delete this._byId[prevId];\n        if (id != null) this._byId[id] = model;\n      }\n    }\n    this.trigger.apply(this, arguments);\n  }\n\n});\n\n// Underscore methods that we want to implement on the Collection.\n// 90% of the core usefulness of Backbone Collections is actually implemented\n// right here:\nvar methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',\n    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',\n    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',\n    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',\n    'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',\n    'lastIndexOf', 'isEmpty', 'chain', 'sample', 'partition'];\n\n// Mix in each Underscore method as a proxy to `Collection#models`.\n_.each(methods, function(method) {\n  if (!_[method]) return;\n  Collection.prototype[method] = function() {\n    var args = slice.call(arguments);\n    args.unshift(this.models);\n    return _[method].apply(_, args);\n  };\n});\n\n// Underscore methods that take a property name as an argument.\nvar attributeMethods = ['groupBy', 'countBy', 'sortBy', 'indexBy'];\n\n// Use attributes instead of properties.\n_.each(attributeMethods, function(method) {\n  if (!_[method]) return;\n  Collection.prototype[method] = function(value, context) {\n    var iterator = _.isFunction(value) ? value : function(model) {\n      return model.get(value);\n    };\n    return _[method](this.models, iterator, context);\n  };\n});\n\n// setup inheritance\nCollection.extend = extend;\nmodule.exports = Collection;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/backbone-thin/collection.js\n// module id = 89\n// module chunks = 0","// Generated by CoffeeScript 1.9.0\nmodule.exports = function(out) {\n  var i, key, _i, _j, _len, _ref, _ref1;\n  out = out || {};\n  for (i = _i = 0, _ref = arguments.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n    if (!arguments[i]) {\n      continue;\n    }\n    _ref1 = arguments[i];\n    for (_j = 0, _len = _ref1.length; _j < _len; _j++) {\n      key = _ref1[_j];\n      if (arguments[i].hasOwnProperty(key)) {\n        out[key] = arguments[i][key];\n      }\n    }\n  }\n  return out;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-fasta/lib/extend.js\n// module id = 90\n// module chunks = 0","// Generated by CoffeeScript 1.9.0\nvar Fasta, extend, st;\n\nst = require(\"msa-seqtools\");\n\nextend = require(\"./extend\");\n\nmodule.exports = Fasta = {\n  getMeta: st.getMeta,\n  extend: function(metaParser) {\n    var customFasta;\n    customFasta = extend(Fasta);\n    Fasta.getMeta = metaParser;\n    return customFasta;\n  },\n  parse: function(text) {\n    var currentSeq, getMeta, id, label, line, obj, seqs, _i, _len;\n    seqs = [];\n    if (!text || text.length === 0) {\n      return [];\n    }\n    if (Object.prototype.toString.call(text) !== '[object Array]') {\n      text = text.split(\"\\n\");\n    }\n    getMeta = Fasta.getMeta;\n    for (_i = 0, _len = text.length; _i < _len; _i++) {\n      line = text[_i];\n      if (line[0] === \">\" || line[0] === \";\") {\n        label = line.slice(1);\n        obj = getMeta(label);\n        label = obj.name;\n        id = obj.id || seqs.length;\n        currentSeq = new st.model(\"\", obj.name, id);\n        currentSeq.ids = obj.ids || {};\n        currentSeq.details = obj.details || {};\n        seqs.push(currentSeq);\n      } else {\n        currentSeq.seq += line;\n      }\n    }\n    return seqs;\n  },\n  write: function(seqs, access) {\n    var seq, text, _i, _len;\n    text = \"\";\n    for (_i = 0, _len = seqs.length; _i < _len; _i++) {\n      seq = seqs[_i];\n      if (access != null) {\n        seq = access(seq);\n      }\n      text += \">\" + seq.name + \"\\n\";\n      text += (st.splitNChars(seq.seq, 80)).join(\"\\n\");\n      text += \"\\n\";\n    }\n    return text;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-fasta/lib/fasta.js\n// module id = 91\n// module chunks = 0","var jalview = {};\nmodule.exports = jalview;\nvar utils = require(\"./utils\");\n\n// http://www.jalview.org/help/html/features/featuresFormat.html\njalview.readHeader = function(lines) {\n  var colors = {};\n  var i = 0;\n  var features = [];\n  var currentGroup;\n\n  for (; i < lines.length; i++) {\n    var line = lines[i];\n    if (line.indexOf(\"#\") >= 0) {\n      // no comments allowed -> stop\n      break;\n    }\n    var columns = line.split(/\\t/);\n    var firstCell = columns[0].trim();\n    if (firstCell === \"GFF\") {\n      // this symbolizes the end \n      break;\n    } else if (columns.length === 2) {\n      if (firstCell === \"startgroup\") {\n        currentGroup = columns[1].trim();\n      } else if (firstCell === \"endgroup\") {\n        currentGroup = \"\";\n        continue;\n      } else {\n        // parse color\n        colors[columns[0]] = jalview.parseColor(columns[1]);\n      }\n    } else if(columns.length >= 5){\n      var arr = jalview.parseLine(columns);\n      if (currentGroup) {\n        arr.attributes.Parent = currentGroup;\n      }\n      features.push(arr);\n    }\n  }\n\n  return {\n    offset: i,\n    colors: colors,\n    features: features\n  };\n};\n\njalview.parseColor = function(cell) {\n  if (cell.indexOf(\",\") >= 0) {\n    // rgb code\n    return utils.rgbToHex(cell.split(\",\").map(function(el) {\n      return parseInt(el);\n    }));\n  }\n  // color names with length == 6\n  // 'bisque,maroon,orange,orchid,purple,salmon,sienna,tomato,violet,yellow'\n  if (cell.length === 6 && parseInt(cell.charAt(0), 16) <= 16 && cell !== 'bisque') {\n    // hex code\n    return \"#\" + cell;\n  }\n  // color name\n  return cell;\n};\n\n\njalview.parseLine = function(columns) {\n  var obj = {\n    attributes: {}\n  };\n  obj.attributes.Name = columns[0].trim(); //desc\n  obj.seqname = columns[1].trim(); // id\n  obj.start = parseInt(columns[3]);\n  obj.end = parseInt(columns[4]);\n  obj.feature = columns[5].trim();\n  if (obj.seqname === \"ID_NOT_SPECIFIED\") {\n    obj.seqname = columns[2].trim(); // alternative id\n  }\n  return obj;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-gff/lib/jalview.js\n// module id = 92\n// module chunks = 0","\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-io-parser/~/xhr/index.js\n// module id = 93\n// module chunks = 0","module.exports.seq = require(\"./seq\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-model/src/index.js\n// module id = 94\n// module chunks = 0","module.exports = function(seq, name, id) {\n    this.seq = seq;\n    this.name = name;\n    this.id = id;\n    this.meta = {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-model/src/seq.js\n// module id = 95\n// module chunks = 0","// this is a light-weight build without the scrolling module\nmodule.exports = require(\"./src/index.js\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/light.js\n// module id = 96\n// module chunks = 0","module.exports = {\n    render_x_axis_label: function () {\n      var label = \"Model Position\";\n      if (this.display_ali_map) {\n        label = \"Alignment Column\";\n      }\n      this.called_on.find('.logo_xaxis').remove();\n      this.called_on.prepend('<div class=\"logo_xaxis\" class=\"centered\" style=\"margin-left:40px\"><p class=\"xaxis_text\" style=\"width:10em;margin:1em auto\">' + label + '</p></div>');\n\n    },\n    render_y_axis_label: function () {\n      //attach a canvas for the y-axis\n      this.dom_element.parent().before('<canvas class=\"logo_yaxis\" height=\"'+this.options.height+'\" width=\"55\"></canvas>');\n      var canvas = this.called_on.find('.logo_yaxis'),\n      top_pix_height = 0,\n      bottom_pix_height = 0,\n      top_height = Math.abs(this.data.max_height),\n      bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n      context = null,\n      axis_label = \"Information Content (bits)\";\n\n      context = canvas[0].getContext('2d');\n      //draw min/max tick marks\n      context.beginPath();\n      context.moveTo(55, 1);\n      context.lineTo(40, 1);\n\n      context.moveTo(55, this.info_content_height);\n      context.lineTo(40, this.info_content_height);\n\n\n      context.moveTo(55, (this.info_content_height / 2));\n      context.lineTo(40, (this.info_content_height / 2));\n      context.lineWidth = 1;\n      context.strokeStyle = \"#666666\";\n      context.stroke();\n\n      //draw the label text\n      context.fillStyle = \"#666666\";\n      context.textAlign = \"right\";\n      context.font = \"bold 10px Arial\";\n\n      // draw the max label\n      context.textBaseline = \"top\";\n      context.fillText(parseFloat(this.data.max_height).toFixed(1), 38, 0);\n      context.textBaseline = \"middle\";\n\n      // draw the midpoint labels\n      context.fillText(parseFloat(this.data.max_height / 2).toFixed(1), 38, (this.info_content_height / 2));\n      // draw the min label\n      context.fillText('0', 38, this.info_content_height);\n\n      // draw the axis label\n      if (this.data.height_calc === 'score') {\n        axis_label = \"Score (bits)\";\n      }\n\n      context.save();\n      context.translate(5, this.height / 2 - 20);\n      context.rotate(-Math.PI / 2);\n      context.textAlign = \"center\";\n      context.font = \"normal 12px Arial\";\n      context.fillText(axis_label, 1, 0);\n      context.restore();\n\n      // draw the insert row labels\n      context.fillText('occupancy', 55, this.info_content_height + 7);\n      if (this.show_inserts) {\n        context.fillText('ins. prob.', 50, 280);\n        context.fillText('ins. len.', 46, 296);\n      }\n    }\n}; \n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/axis.js\n// module id = 97\n// module chunks = 0","var canv_support = null;\n\nmodule.exports = function canvasSupport() {\n  if (!canv_support) {\n    var elem = document.createElement('canvas');\n    canv_support = !!(elem.getContext && elem.getContext('2d'));\n  }\n  return canv_support;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/canvasSupport.js\n// module id = 98\n// module chunks = 0","module.exports = {\n  'A': '#FF9966',\n  'C': '#009999',\n  'D': '#FF0000',\n  'E': '#CC0033',\n  'F': '#00FF00',\n  'G': '#f2f20c',\n  'H': '#660033',\n  'I': '#CC9933',\n  'K': '#663300',\n  'L': '#FF9933',\n  'M': '#CC99CC',\n  'N': '#336666',\n  'P': '#0099FF',\n  'Q': '#6666CC',\n  'R': '#990000',\n  'S': '#0000FF',\n  'T': '#00FFFF',\n  'V': '#FFCC33',\n  'W': '#66CC66',\n  'Y': '#006600'\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/colors/aa.js\n// module id = 99\n// module chunks = 0","module.exports = {\n    'A': '#cbf751',\n    'C': '#5ec0cc',\n    'G': '#ffdf59',\n    'T': '#b51f16',\n    'U': '#b51f16'\n  };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/colors/dna.js\n// module id = 100\n// module chunks = 0","var $ = require(\"jbone\");\n\nmodule.exports = function($el,logo, logo_graphic){\n\n  $el.find('.logo_settings_switch, .logo_settings .close').on('click', function (e) {\n    e.preventDefault();\n    $('.logo_settings').toggle();\n  });\n\n  $el.find('.logo_reset').on('click', function (e) {\n    e.preventDefault();\n    logo.changeZoom({'target': logo.default_zoom});\n  });\n\n  $el.find('.logo_change').on('click', function (e) {\n    e.preventDefault();\n  });\n\n  $el.find('.logo_zoomin').on('click', function (e) {\n    e.preventDefault();\n    logo.changeZoom({'distance': 0.1, 'direction': '+'});\n  });\n\n  $el.find('.logo_zoomout').on('click', function (e) {\n    e.preventDefault();\n    logo.changeZoom({'distance': 0.1, 'direction': '-'});\n  });\n\n  $el.find('.logo_scale').on('change', function (e) {\n    logo.toggleScale(this.value);\n  });\n\n  $el.find('.logo_color').on('change', function (e) {\n    logo.toggleColorscheme(this.value);\n  });\n\n  $el.find('.logo_ali_map').on('change', function (e) {\n    logo.toggleAliMap(this.value);\n  });\n\n  $el.find('.logo_position').on('change', function () {\n    if (!this.value.match(/^\\d+$/m)) {\n      return;\n    }\n    logo.scrollToColumn(this.value, 1);\n  });\n\n  logo_graphic.on('dblclick', function (e) {\n    // need to get coordinates of mouse click\n    console.log(\"dblclick\", logo);\n\n    offset = logo.logo_graphic.offset(),\n    x = parseInt((e.pageX - offset.left), 10),\n\n    // get mouse position in the window\n    window_position = e.pageX - $el.parent().offset().left,\n\n    // get column number\n    col = logo.columnFromCoordinates(x),\n\n    console.log(\"col\", col);\n\n    // choose new zoom level and zoom in.\n    current = logo.zoom;\n\n    if (current < 1) {\n      logo.changeZoom({'target': 1, offset: window_position, column: col});\n    } else {\n      logo.changeZoom({'target': 0.3, offset: window_position, column: col});\n    }\n\n    return;\n  });\n\n  $(document).on($el.attr('id') + \".scrolledTo\", function (e, left, top, zoom) {\n    logo.render({target: left});\n  });\n\n  $(document).on('keydown', function (e) {\n    if (!e.ctrlKey) {\n      if (e.which === 61 || e.which === 107) {\n        zoom += 0.1;\n        logo.changeZoom({'distance': 0.1, 'direction': '+'});\n      }\n      if (e.which === 109 || e.which === 0) {\n        zoom = zoom - 0.1;\n        logo.changeZoom({'distance': 0.1, 'direction': '-'});\n      }\n    }\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/eventListener.js\n// module id = 101\n// module chunks = 0","_ = require(\"underscore\");\n\n//var ConsensusColors = require(\"./consensusColors.js\");\nvar canvasSupport = require(\"./canvasSupport.js\");\nvar render = require(\"./render/render.js\");\nvar Letter = require(\"./model/letter.js\");\nvar view = require(\"backbone-viewj\");\nvar axis = require(\"./axis\");\nvar eventListener = require(\"./eventListener.js\");\nvar settings = require(\"./info/settings.js\");\n\nvar jbone = require(\"jbone\");\n\nmodule.exports = view.extend({\n\n  options: {\n    xaxis: true,\n    yaxis: true,\n    height: 300,\n    column_width: 34,\n    debug: true,\n    scale_height_enabled: true,\n    scaled_max: true,\n    zoom_buttons: true,\n    colorscheme: 'default',\n    data: undefined,\n    start: 1,\n    end: undefined,\n    zoom: 0.4,\n    colors: undefined,\n    divider: false,\n    show_probs: false,\n    divider_step: 5,\n    show_divider: false,\n    border: false,\n    settings: false,\n    scroller: true,\n    positionMarker: true\n  },\n\n  loadDefault: function(options){\n    this.data = options.data;\n\n    // never show the alignment coordinates by default as that would get\n    // really confusing.\n    this.display_ali_map = 0;\n\n    this.alphabet = options.data.alphabet || 'dna';\n\n    this.start = options.start;\n    //this.end = options.end || this.data.heightArr.length;\n    this.zoom = parseFloat(options.zoom) || 0.4;\n    this.default_zoom = this.zoom;\n\n    this.column_width = options.column_width;\n    this.height = options.height;\n    this.canvas_width = 5000;\n    this.scale_height_enabled = options.scale_height_enabled;\n\n    // this needs to be set to null here so that we can initialise it after\n    // the render function has fired and the width determined.\n    this.scrollme = null;\n\n    this.previous_target = 0;\n    // keeps track of which canvas elements have been drawn and which ones haven't.\n    this.rendered = [];\n    this.previous_zoom = 0;\n\n    if(this.data.max_height == undefined){\n      this.data.max_height = this.calcMaxHeight(this.data.heightArr); \n    }\n\n    // only show insert when we actually have the data\n    if(!this.data.insert_probs || !this.data.delete_probs){\n      this.options.show_probs = false;\n    }\n\n    if (options.scaled_max) {\n      this.data.max_height = options.data.max_height_obs || this.data.max_height || 2;\n    } else {\n      this.data.max_height = options.data.max_height_theory || this.data.max_height || 2;\n    }\n\n    if(options.colors){\n      this.changeColors(options.colors);\n    }else{\n      if (this.alphabet === 'aa') {\n        this.aa_colors = require(\"./colors/aa.js\");\n        this.changeColors(this.aa_colors);\n      }else{\n        this.dna_colors = require(\"./colors/dna.js\");\n        this.changeColors(this.dna_colors);\n      }\n    }\n  },\n  initialize: function(options) {\n    if (!canvasSupport()) {\n      this.el.textContent = \"Your browser doesn't support canvas.\";\n      return;\n    }\n    if(options.data == undefined){\n      this.el.textContent = \"No data added.\";\n    }\n\n    // load default settings\n    _.extend(this.options,options);\n    var opt = this.options;\n    this.loadDefault(opt);\n\n    if(!this.options.show_probs){\n      this.info_content_height = this.height;\n    }else{\n      // turn off the insert rows if the hmm used the observed or weighted processing flags.\n      if (this.data.processing && /^observed|weighted/.test(this.data.processing)) {\n        this.show_inserts = 0;\n        this.info_content_height = this.height - 14;\n      } else {\n        this.show_inserts = 1;\n        this.info_content_height = this.height - 44;\n      }\n    }\n    this.$el = jbone(this.el);\n\n    this.initDivs();\n\n    if(this.options.settings){\n      var form = settings(this,opt);\n      this.$el.append(form);\n    }\n\n    eventListener(this.$el,this, this.logo_graphic);\n    /*\n       if (opt.columnInfo) {\n       var columnInfo = require(\"./info/column_info.js\");\n       columnInfo(this);\n       }\n       */\n\n  },\n  initDivs: function(){\n    var logo_graphic = mk(\"div\");\n    logo_graphic.className = \"logo_graphic\";\n    this.logo_graphic = jbone(logo_graphic);\n\n    var container = mk(\"div\");\n    container.className = \"logo_container\";\n    container.style.height = this.height;\n    this.container = jbone(container);\n\n    this.container.append(logo_graphic);\n\n    // add some internal divs for scrolling etc.\n    this.$el.append(container);\n\n    if(this.options.divider){\n      var divider = mk(\"div\");\n      divider.className = \"logo_divider\";\n      this.$el.append(divider);\n    }\n\n    this.dom_element = jbone(logo_graphic);\n    this.called_on = this.$el;\n\n    if(this.options.xaxis){\n      axis.render_x_axis_label.call(this);\n    }\n    if(this.options.yaxis){\n      axis.render_y_axis_label.call(this);\n    }else{\n      this.container[0].style.marginLeft = \"0px\";\n    }\n\n  },\n\n  render: function(){\n    render.call(this); \n    return this;\n  },\n\n  changeColors: function(colors){\n    this.colors = colors;\n    var bUseColorObject = (colors != undefined && colors.type != undefined);\n    if(bUseColorObject){\n      this.colorscheme = \"dynamic\";\n    }\n    this.buildAlphabet();\n  },\n\n  buildAlphabet: function(){\n    /*\n       if (this.alphabet === 'aa') {\n       var probs_arr = this.data.probs_arr;\n       if (probs_arr) {\n       var cc = new ConsensusColors();\n       this.cmap = cc.color_map(probs_arr);\n       }\n       }\n       */\n\n    //build the letter canvases\n    this.letters = {};\n    var colors = this.colors;\n    if(this.colorscheme == \"dynamic\"){\n      var tColors = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\n      colors = {};\n      tColors.forEach(function(e){\n        colors[e] = \"\";\n      });\n    }\n    for (var letter in colors) {\n      if (colors.hasOwnProperty(letter)) {\n        var loptions = {color: colors[letter]};\n        this.letters[letter] = new Letter(letter, loptions);\n      }\n    }\n  },\n\n  toggleColorscheme: function (scheme) {\n    // work out the current column we are on so we can return there\n    var col_total = this.currentColumn();\n\n    if (scheme) {\n      if (scheme === 'default') {\n        this.colorscheme = 'default';\n      } else {\n        this.colorscheme = 'consensus';\n      }\n    } else {\n      if (this.colorscheme === 'default') {\n        this.colorscheme = 'consensus';\n      } else {\n        this.colorscheme = 'default';\n      }\n    }\n\n    // reset the rendered counter so that each section will re-render\n    // with the new heights\n    this.rendered = [];\n\n    // re-flow and re-render the content\n    this.scrollme.reflow();\n    //scroll off by one to force a render of the canvas.\n    this.scrollToColumn(col_total + 1);\n    //scroll back to the location we started at.\n    this.scrollToColumn(col_total);\n  },\n\n  toggleScale: function (scale) {\n    // work out the current column we are on so we can return there\n    var col_total = this.currentColumn();\n\n    if (scale) {\n      if (scale === 'obs') {\n        this.data.max_height = this.data.max_height_obs;\n      } else {\n        this.data.max_height = this.data.max_height_theory;\n      }\n    } else {\n      // toggle the max height\n      if (this.data.max_height === this.data.max_height_obs) {\n        this.data.max_height = this.data.max_height_theory;\n      } else {\n        this.data.max_height = this.data.max_height_obs;\n      }\n    }\n    // reset the rendered counter so that each section will re-render\n    // with the new heights\n    this.rendered = [];\n    //update the y-axis\n    if(this.logoYAxis){\n      this.logoYAxis.remove();\n      //this.called_on.find('.logo_yaxis').remove();\n    }\n    axis.render_y_axis_label.call(this);\n\n    // re-flow and re-render the content\n    this.scrollme.reflow();\n    //scroll off by one to force a render of the canvas.\n    this.scrollToColumn(col_total + 1);\n    //scroll back to the location we started at.\n    this.scrollToColumn(col_total);\n  },\n  toggleAliMap: function (coords) {\n    // work out the current column we are on so we can return there\n    var col_total = this.currentColumn();\n\n    if (coords) {\n      if (coords === 'model') {\n        this.display_ali_map = 0;\n      } else {\n        this.display_ali_map = 1;\n      }\n    } else {\n      // toggle the max height\n      if (this.display_ali_map === 1) {\n        this.display_ali_map = 0;\n      } else {\n        this.display_ali_map = 1;\n      }\n    }\n    axis.render_x_axis_label(this);\n\n    // reset the rendered counter so that each section will re-render\n    // with the new heights\n    this.rendered = [];\n\n    // re-flow and re-render the content\n    this.scrollme.reflow();\n    //scroll off by one to force a render of the canvas.\n    this.scrollToColumn(col_total + 1);\n    //scroll back to the location we started at.\n    this.scrollToColumn(col_total);\n  },\n\n  currentColumn: function () {\n    var before_left = this.scrollme.scroller.getValues().left,\n    col_width = (this.column_width * this.zoom),\n    col_count = before_left / col_width,\n    half_visible_columns = (this.container.width() / col_width) / 2,\n    col_total = Math.ceil(col_count + half_visible_columns);\n    return col_total;\n  },\n\n  changeZoom: function (options) {\n    var zoom_level = 0.3,\n    expected_width = null;\n    if (options.target) {\n      zoom_level = options.target;\n    } else if (options.distance) {\n      zoom_level = (parseFloat(this.zoom) - parseFloat(options.distance)).toFixed(1);\n      if (options.direction === '+') {\n        zoom_level = (parseFloat(this.zoom) + parseFloat(options.distance)).toFixed(1);\n      }\n    }\n\n    if (zoom_level > 1) {\n      zoom_level = 1;\n    } else if (zoom_level < 0.1) {\n      zoom_level = 0.1;\n    }\n\n    // see if we need to zoom or not\n    expected_width = (this.logo_graphic.width() * zoom_level) / this.zoom;\n    if (expected_width > this.container.width()) {\n      // if a center is not specified, then use the current center of the view\n      if (!options.column) {\n        //work out my current position\n        var col_total = this.currentColumn();\n\n        this.zoom = zoom_level;\n        this.render({zoom: this.zoom});\n        this.scrollme.reflow();\n\n        //scroll to previous position\n        this.scrollToColumn(col_total);\n      } else { // center around the mouse click position.\n        this.zoom = zoom_level;\n        this.render({zoom: this.zoom});\n        this.scrollme.reflow();\n\n        var coords = this.coordinatesFromColumn(options.column);\n        this.scrollme.scroller.scrollTo(coords - options.offset);\n      }\n    }\n    return this.zoom;\n\n  },\n\n  columnFromCoordinates: function (x) {\n    var column = Math.ceil(x / (this.column_width * this.zoom));\n    return column;\n  },\n\n  coordinatesFromColumn: function (col) {\n    var new_column = col - 1,\n    x = (new_column  * (this.column_width * this.zoom)) + ((this.column_width * this.zoom) / 2);\n    return x;\n  },\n\n  scrollToColumn: function (num, animate) {\n    var half_view = (this.logo_container.width() / 2),\n    new_left = this.coordinatesFromColumn(num);\n    this.scrollme.scroller.scrollTo(new_left - half_view, 0, animate);\n  },\n  calcMaxHeight: function(columns){\n    // loops over all columns and return the max height seen \n    return columns.reduce(function(m,c){\n      var col = 0;\n      for(var k in c){\n        col += c[k];\n      }\n      return col > m ? col : m;\n    },0);\n  }\n\n\n});\n\nvar mk = function(name){\n  return document.createElement(name);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/index.js\n// module id = 102\n// module chunks = 0","var $ = require(\"jbone\");\n\nmodule.exports = function(logo,options){\n  var form = $('<form class=\"logo_form\"><fieldset><label for=\"position\">Column number</label>' +\n               '<input type=\"text\" name=\"position\" class=\"logo_position\"></input>' +\n               '<button class=\"button logo_change\">Go</button></fieldset>' +\n               '</form>');\n\n  var settings = $('<div class=\"logo_settings\"></div>');\n  settings.append('<span class=\"close\">x</span>');\n\n\n\n  /* we don't want to toggle if the max height_obs is greater than max theoretical\n   * as letters will fall off the top.\n   */\n  if (logo.scale_height_enabled && (logo.data.max_height_obs < logo.data.max_height_theory)) {\n    var obs_checked = '',\n    theory_checked = '',\n    theory_help = '',\n    obs_help = '';\n\n    if (logo.data.max_height_obs === logo.data.max_height) {\n      obs_checked = 'checked';\n    } else {\n      theory_checked = 'checked';\n    }\n  }\n\n\n\n  var scale_controls = '<fieldset><legend>Scale</legend>' +\n    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"obs\" ' + obs_checked +\n    '/>Maximum Observed ' + obs_help +\n    '</label></br>' +\n    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"theory\" ' + theory_checked +\n    '/>Maximum Theoretical ' + theory_help +\n    '</label>' +\n    '</fieldset>';\n\n  settings.append(scale_controls);\n\n  if (logo.data.height_calc !== 'score' && logo.data.alphabet === 'aa' && logo.data.probs_arr) {\n\n    var def_color = null,\n    con_color = null,\n    def_help = '',\n    con_help = '';\n\n    if (logo.colorscheme === 'default') {\n      def_color = 'checked';\n    } else {\n      con_color = 'checked';\n    };\n\n    if (options.help) {\n      def_help = '<a class=\"help\" href=\"/help#colors_default\" title=\"Each letter receives its own color.\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n      con_help = '<a class=\"help\" href=\"/help#colors_consensus\" title=\"Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column.\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n    }\n\n    var color_controls = '<fieldset><legend>Color Scheme</legend>' +\n      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"default\" ' + def_color +\n      '/>Default ' + def_help +\n      '</label></br>' +\n      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"consensus\" ' + con_color +\n      '/>Consensus Colors ' + con_help +\n      '</label>' +\n      '</fieldset>';\n    settings.append(color_controls);\n  }\n\n\n  if (logo.data.ali_map) {\n    var mod_checked = null,\n    ali_checked = null,\n    mod_help = '',\n    ali_help = '';\n\n    if (logo.display_ali_map === 0) {\n      mod_checked = 'checked';\n    } else {\n      ali_checked = 'checked';\n    }\n\n    if (options.help) {\n      mod_help = '<a class=\"help\" href=\"/help#coords_model\" title=\"The coordinates along the top of the plot show the model position.\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n      ali_help = '<a class=\"help\" href=\"/help#coords_ali\" title=\"The coordinates along the top of the plot show the column in the alignment associated with the model\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n    }\n\n    var ali_controls = '<fieldset><legend>Coordinates</legend>' +\n      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"model\" ' + mod_checked +\n      '/>Model ' + mod_help +\n      '</label></br>' +\n      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"alignment\" ' + ali_checked +\n      '/>Alignment ' + ali_help +\n      '</label>' +\n      '</fieldset>';\n    settings.append(ali_controls);\n  }\n\n\n  var controls = $('<div class=\"logo_controls\"></div>');\n  if (logo.zoom_enabled) {\n    controls.append('<button class=\"logo_zoomout button\">-</button>' +\n                    '<button class=\"logo_zoomin button\">+</button>');\n  }\n\n  if (settings.children().length > 0) {\n    controls.append('<button class=\"logo_settings_switch button\">Settings</button>');\n    controls.append(settings);\n  }\n\n  form.append(controls);\n\n  return form;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/info/settings.js\n// module id = 103\n// module chunks = 0","module.exports = function Letter(letter, options) {\n  options = options || {};\n  this.value = letter;\n  this.width = parseInt(options.width, 10) || 100;\n\n  //W is 30% wider than the other letters, so need to make sure\n  //it gets modified accordingly.\n  if (this.value === 'W') {\n    this.width += (this.width * 30) / 100;\n  }\n\n  this.height = parseInt(options.height, 10) || 100;\n\n  this.color = options.color || '#000000';\n  // if the height and width are changed from the default, then\n  // this will also need to be changed as it cant be calculated\n  // dynamically.\n  this.fontSize = options.fontSize || 138;\n\n  this.scaled = function () { };\n\n  this.draw = function (ext_ctx, target_height, target_width, x, y, color) {\n    var h_ratio = target_height / this.height,\n    w_ratio = target_width / this.width,\n    prev_font = ext_ctx.font;\n    ext_ctx.transform(w_ratio, 0, 0, h_ratio, x, y);\n    ext_ctx.fillStyle = color || this.color;\n    ext_ctx.textAlign = \"center\";\n    ext_ctx.font = \"bold \" + this.fontSize + \"px Arial\";\n\n    ext_ctx.fillText(this.value, 0, 0);\n    //restore the canvas settings\n    ext_ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ext_ctx.fillStyle = '#000000';\n    ext_ctx.font = prev_font;\n  };\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/model/letter.js\n// module id = 104\n// module chunks = 0","var renderWithText = require(\"./render_with_text.js\");\nvar renderWithRect = require(\"./render_with_rects.js\");\nvar jbone = require(\"jbone\");\n\n// the main render function that draws the logo based on the provided options.\nmodule.exports = function (options) {\n  if (!this.data) {\n    return;\n  }\n  options    = options || {};\n  var zoom   = options.zoom || this.zoom,\n  target = options.target || 1,\n  scaled = options.scaled || null;\n  var parent_width = this.dom_element.parent().attr('width'),\n  max_canvas_width = 1,\n  end = null,\n  start = null,\n  i = 0;\n\n  /*\n  if (target === this.previous_target) {\n    return;\n  }\n  */\n\n  this.previous_target = target;\n\n\n  if (options.start) {\n    this.start = options.start;\n  }\n  if (options.end) {\n    this.end = options.end;\n  }\n\n  if (zoom <= 0.1) {\n    zoom = 0.1;\n  } else if (zoom >= 1) {\n    zoom = 1;\n  }\n\n  this.zoom = zoom;\n\n  end = this.end || this.data.heightArr.length;\n  start = this.start || 1;\n  end     = (end > this.data.heightArr.length) ? this.data.heightArr.length : end;\n  end     = (end < start) ? start : end;\n\n  start     = (start > end) ? end : start;\n  start     = (start > 1) ? start : 1;\n\n  this.y = this.height - 20;\n  // Check to see if the logo will fit on the screen at full zoom.\n  this.max_width = this.column_width * ((end - start) + 1);\n  // If it fits then zoom out and disable zooming.\n  if (parent_width > this.max_width) {\n    zoom = 1;\n    this.zoom_enabled = false;\n  }\n  this.zoom = zoom;\n\n  this.zoomed_column = this.column_width * zoom;\n  this.total_width = this.zoomed_column * ((end - start) + 1);\n\n  // If zoom is not maxed and we still aren't filling the window\n  // then ramp up the zoom level until it fits, then disable zooming.\n  // Then we get a decent logo with out needing to zoom in or out.\n  if (zoom < 1) {\n    while (this.total_width < parent_width) {\n      this.zoom += 0.1;\n      this.zoomed_column = this.column_width * this.zoom;\n      this.total_width = this.zoomed_column * ((end - start) + 1);\n      this.zoom_enabled = false;\n      if (zoom >= 1) {\n        break;\n      }\n    }\n  }\n\n  if (target > this.total_width) {\n    target = this.total_width;\n  }\n  this.dom_element.attr({'width': this.total_width + 'px'}).css({width: this.total_width + 'px'});\n\n  this.canvas_width = this.total_width;\n  var canvas_count = Math.ceil(this.total_width / this.canvas_width);\n  this.columns_per_canvas = Math.ceil(this.canvas_width / this.zoomed_column);\n\n\n  if (this.previous_zoom !== this.zoom) {\n    this.dom_element.find('canvas').remove();\n    this.previous_zoom = this.zoom;\n    this.rendered = [];\n  }\n\n  this.canvases = [];\n  this.contexts = [];\n\n\n  for (i = 0; i < canvas_count; i++) {\n\n    var split_start = (this.columns_per_canvas * i) + start,\n    split_end   = split_start + this.columns_per_canvas - 1;\n    if (split_end > end) {\n      split_end = end;\n    }\n\n    var adjusted_width = ((split_end - split_start) + 1) * this.zoomed_column;\n\n    if (adjusted_width > max_canvas_width) {\n      max_canvas_width = adjusted_width;\n    }\n\n    var canv_start = max_canvas_width * i,\n    canv_end = canv_start + adjusted_width;\n\n    if (target < canv_end + (canv_end / 2) && target > canv_start - (canv_start / 2)) {\n      // Check that we aren't redrawing the canvas and if not, then attach it and draw.\n      //if (this.rendered[i] !== 1) {\n\n        this.canvases[i] = attach_canvas(this.dom_element, this.height, adjusted_width, i, max_canvas_width);\n        this.contexts[i] = this.canvases[i].getContext('2d');\n        this.contexts[i].setTransform(1, 0, 0, 1, 0, 0);\n        this.contexts[i].clearRect(0, 0, adjusted_width, this.height);\n        this.contexts[i].fillStyle = \"#ffffff\";\n        this.contexts[i].fillRect(0, 0, canv_end, this.height);\n\n\n        if (this.zoomed_column > 12) {\n          var fontsize = parseInt(10 * zoom, 10);\n          fontsize = (fontsize > 10) ? 10 : fontsize;\n          if (this.debug) {\n            renderWithRect.call(this,split_start, split_end, i, 1);\n          }\n          renderWithText.call(this,split_start, split_end, i, fontsize);\n        } else {\n          renderWithRect.call(this,split_start, split_end, i);\n        }\n        //this.rendered[i] = 1;\n      //}\n    }\n\n  }\n\n  // check if the scroller object has been initialised and if not then do so.\n  // we do this here as opposed to at object creation, because we need to\n  // make sure the logo has been rendered and the width is correct, otherwise\n  // we get a weird initial state where the canvas will bounce back to the\n  // beginning the first time it is scrolled, because it thinks it has a\n  // width of 0.\n  if (!this.scrollme && this.options.scroller) {\n    this.scrollme = new EasyScroller(this.dom_element[0], {\n      scrollingX: 1,\n      scrollingY: 0,\n      eventTarget: this.called_on\n    });\n  }\n\n  if (target !== 1) {\n    this.scrollme.reflow();\n  }\n  return;\n};\n\n\nfunction attach_canvas(DOMid, height, width, id, canv_width) {\n  var canvas = jbone(DOMid).find('#canv_' + id);\n\n  if (!canvas.length) {\n    jbone(DOMid).append('<canvas class=\"canvas_logo\" id=\"canv_' + id + '\"  height=\"' + height + '\" width=\"' + width + '\" style=\"left:' + canv_width * id + 'px\"></canvas>');\n    canvas = jbone(DOMid).find('#canv_' + id);\n  }\n\n  jbone(canvas).attr('width', width).attr('height', height);\n\n  return canvas[0];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/render/render.js\n// module id = 105\n// module chunks = 0","var draw_border = require(\"./draw/border.js\");\nvar draw_ticks = require(\"./draw/ticks.js\");\nvar draw_column_number = require(\"./draw/column_number.js\");\n\nmodule.exports = function (start, end, context_num, borders) {\n  var x = 0,\n  column_num = start,\n  column_label = null,\n  i = 0,\n  top_height = Math.abs(this.data.max_height),\n  bottom_height = Math.abs(this.data.min_height_obs),\n  total_height = top_height + bottom_height,\n  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n  //convert % to pixels\n  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n  bottom_pix_height = this.info_content_height - top_pix_height,\n  mod = 10;\n\n\n  for (i = start; i <= end; i++) {\n    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n      this.contexts[context_num].fillStyle = '#cccccc';\n      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n    } else {\n      var column = this.data.heightArr[i - 1],\n      previous_height = 0,\n      previous_neg_height = top_pix_height,\n      letters = column.length,\n      j = 0;\n      for(var j in column){\n        values = [j,column[j]];\n        if (values[1] > 0.01) {\n          var letter_height = parseFloat(values[1]) / this.data.max_height,\n          x_pos = x,\n          glyph_height = (this.info_content_height - 2) * letter_height,\n          y_pos = (this.info_content_height - 2) - previous_height - glyph_height,\n          color = null;\n\n\n          if(this.colorscheme === 'dynamic'){\n            color = this.colors.getColor(values[0], {pos: i - 1} )\n          }else{\n            if(this.colorscheme === 'consensus') {\n              color = this.cmap[i - 1][values[0]] || \"#7a7a7a\";\n            } else {\n              color = this.colors[values[0]];\n            }\n          }\n\n          if (borders) {\n            this.contexts[context_num].strokeStyle = color;\n            this.contexts[context_num].strokeRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n          } else {\n            this.contexts[context_num].fillStyle = color;\n            this.contexts[context_num].fillRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n          }\n\n          previous_height = previous_height + glyph_height;\n        }\n      }\n    }\n\n\n    if (this.zoom < 0.2) {\n      mod = 20;\n    } else if (this.zoom < 0.3) {\n      mod = 10;\n    }\n\n    if(this.options.positionMarker){\n      if (i % mod === 0) {\n        // draw column dividers\n        if(this.options.show_probs){\n          draw_ticks(this.contexts[context_num], x + this.zoomed_column, this.height - 30, parseFloat(this.height), '#dddddd');\n        }\n        // draw top ticks\n        draw_ticks(this.contexts[context_num], x + this.zoomed_column, 0, 5);\n\n        // if ali_coordinates exist and toggle is set then display the\n        // alignment coordinates and not the model coordinates.\n        if (this.display_ali_map) {\n          column_label = this.data.ali_map[i - 1];\n        } else {\n          column_label = column_num;\n        }\n        // draw column numbers\n        draw_column_number(this.contexts[context_num], x - 2,  10, this.zoomed_column, column_label, 10, true);\n      }\n\n    }\n\n\n    // draw insert probabilities/lengths\n    if(this.options.show_probs){\n      draw_small_insert(\n        this.contexts[context_num],\n        x,\n        this.height - 42,\n        this.zoomed_column,\n        this.data.insert_probs[i - 1],\n        this.data.insert_lengths[i - 1],\n        this.data.delete_probs[i - 1],\n        this.show_inserts\n      );\n    }\n\n    if(this.options.show_probs){\n      // draw other dividers\n      if (this.show_inserts) {\n        draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n      } else {\n        draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n      }\n    }\n\n    if(this.options.border){\n      draw_border(this.contexts[context_num], 0, this.total_width);\n    }\n\n    x += this.zoomed_column;\n    column_num++;\n  }\n\n};\n\n\nfunction draw_small_insert(context, x, y, col_width, in_odds, in_length, del_odds, show_inserts) {\n  var fill = \"#ffffff\";\n  if (show_inserts) {\n    if (in_odds > 0.1) {\n      fill = '#d7301f';\n    } else if (in_odds > 0.05) {\n      fill = '#fc8d59';\n    } else if (in_odds > 0.03) {\n      fill = '#fdcc8a';\n    }\n    context.fillStyle = fill;\n    context.fillRect(x, y + 15, col_width, 10);\n\n    fill = \"#ffffff\";\n    // draw insert length\n    if (in_length > 9) {\n      fill = '#d7301f';\n    } else if (in_length > 7) {\n      fill = '#fc8d59';\n    } else if (in_length > 4) {\n      fill = '#fdcc8a';\n    }\n    context.fillStyle = fill;\n    context.fillRect(x, y + 30, col_width, 10);\n  } else {\n    y  = y + 30;\n  }\n\n  fill = \"#ffffff\";\n  // draw delete odds\n  if (del_odds < 0.75) {\n    fill = '#2171b5';\n  } else if (del_odds < 0.85) {\n    fill = '#6baed6';\n  } else if (del_odds < 0.95) {\n    fill = '#bdd7e7';\n  }\n  context.fillStyle = fill;\n  context.fillRect(x, y, col_width, 10);\n}\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/render/render_with_rects.js\n// module id = 106\n// module chunks = 0","var draw_border = require(\"./draw/border.js\");\nvar draw_ticks = require(\"./draw/ticks.js\");\nvar draw_column_number = require(\"./draw/column_number.js\");\n\nmodule.exports = function (start, end, context_num, fontsize) {\n  var x = 0,\n  column_num = start,\n  column_label = null,\n  i = 0,\n  top_height = Math.abs(this.data.max_height),\n  bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n  total_height = top_height + Math.abs(bottom_height),\n  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n  //convert % to pixels\n  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n  bottom_pix_height = this.info_content_height - top_pix_height,\n  // this is used to transform the 256px high letters into the correct size\n  // when displaying negative values, so that they fit above the 0 line.\n  top_pix_conversion = top_pix_height / this.info_content_height,\n  bottom_pix_conversion = bottom_pix_height / this.info_content_height;\n\n  // add 3 extra columns so that numbers don't get clipped at the end of a canvas\n  // that ends before a large column. DF0000830 was suffering at zoom level 0.6,\n  // column 2215. This adds a little extra overhead, but is the easiest fix for now.\n  if (end + 3 <= this.end) {\n    end += 3;\n  }\n\n  for (i = start; i <= end; i++) {\n    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n      this.contexts[context_num].fillStyle = '#cccccc';\n      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n    } else {\n      var column = this.data.heightArr[i - 1],\n      col_positions = [];\n      if (column) {\n        var previous_height = 0,\n        letters = column.length,\n        previous_neg_height = top_pix_height,\n        j = 0,\n        color = null;\n\n        for(var j in column){\n          var letter = column[j],\n          values = [j,letter];\n          x_pos = x + (this.zoomed_column / 2),\n          letter_height = null;\n\n          // we don't render anything with a value between 0 and 0.01. These\n          // letters would be too small to be meaningful on any scale, so we\n          // just squash them out.\n          if (values[1] > 0.01) {\n            letter_height = parseFloat(values[1]) / this.data.max_height;\n            var y_pos = (this.info_content_height - 2) - previous_height,\n            glyph_height = (this.info_content_height - 2) * letter_height;\n\n            col_positions[j] = [glyph_height, this.zoomed_column, x_pos, y_pos];\n            previous_height = previous_height + glyph_height;\n          }\n        }\n\n        // render the letters in reverse order so that the larger letters on the top\n        // don't clobber the smaller letters below them.\n        //for (j = letters; j >= 0; j--) {\n        for(var j in column){\n          if (col_positions[j] && this.letters[j]) {\n\n            if(this.colorscheme === 'dynamic'){\n              color = this.colors.getColor(j, {pos: i - 1} );\n            }else{\n              if (this.colorscheme === 'consensus') {\n                color = this.cmap[i - 1][j] || \"#7a7a7a\";\n              } else {\n                color = null;\n              }\n            }\n            this.letters[j].draw(this.contexts[context_num], col_positions[j][0], col_positions[j][1], col_positions[j][2], col_positions[j][3], color);\n          }\n        }\n      }\n    }\n\n\n    // if ali_coordinates exist and toggle is set then display the\n    // alignment coordinates and not the model coordinates.\n    if (this.display_ali_map) {\n      column_label = this.data.ali_map[i - 1];\n    } else {\n      column_label = column_num;\n    }\n\n    if(this.options.show_divider){\n      if (this.zoom < 0.7) {\n        if (i % this.options.divider_step === 0) {\n          draw_column_divider(this,{\n            context_num : context_num,\n            x : x,\n            fontsize: 10,\n            column_num: column_label,\n            ralign: true\n          });\n        }\n      } else {\n        draw_column_divider(this,{\n          context_num : context_num,\n          x : x,\n          fontsize: fontsize,\n          column_num: column_label\n        });\n      }\n    }\n\n    if(this.options.show_probs){\n      draw_delete_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.delete_probs[i - 1], fontsize, this.show_inserts);\n      //draw insert length ticks\n      draw_ticks(this.contexts[context_num], x, this.height - 15, 5);\n      if (this.show_inserts) {\n        draw_insert_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.insert_probs[i - 1], fontsize);\n        draw_insert_length(this.contexts[context_num], x, this.height - 5, this.zoomed_column, this.data.insert_lengths[i - 1], fontsize);\n\n        // draw delete probability ticks\n        draw_ticks(this.contexts[context_num], x, this.height - 45, 5);\n        // draw insert probability ticks\n        draw_ticks(this.contexts[context_num], x, this.height - 30, 5);\n      }\n\n    }\n\n    x += this.zoomed_column;\n    column_num++;\n  }\n\n\n  if(this.options.show_probs){\n    // draw other dividers\n    if (this.show_inserts) {\n      draw_border(this.contexts[context_num], this.height - 30, this.total_width);\n      draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n    }\n    draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n  }\n  if(this.options.border){\n    draw_border(this.contexts[context_num], 0, this.total_width);\n  }\n};\n\n\nfunction draw_delete_odds(context, x, height, col_width, text, fontsize, show_inserts) {\n  var y        = height - 4,\n  fill     = '#ffffff',\n  textfill = '#555555';\n\n  if (show_inserts) {\n    y = height - 35;\n  }\n\n  if (text < 0.75) {\n    fill     = '#2171b5';\n    textfill = '#ffffff';\n  } else if (text < 0.85) {\n    fill = '#6baed6';\n  } else if (text < 0.95) {\n    fill = '#bdd7e7';\n  }\n\n  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n}\n\nfunction draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill) {\n  context.font = fontsize + \"px Arial\";\n  context.fillStyle = fill;\n  context.fillRect(x, y - 10, col_width, 14);\n  context.textAlign = \"center\";\n  context.fillStyle = textfill;\n  context.fillText(text, x + (col_width / 2), y);\n}\n\nfunction draw_column_divider(inst, opts) {\n  var div_x = opts.ralign ? opts.x + inst.zoomed_column : opts.x,\n  num_x = opts.ralign ? opts.x + 2 : opts.x;\n  // draw column dividers\n  draw_ticks(inst.contexts[opts.context_num], div_x, inst.height - 30, -30 - inst.height, '#dddddd');\n  // draw top ticks\n  draw_ticks(inst.contexts[opts.context_num], div_x, 0, 5);\n  // draw column numbers\n  draw_column_number(inst.contexts[opts.context_num], num_x, 10, inst.zoomed_column, opts.column_num, opts.fontsize, opts.ralign);\n};\n\n\n\nfunction draw_insert_odds(context, x, height, col_width, text, fontsize) {\n  var y        = height - 20,\n  fill     = '#ffffff',\n  textfill = '#555555';\n\n  if (text > 0.1) {\n    fill     = '#d7301f';\n    textfill = '#ffffff';\n  } else if (text > 0.05) {\n    fill = '#fc8d59';\n  } else if (text > 0.03) {\n    fill = '#fdcc8a';\n  }\n\n  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\n  //draw vertical line to indicate where the insert would occur\n  if (text > 0.03) {\n    draw_ticks(context, x + col_width, height - 30, -30 - height, fill);\n  }\n}\nfunction draw_insert_length(context, x, y, col_width, text, fontsize) {\n  var fill = '#ffffff',\n  textfill = '#555555';\n\n  if (text > 9) {\n    fill     = '#d7301f';\n    textfill = '#ffffff';\n  } else if (text > 7) {\n    fill = '#fc8d59';\n  } else if (text > 4) {\n    fill = '#fdcc8a';\n  }\n  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/biojs-vis-seqlogo/src/render/render_with_text.js\n// module id = 107\n// module chunks = 0","/*\n * JavaScript Canvas to Blob 2.0.5\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\nvar CanvasPrototype = window.HTMLCanvasElement &&\nwindow.HTMLCanvasElement.prototype,\n  hasBlobConstructor = window.Blob && (function () {\n    try {\n      return Boolean(new Blob());\n    } catch (e) {\n      return false;\n    }\n  }()),\n  hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&\n  (function () {\n    try {\n      return new Blob([new Uint8Array(100)]).size === 100;\n    } catch (e) {\n      return false;\n    }\n  }()),\n  BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\n  window.MozBlobBuilder || window.MSBlobBuilder,\n  dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&\n  window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n    var byteString,\n    arrayBuffer,\n    intArray,\n      i,\n      mimeString,\n        bb;\n    if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n      // Convert base64 to raw binary data held in a string:\n      byteString = atob(dataURI.split(',')[1]);\n    } else {\n      // Convert base64/URLEncoded data component to raw binary data:\n      byteString = decodeURIComponent(dataURI.split(',')[1]);\n    }\n    // Write the bytes of the string to an ArrayBuffer:\n    arrayBuffer = new ArrayBuffer(byteString.length);\n    intArray = new Uint8Array(arrayBuffer);\n    for (i = 0; i < byteString.length; i += 1) {\n      intArray[i] = byteString.charCodeAt(i);\n    }\n    // Separate out the mime component:\n    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n    // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n    if (hasBlobConstructor) {\n      return new Blob(\n          [hasArrayBufferViewSupport ? intArray : arrayBuffer],\n          {type: mimeString}\n          );\n    }\n    bb = new BlobBuilder();\n    bb.append(arrayBuffer);\n    return bb.getBlob(mimeString);\n  };\nif (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n  if (CanvasPrototype.mozGetAsFile) {\n    CanvasPrototype.toBlob = function (callback, type, quality) {\n      if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n        callback(dataURLtoBlob(this.toDataURL(type, quality)));\n      } else {\n        callback(this.mozGetAsFile('blob', type));\n      }\n    };\n  } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n    CanvasPrototype.toBlob = function (callback, type, quality) {\n      callback(dataURLtoBlob(this.toDataURL(type, quality)));\n    };\n  }\n}\n\nmodule.exports = dataURLtoBlob;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/blueimp_canvastoblob/index.js\n// module id = 108\n// module chunks = 0","/* FileSaver.js\n *  A saveAs() FileSaver implementation.\n *  2014-05-27\n *\n *  By Eli Grey, http://eligrey.com\n *  License: X11/MIT\n *    See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs\n  // IE 10+ (native saveAs)\n  || (typeof navigator !== \"undefined\" &&\n      navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator))\n  // Everyone else\n  || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof navigator !== \"undefined\" &&\n\t    /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = !view.externalHost && \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = doc.createEvent(\"MouseEvents\");\n\t\t\tevent.initMouseEvent(\n\t\t\t\t\"click\", true, false, view, 0, 0, 0, 0, 0\n\t\t\t\t, false, false, false, false, 0, null\n\t\t\t);\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, webkit_req_fs = view.webkitRequestFileSystem\n\t\t, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t, fs_min_size = 0\n\t\t, deletion_queue = []\n\t\t, process_deletion_queue = function() {\n\t\t\tvar i = deletion_queue.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar file = deletion_queue[i];\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t\tdeletion_queue.length = 0; // clear queue\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, FileSaver = function(blob, name) {\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, blob_changed = false\n\t\t\t\t, object_url\n\t\t\t\t, target_view\n\t\t\t\t, get_object_url = function() {\n\t\t\t\t\tvar object_url = get_URL().createObjectURL(blob);\n\t\t\t\t\tdeletion_queue.push(object_url);\n\t\t\t\t\treturn object_url;\n\t\t\t\t}\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (blob_changed || !object_url) {\n\t\t\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (target_view) {\n\t\t\t\t\t\ttarget_view.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.open(object_url, \"_blank\");\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t}\n\t\t\t\t, abortable = function(func) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif (filesaver.readyState !== filesaver.DONE) {\n\t\t\t\t\t\t\treturn func.apply(this, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t, create_if_not_found = {create: true, exclusive: false}\n\t\t\t\t, slice\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\tif (!name) {\n\t\t\t\tname = \"download\";\n\t\t\t}\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\tsave_link.href = object_url;\n\t\t\t\tsave_link.download = name;\n\t\t\t\tclick(save_link);\n\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\tdispatch_all();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Object and web filesystem URLs have a problem saving in Google Chrome when\n\t\t\t// viewed in a tab, so I force save with application/octet-stream\n\t\t\t// http://code.google.com/p/chromium/issues/detail?id=91158\n\t\t\tif (view.chrome && type && type !== force_saveable_type) {\n\t\t\t\tslice = blob.slice || blob.webkitSlice;\n\t\t\t\tblob = slice.call(blob, 0, blob.size, force_saveable_type);\n\t\t\t\tblob_changed = true;\n\t\t\t}\n\t\t\t// Since I can't be sure that the guessed media type will trigger a download\n\t\t\t// in WebKit, I append .download to the filename.\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=65440\n\t\t\tif (webkit_req_fs && name !== \"download\") {\n\t\t\t\tname += \".download\";\n\t\t\t}\n\t\t\tif (type === force_saveable_type || webkit_req_fs) {\n\t\t\t\ttarget_view = view;\n\t\t\t}\n\t\t\tif (!req_fs) {\n\t\t\t\tfs_error();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfs_min_size += blob.size;\n\t\t\treq_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n\t\t\t\tfs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n\t\t\t\t\tvar save = function() {\n\t\t\t\t\t\tdir.getFile(name, create_if_not_found, abortable(function(file) {\n\t\t\t\t\t\t\tfile.createWriter(abortable(function(writer) {\n\t\t\t\t\t\t\t\twriter.onwriteend = function(event) {\n\t\t\t\t\t\t\t\t\ttarget_view.location.href = file.toURL();\n\t\t\t\t\t\t\t\t\tdeletion_queue.push(file);\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\tdispatch(filesaver, \"writeend\", event);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\twriter.onerror = function() {\n\t\t\t\t\t\t\t\t\tvar error = writer.error;\n\t\t\t\t\t\t\t\t\tif (error.code !== error.ABORT_ERR) {\n\t\t\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\"writestart progress write abort\".split(\" \").forEach(function(event) {\n\t\t\t\t\t\t\t\t\twriter[\"on\" + event] = filesaver[\"on\" + event];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twriter.write(blob);\n\t\t\t\t\t\t\t\tfilesaver.abort = function() {\n\t\t\t\t\t\t\t\t\twriter.abort();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.WRITING;\n\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t};\n\t\t\t\t\tdir.getFile(name, {create: false}, abortable(function(file) {\n\t\t\t\t\t\t// delete file if it already exists\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t\tsave();\n\t\t\t\t\t}), abortable(function(ex) {\n\t\t\t\t\t\tif (ex.code === ex.NOT_FOUND_ERR) {\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}), fs_error);\n\t\t\t}), fs_error);\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name) {\n\t\t\treturn new FileSaver(blob, name);\n\t\t}\n\t;\n\tFS_proto.abort = function() {\n\t\tvar filesaver = this;\n\t\tfilesaver.readyState = filesaver.DONE;\n\t\tdispatch(filesaver, \"abort\");\n\t};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\tview.addEventListener(\"unload\", process_deletion_queue, false);\n\tsaveAs.unload = function() {\n\t\tprocess_deletion_queue();\n\t\tview.removeEventListener(\"unload\", process_deletion_queue, false);\n\t};\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nvar amdDefine = window.define;\nif( typeof amdDefine === \"undefined\" && (typeof window.almond !== \"undefined\" \n    && \"define\" in window.almond )){\n  amdDefine = window.almond.define;\n}\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = saveAs;\n} else if ((typeof amdDefine !== \"undefined\" && amdDefine !== null) && (amdDefine.amd != null)) {\n  amdDefine(\"saveAs\",[], function() {\n    return saveAs;\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/browser-saveas/index.js\n// module id = 109\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".biojs_msa_stage{cursor:default;line-height:normal}.biojs_msa_seqblock{cursor:move}.biojs_msa_layer{display:block;white-space:nowrap}.biojs_msa_labels{color:#000;display:inline-block;cursor:pointer;vertical-align:middle;overflow:hidden;text-overflow:clip}.biojs_msa_header,.biojs_msa_labels{white-space:nowrap;text-align:left}.biojs_msa_labelrow:before{content:\\\"\\\";display:inline-block;width:0;height:100%;vertical-align:middle}.biojs_msa_labelrow{height:100%}.biojs_msa_labelblock::-webkit-scrollbar,.biojs_msa_rheader::-webkit-scrollbar{//:none;width:7px;height:7px}.biojs_msa_labelblock::-webkit-scrollbar-thumb,.biojs_msa_rheader::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px hsla(0,0%,100%,.5)}.biojs_msa_marker{color:grey;white-space:nowrap;cursor:pointer}.biojs_msa_marker span{text-align:center}.smenubar .smenubar_alink{background:#3498db;background-image:linear-gradient(180deg,#3498db,#2980b9);border-radius:28px;font-family:Arial;color:#fff;padding:3px 10px;margin-left:10px;text-decoration:none}.smenubar{display:inline-block}.smenubar .smenubar_alink:hover{cursor:pointer}.smenu-dropdown{position:absolute;z-index:9999999;display:none}.smenu-dropdown .smenu-dropdown-menu,.smenu-dropdown .smenu-dropdown-panel{min-width:160px;max-width:360px;list-style:none;background:#fff;border:1px solid #ddd;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 5px 10px rgba(0,0,0,.2);overflow:visible;padding:4px 0;margin:0}.smenu-dropdown .smenu-dropdown-panel{padding:10px}.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-menu,.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-panel{max-height:358px;overflow:auto}.smenu-dropdown .smenu-dropdown-menu LI{list-style:none;padding:0;margin:0;line-height:18px}.smenu-dropdown .smenu-dropdown-menu LABEL,.smenu-dropdown .smenu-dropdown-menu LI{display:block;color:#555;text-decoration:none;line-height:18px;padding:3px 15px;white-space:nowrap}.smenu-dropdown .smenu-dropdown-menu LABEL:hover,.smenu-dropdown .smenu-dropdown-menu LI:hover{background-color:#08c;color:#fff;cursor:pointer}.smenu-dropdown .smenu-dropdown-menu .smenu-dropdown-divider{font-size:1px;border-top:1px solid #e5e5e5;padding:0;margin:5px 0}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./css/msa.css\n// module id = 110\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 111\n// module chunks = 0","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/global/window.js\n// module id = 112\n// module chunks = 0","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  if (!fn) {\n    return false\n  }\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is-function/index.js\n// module id = 113\n// module chunks = 0","module.exports = require(\"./lib/menubuilder\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/menu-builder/index.js\n// module id = 114\n// module chunks = 0","var MenuBuilder, jbone, view;\n\njbone = require(\"jbone\");\nview = require(\"backbone-viewj\");\n\nmodule.exports = MenuBuilder = view.extend({\n  initialize: function(opts) {\n    this._nodes = [];\n    this.name = opts.name || \"\";\n    this.el.className += \"smenubar\";\n  },\n  render: function() {\n\n    // remove all childs\n    var fc = this.el.firstChild;\n    while (fc) {\n      this.el.removeChild(fc);\n      fc = this.el.firstChild;\n    }\n\n    // replace child\n    this.el.appendChild(this.buildDOM());\n  },\n  setName: function(name) {\n    this.name = name;\n  },\n  addNode: function(label, callback, opts) {\n    var style;\n    if (opts != null) {\n      style = opts.style;\n    }\n    if (this._nodes == null) {\n      this._nodes = [];\n    }\n    this._nodes.push({\n      label: label,\n      callback: callback,\n      style: style\n    });\n  },\n\n  getNode: function(label) {\n    var rNode = undefined;\n    this._nodes.forEach(function(el) {\n      if (el.label === label) {\n        rNode = el;\n      }\n    });\n    return rNode;\n  },\n\n  modifyNode: function(label, callback, opts) {\n    var node = this.getNode(label);\n    node.callback = callback || node.callback;\n    opts = opts || {};\n    node.style = opts.style || node.style;\n  },\n\n  renameNode: function(label, newLabel) {\n    var node = this.getNode(label);\n    node.label = newLabel || node.label;\n  },\n\n  removeNode: function(label) {\n    var node = this.getNode(label);\n    this._nodes.splice(this._nodes.indexOf(node), 1);\n  },\n\n  removeAllNodes: function() {\n    this._nodes = [];\n  },\n\n  buildDOM: function() {\n    var span = document.createElement(\"span\");\n    span.appendChild(this._buildM({\n      nodes: this._nodes,\n      name: this.name\n    }));\n    return span;\n  },\n  _buildM: function(data) {\n    var displayedButton, frag, key, li, node, style, _ref;\n    var nodes = data.nodes;\n    var name = data.name;\n    var menu = document.createElement(\"div\");\n    menu.className = \"smenu-dropdown smenu-dropdown-tip\";\n    menu.style.display = \"none\";\n\n    var menuUl = document.createElement(\"ul\");\n    menuUl.className = \"smenu-dropdown-menu\";\n\n    // currently we support one-level\n    for (var i = 0, _len = nodes.length; i < _len; i++) {\n      node = nodes[i];\n      li = document.createElement(\"li\");\n      li.textContent = node.label;\n      _ref = node.style;\n      for (key in _ref) {\n        style = _ref[key];\n        li.style[key] = style;\n      }\n      li.addEventListener(\"click\", node.callback);\n      this.trigger(\"new:node\", li);\n      menuUl.appendChild(li);\n    }\n    this.trigger(\"new:menu\", menuUl);\n    menu.appendChild(menuUl);\n\n    displayedButton = document.createElement(\"a\");\n    displayedButton.textContent = name;\n    displayedButton.className = \"smenubar_alink\";\n    this.trigger(\"new:button\", displayedButton);\n\n    // HACK to be able to hide the submenu\n    // listens globally for click events\n    jbone(displayedButton).on(\"click\", (function(_this) {\n      return function(e) {\n        _this._showMenu(e, menu, displayedButton);\n        return window.setTimeout(function() {\n          return jbone(document.body).one(\"click\", function(e) {\n            return menu.style.display = \"none\";\n          });\n        }, 5);\n      };\n    })(this));\n\n    frag = document.createDocumentFragment();\n    frag.appendChild(menu);\n    frag.appendChild(displayedButton);\n    return frag;\n  },\n\n  // internal method to display the lower menu on a click\n  _showMenu: function(e, menu, target) {\n    var rect;\n    menu.style.display = \"block\";\n    menu.style.position = \"absolute\";\n    rect = target.getBoundingClientRect();\n    menu.style.left = rect.left + \"px\";\n    menu.style.top = (rect.top + target.offsetHeight) + \"px\";\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/menu-builder/lib/menubuilder.js\n// module id = 115\n// module chunks = 0","module.exports = {\n  A: \"#00a35c\",\n  R: \"#00fc03\",\n  N: \"#00eb14\",\n  D: \"#00eb14\",\n  C: \"#0000ff\",\n  Q: \"#00f10e\",\n  E: \"#00f10e\",\n  G: \"#009d62\",\n  H: \"#00d52a\",\n  I: \"#0054ab\",\n  L: \"#007b84\",\n  K: \"#00ff00\",\n  M: \"#009768\",\n  F: \"#008778\",\n  P: \"#00e01f\",\n  S: \"#00d52a\",\n  T: \"#00db24\",\n  W: \"#00a857\",\n  Y: \"#00e619\",\n  V: \"#005fa0\",\n  B: \"#00eb14\",\n  X: \"#00b649\",\n  Z: \"#00f10e\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/buried.js\n// module id = 116\n// module chunks = 0","module.exports = {\n  A: \"#BBBBBB\",\n  B: \"grey\",\n  C: \"yellow\",\n  D: \"red\",\n  E: \"red\",\n  F: \"magenta\",\n  G: \"brown\",\n  H: \"#00FFFF\",\n  I: \"#BBBBBB\",\n  J: \"#fff\",\n  K: \"#00FFFF\",\n  L: \"#BBBBBB\",\n  M: \"#BBBBBB\",\n  N: \"green\",\n  O: \"#fff\",\n  P: \"brown\",\n  Q: \"green\",\n  R: \"#00FFFF\",\n  S: \"green\",\n  T: \"green\",\n  U: \"#fff\",\n  V: \"#BBBBBB\",\n  W: \"magenta\",\n  X: \"grey\",\n  Y: \"magenta\",\n  Z: \"grey\",\n  Gap: \"grey\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/cinema.js\n// module id = 117\n// module chunks = 0","module.exports = {\n  A: \"orange\",\n  B: \"#fff\",\n  C: \"green\",\n  D: \"red\",\n  E: \"red\",\n  F: \"blue\",\n  G: \"orange\",\n  H: \"red\",\n  I: \"green\",\n  J: \"#fff\",\n  K: \"red\",\n  L: \"green\",\n  M: \"green\",\n  N: \"#fff\",\n  O: \"#fff\",\n  P: \"orange\",\n  Q: \"#fff\",\n  R: \"red\",\n  S: \"orange\",\n  T: \"orange\",\n  U: \"#fff\",\n  V: \"green\",\n  W: \"blue\",\n  X: \"#fff\",\n  Y: \"blue\",\n  Z: \"#fff\",\n  Gap: \"#fff\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/clustal.js\n// module id = 118\n// module chunks = 0","module.exports = {\n  A: \"#80a0f0\",\n  R: \"#f01505\",\n  N: \"#00ff00\",\n  D: \"#c048c0\",\n  C: \"#f08080\",\n  Q: \"#00ff00\",\n  E: \"#c048c0\",\n  G: \"#f09048\",\n  H: \"#15a4a4\",\n  I: \"#80a0f0\",\n  L: \"#80a0f0\",\n  K: \"#f01505\",\n  M: \"#80a0f0\",\n  F: \"#80a0f0\",\n  P: \"#ffff00\",\n  S: \"#00ff00\",\n  T: \"#00ff00\",\n  W: \"#80a0f0\",\n  Y: \"#15a4a4\",\n  V: \"#80a0f0\",\n  B: \"#fff\",\n  X: \"#fff\",\n  Z: \"#fff\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/clustal2.js\n// module id = 119\n// module chunks = 0","module.exports = {\n  A: \"#e718e7\",\n  R: \"#6f906f\",\n  N: \"#1be41b\",\n  D: \"#778877\",\n  C: \"#23dc23\",\n  Q: \"#926d92\",\n  E: \"#ff00ff\",\n  G: \"#00ff00\",\n  H: \"#758a75\",\n  I: \"#8a758a\",\n  L: \"#ae51ae\",\n  K: \"#a05fa0\",\n  M: \"#ef10ef\",\n  F: \"#986798\",\n  P: \"#00ff00\",\n  S: \"#36c936\",\n  T: \"#47b847\",\n  W: \"#8a758a\",\n  Y: \"#21de21\",\n  V: \"#857a85\",\n  B: \"#49b649\",\n  X: \"#758a75\",\n  Z: \"#c936c9\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/helix.js\n// module id = 120\n// module chunks = 0","module.exports = {\n  A: \"#ad0052\",\n  B: \"#0c00f3\",\n  C: \"#c2003d\",\n  D: \"#0c00f3\",\n  E: \"#0c00f3\",\n  F: \"#cb0034\",\n  G: \"#6a0095\",\n  H: \"#1500ea\",\n  I: \"#ff0000\",\n  J: \"#fff\",\n  K: \"#0000ff\",\n  L: \"#ea0015\",\n  M: \"#b0004f\",\n  N: \"#0c00f3\",\n  O: \"#fff\",\n  P: \"#4600b9\",\n  Q: \"#0c00f3\",\n  R: \"#0000ff\",\n  S: \"#5e00a1\",\n  T: \"#61009e\",\n  U: \"#fff\",\n  V: \"#f60009\",\n  W: \"#5b00a4\",\n  X: \"#680097\",\n  Y: \"#4f00b0\",\n  Z: \"#0c00f3\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/hydrophobicity.js\n// module id = 121\n// module chunks = 0","var schemes = require(\"./schemeclass\");\nvar StaticSchemeClass = schemes.stat;\nvar DynSchemeClass = schemes.dyn;\n\nvar Buried = require(\"./buried\");\nvar Cinema = require(\"./cinema\");\nvar Clustal = require(\"./clustal\");\nvar Clustal2 = require(\"./clustal2\");\nvar Helix = require(\"./helix\");\nvar Hydro = require(\"./hydrophobicity\");\nvar Lesk = require(\"./lesk\");\nvar Mae = require(\"./mae\");\nvar Nucleotide = require(\"./nucleotide\");\nvar Purine = require(\"./purine\");\nvar Strand = require(\"./strand\");\nvar Taylor = require(\"./taylor\");\nvar Turn = require(\"./turn\");\nvar Zappo = require(\"./zappo\");\n\nvar staticSchemes = {\n  buried: Buried,\n  buried_index: Buried,\n  cinema: Cinema,\n  clustal2: Clustal2,\n  clustal: Clustal,\n  helix: Helix,\n  helix_propensity: Helix,\n  hydro: Hydro,\n  lesk: Lesk,\n  mae: Mae,\n  nucleotide: Nucleotide,\n  purine: Purine,\n  purine_pyrimidine: Purine,\n  strand: Strand,\n  strand_propensity: Strand,\n  taylor: Taylor,\n  turn: Turn,\n  turn_propensity: Turn,\n  zappo: Zappo\n};\n\nvar pid = require(\"./pid_colors.js\");\n\nvar dynSchemes = {\n  pid: pid\n};\n\nvar Colors = function(opt){\n  this.maps = clone(staticSchemes);\n  this.dyn = clone(dynSchemes);\n  this.opt = opt;\n}\nmodule.exports = Colors;\n\nColors.getScheme = function(scheme){\n  return staticSchemes[scheme];\n}\nColors.prototype.getScheme = function(scheme) {\n  var color = this.maps[scheme];\n  if (color === undefined) {\n    color = {};\n    if(this.dyn[scheme] != undefined){\n      return new DynSchemeClass(this.dyn[scheme],this.opt);\n    }\n  }\n  return new StaticSchemeClass(color);\n};\n\nColors.prototype.addStaticScheme = function(name,scheme) {\n  this.maps[name] = scheme;\n}\n\nColors.prototype.addDynScheme = function(name,scheme) {\n  this.dyn[name] = scheme;\n}\n\n// small helper to clone an object\nfunction clone(obj) {\n  if (null == obj || \"object\" != typeof obj) return obj;\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n  }\n  return copy;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/index.js\n// module id = 122\n// module chunks = 0","module.exports = {\n  A: \" orange\",\n  B: \" #fff\",\n  C: \" green\",\n  D: \" red\",\n  E: \" red\",\n  F: \" green\",\n  G: \" orange\",\n  H: \" magenta\",\n  I: \" green\",\n  J: \" #fff\",\n  K: \" red\",\n  L: \" green\",\n  M: \" green\",\n  N: \" magenta\",\n  O: \" #fff\",\n  P: \" green\",\n  Q: \" magenta\",\n  R: \" red\",\n  S: \" orange\",\n  T: \" orange\",\n  U: \" #fff\",\n  V: \" green\",\n  W: \" green\",\n  X: \" #fff\",\n  Y: \" green\",\n  Z: \" #fff\",\n  Gap: \" #fff\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/lesk.js\n// module id = 123\n// module chunks = 0","module.exports = {\n  A: \" #77dd88\",\n  B: \" #fff\",\n  C: \" #99ee66\",\n  D: \" #55bb33\",\n  E: \" #55bb33\",\n  F: \" #9999ff\",\n  G: \" #77dd88\",\n  H: \" #5555ff\",\n  I: \" #66bbff\",\n  J: \" #fff\",\n  K: \" #ffcc77\",\n  L: \" #66bbff\",\n  M: \" #66bbff\",\n  N: \" #55bb33\",\n  O: \" #fff\",\n  P: \" #eeaaaa\",\n  Q: \" #55bb33\",\n  R: \" #ffcc77\",\n  S: \" #ff4455\",\n  T: \" #ff4455\",\n  U: \" #fff\",\n  V: \" #66bbff\",\n  W: \" #9999ff\",\n  X: \" #fff\",\n  Y: \" #9999ff\",\n  Z: \" #fff\",\n  Gap: \" #fff\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/mae.js\n// module id = 124\n// module chunks = 0","module.exports = {\n  A: \" #64F73F\",\n  C: \" #FFB340\",\n  G: \" #EB413C\",\n  T: \" #3C88EE\",\n  U: \" #3C88EE\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/nucleotide.js\n// module id = 125\n// module chunks = 0","var pid;\nmodule.exports = pid = {};\n\n// calculating the conservation is expensive \n// we only want to do it once\npid.init = function(){\n  this.cons = this.opt.conservation();\n}\n\npid.run = function(letter,opts){\n  var cons = this.cons[opts.pos];\n  if(cons > 0.8){\n    return \"#6464ff\";\n  }else if(cons > 0.6){\n    return \"#9da5ff\";\n  }else if(cons > 0.4){\n    return \"#cccccc\";\n  }else{\n    return \"#ffffff\";\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/pid_colors.js\n// module id = 126\n// module chunks = 0","module.exports = {\n  A: \" #FF83FA\",\n  C: \" #40E0D0\",\n  G: \" #FF83FA\",\n  R: \" #FF83FA\",\n  T: \" #40E0D0\",\n  U: \" #40E0D0\",\n  Y: \" #40E0D0\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/purine.js\n// module id = 127\n// module chunks = 0","var StaticSchemeClass = function(map){\n  this.defaultColor = \"#ffffff\";\n  this.type = \"static\";\n  this.map = map;\n  this.getColor = function(letter){\n    if(this.map[letter] !== undefined){\n      return this.map[letter]; \n    }else{\n      return this.defaultColor;\n    }\n  };\n};\n\nvar DynSchemeClass = function(fun,opt){\n  this.type = \"dyn\";\n  this.opt = opt;\n  // init\n  if(fun.init !== undefined){\n    fun.init.call(this);\n    this.getColor = fun.run;\n    this.reset = fun.init;\n  }else{\n    this.getColor = fun;\n  }\n};\nmodule.exports.stat = StaticSchemeClass;\nmodule.exports.dyn = DynSchemeClass;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/schemeclass.js\n// module id = 128\n// module chunks = 0","module.exports = {\n  A: \"#5858a7\",\n  R: \"#6b6b94\",\n  N: \"#64649b\",\n  D: \"#2121de\",\n  C: \"#9d9d62\",\n  Q: \"#8c8c73\",\n  E: \"#0000ff\",\n  G: \"#4949b6\",\n  H: \"#60609f\",\n  I: \"#ecec13\",\n  L: \"#b2b24d\",\n  K: \"#4747b8\",\n  M: \"#82827d\",\n  F: \"#c2c23d\",\n  P: \"#2323dc\",\n  S: \"#4949b6\",\n  T: \"#9d9d62\",\n  W: \"#c0c03f\",\n  Y: \"#d3d32c\",\n  V: \"#ffff00\",\n  B: \"#4343bc\",\n  X: \"#797986\",\n  Z: \"#4747b8\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/strand.js\n// module id = 129\n// module chunks = 0","module.exports = {\n  A: \"#ccff00\",\n  R: \"#0000ff\",\n  N: \"#cc00ff\",\n  D: \"#ff0000\",\n  C: \"#ffff00\",\n  Q: \"#ff00cc\",\n  E: \"#ff0066\",\n  G: \"#ff9900\",\n  H: \"#0066ff\",\n  I: \"#66ff00\",\n  L: \"#33ff00\",\n  K: \"#6600ff\",\n  M: \"#00ff00\",\n  F: \"#00ff66\",\n  P: \"#ffcc00\",\n  S: \"#ff3300\",\n  T: \"#ff6600\",\n  W: \"#00ccff\",\n  Y: \"#00ffcc\",\n  V: \"#99ff00\",\n  B: \"#fff\",\n  X: \"#fff\",\n  Z: \"#fff\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/taylor.js\n// module id = 130\n// module chunks = 0","module.exports = {\n  A: \"#2cd3d3\",\n  R: \"#708f8f\",\n  N: \"#ff0000\",\n  D: \"#e81717\",\n  C: \"#a85757\",\n  Q: \"#3fc0c0\",\n  E: \"#778888\",\n  G: \"#ff0000\",\n  H: \"#708f8f\",\n  I: \"#00ffff\",\n  L: \"#1ce3e3\",\n  K: \"#7e8181\",\n  M: \"#1ee1e1\",\n  F: \"#1ee1e1\",\n  P: \"#f60909\",\n  S: \"#e11e1e\",\n  T: \"#738c8c\",\n  W: \"#738c8c\",\n  Y: \"#9d6262\",\n  V: \"#07f8f8\",\n  B: \"#f30c0c\",\n  X: \"#7c8383\",\n  Z: \"#5ba4a4\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/turn.js\n// module id = 131\n// module chunks = 0","module.exports = {\n  A: \"#ffafaf\",\n  R: \"#6464ff\",\n  N: \"#00ff00\",\n  D: \"#ff0000\",\n  C: \"#ffff00\",\n  Q: \"#00ff00\",\n  E: \"#ff0000\",\n  G: \"#ff00ff\",\n  H: \"#6464ff\",\n  I: \"#ffafaf\",\n  L: \"#ffafaf\",\n  K: \"#6464ff\",\n  M: \"#ffafaf\",\n  F: \"#ffc800\",\n  P: \"#ff00ff\",\n  S: \"#00ff00\",\n  T: \"#00ff00\",\n  W: \"#ffc800\",\n  Y: \"#ffc800\",\n  V: \"#ffafaf\",\n  B: \"#fff\",\n  X: \"#fff\",\n  Z: \"#fff\"\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msa-colorschemes/src/zappo.js\n// module id = 132\n// module chunks = 0","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/node-libs-browser/~/timers-browserify/main.js\n// module id = 133\n// module chunks = 0","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/setimmediate/setImmediate.js\n// module id = 134\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 135\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!./msa.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!./msa.css\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!./msa.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./css/msa.css\n// module id = 136\n// module chunks = 0","/**\n * @module vow\n * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n * @version 0.4.20\n * @license\n * Dual licensed under the MIT and GPL licenses:\n *   * http://www.opensource.org/licenses/mit-license.php\n *   * http://www.gnu.org/licenses/gpl.html\n */\n\n(function(global) {\n\nvar undef,\n    nextTick = (function() {\n        var fns = [],\n            enqueueFn = function(fn) {\n                fns.push(fn);\n                return fns.length === 1;\n            },\n            callFns = function() {\n                var fnsToCall = fns, i = 0, len = fns.length;\n                fns = [];\n                while(i < len) {\n                    fnsToCall[i++]();\n                }\n            };\n\n        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n        if(MutationObserver) {\n            var num = 1,\n                node = document.createTextNode('');\n\n            new MutationObserver(callFns).observe(node, { characterData : true });\n\n            return function(fn) {\n                enqueueFn(fn) && (node.data = (num *= -1));\n            };\n        }\n\n        if(typeof process === 'object' && process.nextTick) {\n            return function(fn) {\n                enqueueFn(fn) && process.nextTick(callFns);\n            };\n        }\n\n        if(typeof setImmediate === 'function') {\n            return function(fn) {\n                enqueueFn(fn) && setImmediate(callFns);\n            };\n        }\n\n        if(global.postMessage) {\n            var isPostMessageAsync = true;\n            if(global.attachEvent) {\n                var checkAsync = function() {\n                        isPostMessageAsync = false;\n                    };\n                global.attachEvent('onmessage', checkAsync);\n                global.postMessage('__checkAsync', '*');\n                global.detachEvent('onmessage', checkAsync);\n            }\n\n            if(isPostMessageAsync) {\n                var msg = '__promise' + Math.random() + '_' +new Date,\n                    onMessage = function(e) {\n                        if(e.data === msg) {\n                            e.stopPropagation && e.stopPropagation();\n                            callFns();\n                        }\n                    };\n\n                global.addEventListener?\n                    global.addEventListener('message', onMessage, true) :\n                    global.attachEvent('onmessage', onMessage);\n\n                return function(fn) {\n                    enqueueFn(fn) && global.postMessage(msg, '*');\n                };\n            }\n        }\n\n        var doc = global.document;\n        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n            var createScript = function() {\n                    var script = doc.createElement('script');\n                    script.onreadystatechange = function() {\n                        script.parentNode.removeChild(script);\n                        script = script.onreadystatechange = null;\n                        callFns();\n                };\n                (doc.documentElement || doc.body).appendChild(script);\n            };\n\n            return function(fn) {\n                enqueueFn(fn) && createScript();\n            };\n        }\n\n        return function(fn) { // old browsers\n            enqueueFn(fn) && setTimeout(callFns, 0);\n        };\n    })(),\n    throwException = function(e) {\n        nextTick(function() {\n            throw e;\n        });\n    },\n    isFunction = function(obj) {\n        return typeof obj === 'function';\n    },\n    isObject = function(obj) {\n        return obj !== null && typeof obj === 'object';\n    },\n    toStr = Object.prototype.toString,\n    isArray = Array.isArray || function(obj) {\n        return toStr.call(obj) === '[object Array]';\n    },\n    getArrayKeys = function(arr) {\n        var res = [],\n            i = 0, len = arr.length;\n        while(i < len) {\n            res.push(i++);\n        }\n        return res;\n    },\n    getObjectKeys = Object.keys || function(obj) {\n        var res = [];\n        for(var i in obj) {\n            obj.hasOwnProperty(i) && res.push(i);\n        }\n        return res;\n    },\n    defineCustomErrorType = function(name) {\n        var res = function(message) {\n            this.name = name;\n            this.message = message;\n        };\n\n        res.prototype = new Error();\n\n        return res;\n    },\n    wrapOnFulfilled = function(onFulfilled, idx) {\n        return function(val) {\n            onFulfilled.call(this, val, idx);\n        };\n    },\n    emitUnhandledRejection = global.PromiseRejectionEvent?\n        function(reason, promise) {\n            new global.PromiseRejectionEvent(\n                'unhandledrejection',\n                {\n                    promise : promise,\n                    reason : reason\n                });\n        } :\n        typeof process === 'object' && process.emit?\n            function(reason, promise) {\n                process.emit('unhandledRejection', reason, promise);\n            } :\n            function() {};\n\n/**\n * @class Deferred\n * @exports vow:Deferred\n * @description\n * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n */\n\n/**\n * @constructor\n * @description\n * You can use `vow.defer()` instead of using this constructor.\n *\n * `new vow.Deferred()` gives the same result as `vow.defer()`.\n */\nvar Deferred = function() {\n    this._promise = new Promise();\n};\n\nDeferred.prototype = /** @lends Deferred.prototype */{\n    /**\n     * Returns the corresponding promise.\n     *\n     * @returns {vow:Promise}\n     */\n    promise : function() {\n        return this._promise;\n    },\n\n    /**\n     * Resolves the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.then(function(value) {\n     *     // value is \"'success'\" here\n     * });\n     *\n     * defer.resolve('success');\n     * ```\n     */\n    resolve : function(value) {\n        this._promise.isResolved() || this._promise._resolve(value);\n    },\n\n    /**\n     * Rejects the corresponding promise with the given `reason`.\n     *\n     * @param {*} reason\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.fail(function(reason) {\n     *     // reason is \"'something is wrong'\" here\n     * });\n     *\n     * defer.reject('something is wrong');\n     * ```\n     */\n    reject : function(reason) {\n        if(this._promise.isResolved()) {\n            return;\n        }\n\n        if(vow.isPromise(reason)) {\n            reason = reason.then(function(val) {\n                var defer = vow.defer();\n                defer.reject(val);\n                return defer.promise();\n            });\n            this._promise._resolve(reason);\n        }\n        else {\n            this._promise._reject(reason);\n        }\n    },\n\n    /**\n     * Notifies the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.progress(function(value) {\n     *     // value is \"'20%'\", \"'40%'\" here\n     * });\n     *\n     * defer.notify('20%');\n     * defer.notify('40%');\n     * ```\n     */\n    notify : function(value) {\n        this._promise.isResolved() || this._promise._notify(value);\n    }\n};\n\nvar PROMISE_STATUS = {\n    PENDING   : 0,\n    RESOLVED  : 1,\n    FULFILLED : 2,\n    REJECTED  : 3\n};\n\n/**\n * @class Promise\n * @exports vow:Promise\n * @description\n * The `Promise` class is used when you want to give to the caller something to subscribe to,\n * but not the ability to resolve or reject the deferred.\n */\n\n/**\n * @constructor\n * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n * @description\n * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n * In other case you should use `vow.defer()` and `defer.promise()` methods.\n * @example\n * ```js\n * function fetchJSON(url) {\n *     return new vow.Promise(function(resolve, reject, notify) {\n *         var xhr = new XMLHttpRequest();\n *         xhr.open('GET', url);\n *         xhr.responseType = 'json';\n *         xhr.send();\n *         xhr.onload = function() {\n *             if(xhr.response) {\n *                 resolve(xhr.response);\n *             }\n *             else {\n *                 reject(new TypeError());\n *             }\n *         };\n *     });\n * }\n * ```\n */\nvar Promise = function(resolver) {\n    this._value = undef;\n    this._status = PROMISE_STATUS.PENDING;\n    this._shouldEmitUnhandledRejection = true;\n\n    this._fulfilledCallbacks = [];\n    this._rejectedCallbacks = [];\n    this._progressCallbacks = [];\n\n    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n        var _this = this,\n            resolverFnLen = resolver.length;\n\n        try {\n            resolver(\n                function(val) {\n                    _this.isResolved() || _this._resolve(val);\n                },\n                resolverFnLen > 1?\n                    function(reason) {\n                        _this.isResolved() || _this._reject(reason);\n                    } :\n                    undef,\n                resolverFnLen > 2?\n                    function(val) {\n                        _this.isResolved() || _this._notify(val);\n                    } :\n                    undef);\n        }\n        catch(e) {\n            this._reject(e);\n        }\n    }\n};\n\nPromise.prototype = /** @lends Promise.prototype */ {\n    /**\n     * Returns the value of the fulfilled promise or the reason in case of rejection.\n     *\n     * @returns {*}\n     */\n    valueOf : function() {\n        return this._value;\n    },\n\n    /**\n     * Returns `true` if the promise is resolved.\n     *\n     * @returns {Boolean}\n     */\n    isResolved : function() {\n        return this._status !== PROMISE_STATUS.PENDING;\n    },\n\n    /**\n     * Returns `true` if the promise is fulfilled.\n     *\n     * @returns {Boolean}\n     */\n    isFulfilled : function() {\n        return this._status === PROMISE_STATUS.FULFILLED;\n    },\n\n    /**\n     * Returns `true` if the promise is rejected.\n     *\n     * @returns {Boolean}\n     */\n    isRejected : function() {\n        return this._status === PROMISE_STATUS.REJECTED;\n    },\n\n    /**\n     * Adds reactions to the promise.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n     */\n    then : function(onFulfilled, onRejected, onProgress, ctx) {\n        this._shouldEmitUnhandledRejection = false;\n        var defer = new Deferred();\n        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n        return defer.promise();\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n     *\n     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    'catch' : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n     *\n     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds a resolving reaction (for both fulfillment and rejection).\n     *\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(onResolved, ctx) {\n        var _this = this,\n            cb = function() {\n                return onResolved.call(this, _this);\n            };\n\n        return this.then(cb, cb, ctx);\n    },\n\n    /**\n     * Adds a resolving reaction (for both fulfillment and rejection). The returned promise will be fullfiled with the same value or rejected with the same reason as the original promise.\n     *\n     * @param {Function} onFinalized Callback that will be invoked after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    'finally' : function(onFinalized, ctx) {\n        var _this = this,\n            cb = function() {\n                return onFinalized.call(this);\n            };\n        return this\n            .then(cb, cb, ctx)\n            .then(function() {\n                return _this;\n            });\n    },\n\n    /**\n     * Adds a progress reaction.\n     *\n     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(onProgress, ctx) {\n        return this.then(undef, undef, onProgress, ctx);\n    },\n\n    /**\n     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n     *     // arg1 is \"1\", arg2 is \"'two'\" here\n     * });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve('two');\n     * ```\n     */\n    spread : function(onFulfilled, onRejected, ctx) {\n        return this.then(\n            function(val) {\n                return onFulfilled.apply(this, val);\n            },\n            onRejected,\n            ctx);\n    },\n\n    /**\n     * Like `then`, but terminates a chain of promises.\n     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer();\n     * defer.reject(Error('Internal error'));\n     * defer.promise().done(); // exception to be thrown\n     * ```\n     */\n    done : function(onFulfilled, onRejected, onProgress, ctx) {\n        this\n            .then(onFulfilled, onRejected, onProgress, ctx)\n            .fail(throwException);\n    },\n\n    /**\n     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n     * or immediately rejected if the promise is rejected.\n     *\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(delay) {\n        var timer,\n            promise = this.then(function(val) {\n                var defer = new Deferred();\n                timer = setTimeout(\n                    function() {\n                        defer.resolve(val);\n                    },\n                    delay);\n\n                return defer.promise();\n            });\n\n        promise.always(function() {\n            clearTimeout(timer);\n        });\n\n        return promise;\n    },\n\n    /**\n     * Returns a new promise that will be rejected in `timeout` milliseconds\n     * if the promise is not resolved beforehand.\n     *\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promiseWithTimeout1 = defer.promise().timeout(50),\n     *     promiseWithTimeout2 = defer.promise().timeout(200);\n     *\n     * setTimeout(\n     *     function() {\n     *         defer.resolve('ok');\n     *     },\n     *     100);\n     *\n     * promiseWithTimeout1.fail(function(reason) {\n     *     // promiseWithTimeout to be rejected in 50ms\n     * });\n     *\n     * promiseWithTimeout2.then(function(value) {\n     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n     * });\n     * ```\n     */\n    timeout : function(timeout) {\n        var defer = new Deferred(),\n            timer = setTimeout(\n                function() {\n                    defer.reject(new vow.TimedOutError('timed out'));\n                },\n                timeout);\n\n        this.then(\n            function(val) {\n                defer.resolve(val);\n            },\n            function(reason) {\n                defer.reject(reason);\n            });\n\n        defer.promise().always(function() {\n            clearTimeout(timer);\n        });\n\n        return defer.promise();\n    },\n\n    _vow : true,\n\n    _resolve : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        if(val === this) {\n            this._reject(TypeError('Can\\'t resolve promise with itself'));\n            return;\n        }\n\n        this._status = PROMISE_STATUS.RESOLVED;\n\n        if(val && !!val._vow) { // shortpath for vow.Promise\n            if(val.isFulfilled()) {\n                this._fulfill(val.valueOf());\n            }\n            else if(val.isRejected()) {\n                val._shouldEmitUnhandledRejection = false;\n                this._reject(val.valueOf());\n            }\n            else {\n                val.then(\n                    this._fulfill,\n                    this._reject,\n                    this._notify,\n                    this);\n            }\n\n            return;\n        }\n\n        if(isObject(val) || isFunction(val)) {\n            var then;\n            try {\n                then = val.then;\n            }\n            catch(e) {\n                this._reject(e);\n                return;\n            }\n\n            if(isFunction(then)) {\n                var _this = this,\n                    isResolved = false;\n\n                try {\n                    then.call(\n                        val,\n                        function(val) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._resolve(val);\n                        },\n                        function(err) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._reject(err);\n                        },\n                        function(val) {\n                            _this._notify(val);\n                        });\n                }\n                catch(e) {\n                    isResolved || this._reject(e);\n                }\n\n                return;\n            }\n        }\n\n        this._fulfill(val);\n    },\n\n    _fulfill : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.FULFILLED;\n        this._value = val;\n\n        this._callCallbacks(this._fulfilledCallbacks, val);\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _reject : function(reason) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.REJECTED;\n        this._value = reason;\n\n        this._callCallbacks(this._rejectedCallbacks, reason);\n\n        if(!this._rejectedCallbacks.length) {\n            var _this = this;\n            nextTick(function() {\n                if(_this._shouldEmitUnhandledRejection) {\n                    emitUnhandledRejection(reason, _this);\n                }\n            });\n        }\n\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _notify : function(val) {\n        this._callCallbacks(this._progressCallbacks, val);\n    },\n\n    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n        if(onRejected && !isFunction(onRejected)) {\n            ctx = onRejected;\n            onRejected = undef;\n        }\n        else if(onProgress && !isFunction(onProgress)) {\n            ctx = onProgress;\n            onProgress = undef;\n        }\n\n        if(onRejected) {\n            this._shouldEmitUnhandledRejection = false;\n        }\n\n        var cb;\n\n        if(!this.isRejected()) {\n            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n            this.isFulfilled()?\n                this._callCallbacks([cb], this._value) :\n                this._fulfilledCallbacks.push(cb);\n        }\n\n        if(!this.isFulfilled()) {\n            cb = { defer : defer, fn : onRejected, ctx : ctx };\n            this.isRejected()?\n                this._callCallbacks([cb], this._value) :\n                this._rejectedCallbacks.push(cb);\n        }\n\n        if(this._status <= PROMISE_STATUS.RESOLVED) {\n            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n        }\n    },\n\n    _callCallbacks : function(callbacks, arg) {\n        var len = callbacks.length;\n        if(!len) {\n            return;\n        }\n\n        var isResolved = this.isResolved(),\n            isFulfilled = this.isFulfilled(),\n            isRejected = this.isRejected();\n\n        nextTick(function() {\n            var i = 0, cb, defer, fn;\n            while(i < len) {\n                cb = callbacks[i++];\n                defer = cb.defer;\n                fn = cb.fn;\n\n                if(fn) {\n                    var ctx = cb.ctx,\n                        res;\n                    try {\n                        res = ctx? fn.call(ctx, arg) : fn(arg);\n                    }\n                    catch(e) {\n                        defer.reject(e);\n                        continue;\n                    }\n\n                    isFulfilled || isRejected?\n                        defer.resolve(res) :\n                        defer.notify(res);\n                }\n                else if(isFulfilled) {\n                    defer.resolve(arg);\n                }\n                else if(isRejected) {\n                    defer.reject(arg);\n                }\n                else {\n                    defer.notify(arg);\n                }\n            }\n        });\n    }\n};\n\n/** @lends Promise */\nvar staticMethods = {\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return vow.cast(value);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     */\n    all : function(iterable) {\n        return vow.all(iterable);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled or rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     */\n    allSettled : function(iterable) {\n        return vow.allSettled(iterable);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    race : function(iterable) {\n        return vow.anyResolved(iterable);\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        return vow.resolve(value);\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        return vow.reject(reason);\n    }\n};\n\nfor(var prop in staticMethods) {\n    staticMethods.hasOwnProperty(prop) &&\n        (Promise[prop] = staticMethods[prop]);\n}\n\nvar vow = /** @exports vow */ {\n    Deferred : Deferred,\n\n    Promise : Promise,\n\n    /**\n     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n     * It's equivalent to `new vow.Deferred()`.\n     *\n     * @returns {vow:Deferred}\n     */\n    defer : function() {\n        return new Deferred();\n    },\n\n    /**\n     * Static equivalent to `promise.then`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.fail`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(value, onRejected, ctx) {\n        return vow.when(value, undef, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.always`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(value, onResolved, ctx) {\n        return vow.when(value).always(onResolved, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.progress`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(value, onProgress, ctx) {\n        return vow.when(value).progress(onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.spread`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    spread : function(value, onFulfilled, onRejected, ctx) {\n        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.done`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     */\n    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Checks whether the given `value` is a promise-like object\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     *\n     * @example\n     * ```js\n     * vow.isPromise('something'); // returns false\n     * vow.isPromise(vow.defer().promise()); // returns true\n     * vow.isPromise({ then : function() { }); // returns true\n     * ```\n     */\n    isPromise : function(value) {\n        return isObject(value) && isFunction(value.then);\n    },\n\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return value && !!value._vow?\n            value :\n            vow.resolve(value);\n    },\n\n    /**\n     * Static equivalent to `promise.valueOf`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {*}\n     */\n    valueOf : function(value) {\n        return value && isFunction(value.valueOf)? value.valueOf() : value;\n    },\n\n    /**\n     * Static equivalent to `promise.isFulfilled`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isFulfilled : function(value) {\n        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n    },\n\n    /**\n     * Static equivalent to `promise.isRejected`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isRejected : function(value) {\n        return value && isFunction(value.isRejected)? value.isRejected() : false;\n    },\n\n    /**\n     * Static equivalent to `promise.isResolved`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isResolved : function(value) {\n        return value && isFunction(value.isResolved)? value.isResolved() : true;\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        var res = vow.defer();\n        res.resolve(value);\n        return res.promise();\n    },\n\n    /**\n     * Returns a promise that has already been fulfilled with the given `value`.\n     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    fulfill : function(value) {\n        var defer = vow.defer(),\n            promise = defer.promise();\n\n        defer.resolve(value);\n\n        return promise.isFulfilled()?\n            promise :\n            promise.then(null, function(reason) {\n                return reason;\n            });\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        var defer = vow.defer();\n        defer.reject(reason);\n        return defer.promise();\n    },\n\n    /**\n     * Invokes the given function `fn` with arguments `args`\n     *\n     * @param {Function} fn\n     * @param {...*} [args]\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var promise1 = vow.invoke(function(value) {\n     *         return value;\n     *     }, 'ok'),\n     *     promise2 = vow.invoke(function() {\n     *         throw Error();\n     *     });\n     *\n     * promise1.isFulfilled(); // true\n     * promise1.valueOf(); // 'ok'\n     * promise2.isRejected(); // true\n     * promise2.valueOf(); // instance of Error\n     * ```\n     */\n    invoke : function(fn, args) {\n        var len = Math.max(arguments.length - 1, 0),\n            callArgs;\n        if(len) { // optimization for V8\n            callArgs = Array(len);\n            var i = 0;\n            while(i < len) {\n                callArgs[i++] = arguments[i];\n            }\n        }\n\n        try {\n            return vow.resolve(callArgs?\n                fn.apply(global, callArgs) :\n                fn.call(global));\n        }\n        catch(e) {\n            return vow.reject(e);\n        }\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * with array:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise(), 3])\n     *     .then(function(value) {\n     *          // value is \"[1, 2, 3]\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     *\n     * @example\n     * with object:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n     *     .then(function(value) {\n     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     */\n    all : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            len = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!len) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var i = len;\n        vow._forEach(\n            iterable,\n            function(value, idx) {\n                res[keys[idx]] = value;\n                if(!--i) {\n                    defer.resolve(res);\n                }\n            },\n            defer.reject,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n     *     promise1.isRejected(); // returns true\n     *     promise1.valueOf(); // returns \"'error'\"\n     *     promise2.isFulfilled(); // returns true\n     *     promise2.valueOf(); // returns \"'ok'\"\n     * });\n     *\n     * defer1.reject('error');\n     * defer2.resolve('ok');\n     * ```\n     */\n    allResolved : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            i = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!i) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var onResolved = function() {\n                --i || defer.resolve(iterable);\n            };\n\n        vow._forEach(\n            iterable,\n            onResolved,\n            onResolved,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    allSettled : function(iterable) {\n        return vow.allResolved(iterable).then(function() {\n            var isPromisesArray = isArray(iterable),\n                keys = isPromisesArray?\n                    getArrayKeys(iterable) :\n                    getObjectKeys(iterable),\n                res = isPromisesArray? [] : {},\n                len = keys.length, i = 0, key, value, item;\n\n            while(i < len) {\n                key = keys[i++];\n                promise = iterable[key];\n                value = promise.valueOf();\n                item = promise.isRejected()?\n                    { status : 'rejected', reason : value } :\n                    { status : 'fulfilled', value : value };\n\n                isPromisesArray?\n                    res.push(item) :\n                    res[key] = item;\n            }\n\n            return res;\n        });\n    },\n\n    allPatiently : function(iterable) {\n        return vow.allResolved(iterable).then(function() {\n            var isPromisesArray = isArray(iterable),\n                keys = isPromisesArray?\n                    getArrayKeys(iterable) :\n                    getObjectKeys(iterable),\n                rejectedPromises, fulfilledPromises,\n                len = keys.length, i = 0, key, promise;\n\n            if(!len) {\n                return isPromisesArray? [] : {};\n            }\n\n            while(i < len) {\n                key = keys[i++];\n                promise = iterable[key];\n                if(vow.isRejected(promise)) {\n                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n                    isPromisesArray?\n                        rejectedPromises.push(promise.valueOf()) :\n                        rejectedPromises[key] = promise.valueOf();\n                }\n                else if(!rejectedPromises) {\n                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n                }\n            }\n\n            if(rejectedPromises) {\n                throw rejectedPromises;\n            }\n\n            return fulfilledPromises;\n        });\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    any : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        var i = 0, reason;\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            function(e) {\n                i || (reason = e);\n                ++i === len && defer.reject(reason);\n            },\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    anyResolved : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            defer.reject,\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Static equivalent to `promise.delay`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(value, delay) {\n        return vow.resolve(value).delay(delay);\n    },\n\n    /**\n     * Static equivalent to `promise.timeout`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     */\n    timeout : function(value, timeout) {\n        return vow.resolve(value).timeout(timeout);\n    },\n\n    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n        var len = keys? keys.length : promises.length,\n            i = 0;\n\n        while(i < len) {\n            vow.when(\n                promises[keys? keys[i] : i],\n                wrapOnFulfilled(onFulfilled, i),\n                onRejected,\n                onProgress,\n                ctx);\n            ++i;\n        }\n    },\n\n    TimedOutError : defineCustomErrorType('TimedOut')\n};\n\nvar defineAsGlobal = true;\nif(typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = vow;\n    defineAsGlobal = false;\n}\n\nif(typeof modules === 'object' && isFunction(modules.define)) {\n    modules.define('vow', function(provide) {\n        provide(vow);\n    });\n    defineAsGlobal = false;\n}\n\nif(typeof define === 'function') {\n    define(function(require, exports, module) {\n        module.exports = vow;\n    });\n    defineAsGlobal = false;\n}\n\ndefineAsGlobal && (global.vow = vow);\n\n})(typeof window !== 'undefined'? window : global);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vow/lib/vow.js\n// module id = 137\n// module chunks = 0","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xhr/~/global/window.js\n// module id = 138\n// module chunks = 0","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xhr/~/once/once.js\n// module id = 139\n// module chunks = 0","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xtend/immutable.js\n// module id = 140\n// module chunks = 0","var map = {\n\t\"./colorscheme\": 22,\n\t\"./colorscheme.js\": 22,\n\t\"./columns\": 23,\n\t\"./columns.js\": 23,\n\t\"./config\": 24,\n\t\"./config.js\": 24,\n\t\"./package\": 25,\n\t\"./package.js\": 25,\n\t\"./selection/Selection\": 8,\n\t\"./selection/Selection.js\": 8,\n\t\"./selection/SelectionCol\": 9,\n\t\"./selection/SelectionCol.js\": 9,\n\t\"./selection/index\": 41,\n\t\"./selection/index.js\": 41,\n\t\"./user\": 26,\n\t\"./user.js\": 26,\n\t\"./visOrdering\": 27,\n\t\"./visOrdering.js\": 27,\n\t\"./visibility\": 28,\n\t\"./visibility.js\": 28,\n\t\"./zoomer\": 29,\n\t\"./zoomer.js\": 29\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 141;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/g ^\\.\\/.*$\n// module id = 141\n// module chunks = 0","var map = {\n\t\"./bmath\": 12,\n\t\"./bmath.js\": 12,\n\t\"./export\": 13,\n\t\"./export.js\": 13,\n\t\"./file\": 14,\n\t\"./file.js\": 14,\n\t\"./index\": 34,\n\t\"./index.js\": 34,\n\t\"./loader\": 15,\n\t\"./loader.js\": 15,\n\t\"./proxy\": 16,\n\t\"./proxy.js\": 16,\n\t\"./seqgen\": 35,\n\t\"./seqgen.js\": 35,\n\t\"./svg\": 10,\n\t\"./svg.js\": 10,\n\t\"./tree\": 36,\n\t\"./tree.js\": 36\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 142;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils ^\\.\\/.*$\n// module id = 142\n// module chunks = 0"],"sourceRoot":""}